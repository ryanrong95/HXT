webpackJsonp([46],{"83/3":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("gyMJ"),s=a("dciI"),i=(a("PJh5"),{data:function(){return{CarrierList:[],loading:!0,timer1:"",warehouseID:sessionStorage.getItem("UserWareHouse"),total:0,PageIndex:1,value:"",titles:[{type:"index",width:60,align:"center"},{title:"运单号",slot:"Code"},{title:"到货方式",slot:"OrderID"},{title:"承运商",slot:"CarrierName"},{title:"暂存录入时间",slot:"CreateDate"},{title:"入仓号",slot:"EnterCode"},{title:"暂存天数",slot:"TempDays"},{title:"备注",slot:"Summary"},{title:"操作",slot:"action",width:150,align:"center"}],listdata:[],searchdata:{WhID:sessionStorage.getItem("UserWareHouse"),Code:"",CarrierID:"",ShelveID:"",StartTime:"",EndTime:"",PartNumber:"",PageIndex:1,PageSize:20},tableHeight:500}},computed:{Spearatedrawer:{get:function(){return this.$store.state.common.Spearatedrawer},set:function(e){}},showPageArr:function(){return this.$store.state.common.PageArr}},mounted:function(){this.setnva(),this.Carriers(),this.SparateWaybill(this.searchdata),this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-100},methods:{setnva:function(){this.$store.dispatch("setnvadata",[{title:"已有暂存",href:"/Stock/Separate"}])},changeDatePicker:function(e){this.searchdata.StartTime=e[0],this.searchdata.EndTime=e[1]},clearsearch:function(){this.loading=!0,this.SparateWaybill(this.searchdata)},uploadlist:function(e){console.log(e),0==e&&(this.loading=!0,this.$store.dispatch("setSpearatedrawer",!1),this.$router.go(-1),this.SparateWaybill(this.searchdata))},show:function(e){this.$store.dispatch("setSpearatedrawer",!0),this.$router.push({path:"/Separate/list/revise",query:{detailID:e}})},changepage:function(e){this.loading=!0,this.searchdata.PageIndex=e,this.SparateWaybill(this.searchdata)},changepagesize:function(e){this.loading=!0,this.searchdata.PageSize=e,this.SparateWaybill(this.searchdata)},SparateWaybill:function(e){var t=this;Object(s._25)(e).then(function(e){t.total=e.obj.Total,t.listdata=e.obj.Data,t.loading=!1})},Carriers:function(){var e=this;Object(r.d)().then(function(t){e.CarrierList=t.obj})},search_btn:function(){this.loading=!0,this.searchdata.PageIndex=1,this.SparateWaybill(this.searchdata)},clear_btns:function(){console.log(this.searchdata),this.searchdata.Code="",this.searchdata.CarrierID="",this.searchdata.ShelveID="",this.searchdata.StartTime="",this.searchdata.EndTime="",this.searchdata.PartNumber="",this.searchdata.PageIndex=1,this.loading=!0,this.$refs.element.handleClear(),this.SparateWaybill(this.searchdata)}}}),n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("label",{attrs:{for:"运单号"}},[e._v("运单号：")]),e._v(" "),a("Input",{staticClass:"setinputs",attrs:{placeholder:"运单号"},model:{value:e.searchdata.Code,callback:function(t){e.$set(e.searchdata,"Code","string"==typeof t?t.trim():t)},expression:"searchdata.Code"}}),e._v(" "),a("label",{attrs:{for:"运单号"}},[e._v("承运商：")]),e._v(" "),a("Select",{staticClass:"setinputs",attrs:{placeholder:""},model:{value:e.searchdata.CarrierID,callback:function(t){e.$set(e.searchdata,"CarrierID",t)},expression:"searchdata.CarrierID"}},e._l(e.CarrierList,function(t){return a("Option",{key:t.ID,attrs:{value:t.ID}},[e._v(e._s(t.Name))])}),1),e._v(" "),a("label",{attrs:{for:"库位"}},[e._v("库位：")]),e._v(" "),a("Input",{staticClass:"setinputs",attrs:{placeholder:"库位"},model:{value:e.searchdata.ShelveID,callback:function(t){e.$set(e.searchdata,"ShelveID","string"==typeof t?t.trim():t)},expression:"searchdata.ShelveID"}}),e._v(" "),a("label",{attrs:{for:"库位"}},[e._v("型号：")]),e._v(" "),a("Input",{staticClass:"setinputs",attrs:{placeholder:"型号"},model:{value:e.searchdata.PartNumber,callback:function(t){e.$set(e.searchdata,"PartNumber","string"==typeof t?t.trim():t)},expression:"searchdata.PartNumber"}}),e._v(" "),a("label",{attrs:{for:"暂存录入时间："}},[e._v("暂存录入时间：")]),e._v(" "),a("DatePicker",{ref:"element",staticClass:"setinputs",attrs:{type:"daterange","split-panels":"",placeholder:"请选择一个时间段",clearable:!1},on:{"on-change":e.changeDatePicker}}),e._v(" "),a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:e.search_btn}},[e._v("查询")]),e._v(" "),a("Button",{attrs:{type:"error",icon:"ios-trash"},on:{click:e.clear_btns}},[e._v("清空")])],1),e._v(" "),a("div",{staticStyle:{"padding-top":"40px"}},[a("Table",{ref:"table",attrs:{columns:e.titles,data:e.listdata,loading:e.loading,"max-height":e.tableHeight},scopedSlots:e._u([{key:"Code",fn:function(t){var r=t.row;return t.index,[a("p",[e._v(e._s(r.Waybill.Code))])]}},{key:"OrderID",fn:function(t){var r=t.row;return t.index,[a("p",[e._v(e._s(r.Waybill.TypeDes))])]}},{key:"CarrierName",fn:function(t){var r=t.row;return t.index,[a("p",[e._v(e._s(r.Waybill.CarrierName))])]}},{key:"EnterCode",fn:function(t){var r=t.row;return t.index,[a("p",[e._v(e._s(r.Waybill.EnterCode))])]}},{key:"CreateDate",fn:function(t){var r=t.row;return t.index,[a("span",[e._v(e._s(e._f("showDate")(r.Waybill.CreateDate)))])]}},{key:"TempDays",fn:function(t){var r=t.row;return t.index,[a("span",[e._v(e._s(r.Waybill.TempDays))])]}},{key:"Summary",fn:function(t){var r=t.row;return t.index,[a("span",[e._v(e._s(r.Waybill.Summary))])]}},{key:"action",fn:function(t){var r=t.row;return t.index,[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.show(r.Waybill.ID)}}},[e._v("修改")])]}}])}),e._v(" "),a("div",{staticClass:"pagebox"},[a("Page",{attrs:{"show-total":"","show-elevator":"","show-sizer":"",total:e.total,"page-size":e.searchdata.PageSize,current:e.searchdata.pageindex,"page-size-opts":e.showPageArr},on:{"on-change":e.changepage,"on-page-size-change":e.changepagesize}})],1)],1),e._v(" "),a("Drawer",{attrs:{title:"",width:"90"},on:{"on-visible-change":e.uploadlist},model:{value:e.Spearatedrawer,callback:function(t){e.Spearatedrawer=t},expression:"Spearatedrawer"}},[1==e.Spearatedrawer?a("router-view"):e._e()],1)],1)},staticRenderFns:[]};var o=a("VU/8")(i,n,!1,function(e){a("qjdr")},null,null);t.default=o.exports},qjdr:function(e,t){}});
//# sourceMappingURL=46.42327a0691ecf58dcea4.js.map