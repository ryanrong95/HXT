{"version":3,"sources":["webpack:///src/Pages/Transport/Customswindow.vue","webpack:///./src/Pages/Transport/Customswindow.vue?8754","webpack:///./src/Pages/Transport/Customswindow.vue"],"names":["Customswindow","name","data","_this","this","isDisabled","key","Status","loading","isdeclare","selectionarr","PageIndex","PageSize","Total","columns","type","width","align","title","slot","maxWidth","render","h","params","attrs","class","reportList","index","Items","map","item","Procut","Manufacturer","Declare","Quantity","reportList2","tableHeight","created","setnva","$route","id","getlist","setdisable","beforeRouteUpdate","to","from","next","mounted","window","innerHeight","$refs","table","$el","offsetTop","computed","showPageArr","$store","state","common","PageArr","methods","_methods","dispatch","href","_this2","console","log","First","Object","CgApi","then","res","obj","Data","forEach","_disabled","search_btn","ok_declare","_this3","BoxIds","i","length","push","TinyOrderID","AdminID","sessionStorage","getItem","val","$Message","error","content","msg","duration","success","cancel_declare","selection_chenge","selection","AskCustoms","closable","top","defineProperty_default","value","Transport_Customswindow","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","float","position","left","placeholder","clearable","on","on-clear","model","callback","$$v","trim","expression","click","icon","disabled","ref","border","max-height","on-selection-change","scopedSlots","_u","fn","row","_s","PackageType","EnterCode","_f","BoxingDate","Packer","TotalWeight","TotalBoxCode","_l","text-align","BoxCode","PartNumber","Condition","IsCIQ","color","_e","IsCCC","IsEmbargo","IsHighPrice","total","show-total","show-elevator","show-sizer","current","page-size","page-size-opts","on-change","changepage","on-page-size-change","changepagesize","on-ok","on-cancel","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/59.db1e786c36d9c7e4c6fd.js","sourcesContent":["<style>\r\n#Customsbox .title {\r\n  line-height: 24px;\r\n  border-left: 5px solid #2d8cf0;\r\n  font-weight: bold;\r\n  font-size: 16px;\r\n  text-indent: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n#Customsbox .subCol ul li {\r\n  margin: 0 -18px;\r\n  list-style: none;\r\n  text-align: center;\r\n  padding: 5px;\r\n  border-bottom: 1px solid #ccc;\r\n  overflow: hidden;\r\n  line-height: 45px;\r\n}\r\n#Customsbox .subCol ul li:last-child {\r\n  border-bottom: none;\r\n}\r\n#Customsbox .tablebox {\r\n  clear: both;\r\n  padding-top: 20px;\r\n}\r\n#Customsbox .pagebox{\r\n  text-align: right;\r\n  margin-top: 20px;\r\n}\r\n.Apply_btn{\r\n  float: right;\r\n}\r\n</style>\r\n<template>\r\n  <div class=\"Customswindow\" id=\"Customsbox\">\r\n    <p class=\"windowtitle title\">装箱清单</p>\r\n    <div>\r\n      <ButtonGroup style=\"width:328px\">\r\n        <Input\r\n          v-model.trim=\"key\"\r\n          placeholder=\"输入箱号/型号/品牌/小订单号/订单号\"\r\n          clearable\r\n          @on-clear=\"search_btn\"\r\n          style=\"width:80%;float:left;position: relative;left: 3px\"\r\n        />\r\n        <!-- <Button style=\"float:left\" @click=\"search_pro\" type=\"primary\">筛选</Button> -->\r\n        <Button style=\"float:left\" type=\"primary\" @click=\"search_btn\">筛选</Button>\r\n      </ButtonGroup>\r\n      <div class=\"Apply_btn\">\r\n        <!-- <Button type=\"text\" icon=\"ios-create-outline\" ghost @click=\"backpagetest\">跳转测试</Button> -->\r\n        <Button type=\"warning\" icon=\"ios-create-outline\" :disabled='isDisabled==true?true:false'  @click=\"AskCustoms\">报关申请</Button>\r\n      </div>\r\n    </div>\r\n    <div class=\"tablebox\">\r\n      <Table :columns=\"columns\" \r\n             :data=\"reportList\" :loading=\"loading\" \r\n             :border=\"reportList.length > 0\" \r\n             @on-selection-change=\"selection_chenge\"\r\n             ref=\"table\" :max-height=\"tableHeight\"\r\n             >\r\n        <template slot-scope=\"{ row, index }\" slot=\"orderID\">\r\n          {{row.TinyOrderID}}\r\n        </template>\r\n        <!-- <template slot-scope=\"{ row, index }\" slot=\"Boxcode\">\r\n           {{row.BoxCode}}\r\n        </template> -->\r\n        <template slot-scope=\"{ row, index }\" slot=\"PackageType\">\r\n           {{row.PackageType}}\r\n        </template>\r\n        <template slot-scope=\"{ row, index }\" slot=\"Entercode\">\r\n           {{row.EnterCode}}\r\n        </template>\r\n        <template slot-scope=\"{ row, index }\" slot=\"BoxingDate\">\r\n           {{row.BoxingDate|showDateexact}}\r\n        </template>\r\n        <template slot-scope=\"{ row, index }\" slot=\"Admin\">\r\n           {{row.Packer}}\r\n        </template>\r\n        <template slot-scope=\"{ row, index }\" slot=\"AVGWeight\">\r\n           {{row.TotalWeight}}\r\n        </template>\r\n        <template slot-scope=\"{ row, index }\" slot=\"total\">\r\n           {{row.TotalBoxCode}}\r\n        </template>\r\n        <template slot-scope=\"{ row, index }\" slot=\"boxcode\">\r\n          <div class=\"subCol\">\r\n            <ul>\r\n              <li v-for=\"item in row.Items\" style=\"text-align: left;\">\r\n                <span>{{item.Declare.BoxCode|showboxcode}}</span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </template>\r\n        <template slot-scope=\"{ row, index }\" slot=\"PartNumber\">\r\n          <div class=\"subCol\">\r\n            <ul>\r\n              <li v-for=\"item in row.Items\" style=\"text-align: left;\">\r\n                <span>{{item.Procut.PartNumber}}</span>\r\n                <span v-if=\"item.Condition!=null\">\r\n                      <Tag v-if=\"item.Condition.IsCIQ==true\" color=\"primary\">商检</Tag>\r\n                      <Tag v-if=\"item.Condition.IsCCC==true\" color=\"warning\">CCC</Tag>\r\n                      <Tag v-if=\"item.Condition.IsEmbargo==true\" color=\"error\">禁运</Tag>\r\n                      <Tag v-if=\"item.Condition.IsHighPrice==true\" color=\"magenta\">高价值</Tag>\r\n                      <!-- <Tag  color=\"primary\">商检</Tag>\r\n                      <Tag  color=\"warning\">CCC</Tag>\r\n                      <Tag  color=\"error\">禁运</Tag>\r\n                      <Tag  color=\"magenta\">高价值</Tag> -->\r\n                </span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </template>\r\n      </Table>\r\n    </div>\r\n    <div class=\"pagebox\">\r\n      <Page :total=\"Total\" \r\n       show-total\r\n       show-elevator \r\n       show-sizer\r\n      :current='PageIndex' \r\n      :page-size='PageSize'\r\n      @on-change='changepage' \r\n      :page-size-opts=\"showPageArr\"\r\n      @on-page-size-change=\"changepagesize\"\r\n      />\r\n    </div>\r\n    <!-- 申报窗口确认 开始 -->\r\n    <Modal v-model=\"isdeclare\" title=\"提示\" @on-ok=\"ok_declare\" @on-cancel=\"cancel_declare\">\r\n      <p>您是否确认申请报关？</p>\r\n    </Modal>\r\n    <!-- 申报窗口确认 结束-->\r\n  </div>\r\n</template>\r\n<script >\r\n//  库位，规格 是可选择的？（建议下拉选择可输入）\r\nimport $ from \"jquery\";\r\nimport {CgDelcarelist,CustomsApply} from \"../../api/CgApi\"\r\n// import {GetUsableShelves,boxproducts,BoxingSpecs,GetBoxes,,ChangeBoxCode} from \"../../api\";\r\nexport default {\r\n  name: \"Customswindow\",\r\n  data() {\r\n    return {\r\n      isDisabled:false,\r\n      key: \"\",\r\n      Status:20,\r\n      loading: true,\r\n      isdeclare: false, //申报弹窗\r\n      selectionarr: [], //全选与多选\r\n      PageIndex:1,\r\n      PageSize:20,\r\n      Total:0,\r\n      columns: [\r\n        {\r\n          type: 'selection',\r\n          width: 60,\r\n          align: 'center'\r\n        },\r\n        { title: \"小订单号\", slot: \"orderID\", align: \"center\",maxWidth:100 },\r\n         { title: \"入仓号\", slot: \"Entercode\", align: \"center\",maxWidth:80},\r\n        { title: \"箱号\", slot: \"boxcode\",align: \"center\", width:180,},\r\n       \r\n        \r\n        \r\n        {\r\n          title: \"型号\",\r\n          slot: \"PartNumber\",\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"品牌\",\r\n          key: \"list\",\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            return h(\r\n              \"div\",\r\n              {\r\n                attrs: {\r\n                  class: \"subCol\"\r\n                }\r\n              },\r\n              [\r\n                h(\r\n                  \"ul\",\r\n                  this.reportList[params.index].Items.map(item => {\r\n                    return h(\"li\", {}, item.Procut.Manufacturer);\r\n                  })\r\n                )\r\n              ]\r\n            );\r\n          }\r\n        },\r\n        {\r\n          title: \"申报数量\",\r\n          key: \"list\",\r\n          align: \"center\",\r\n          width:100,\r\n          render: (h, params) => {\r\n            return h(\r\n              \"div\",\r\n              {\r\n                attrs: {\r\n                  class: \"subCol\"\r\n                }\r\n              },\r\n              [\r\n                h(\r\n                  \"ul\",\r\n                  this.reportList[params.index].Items.map(item => {\r\n                    return h(\"li\", {}, item.Declare.Quantity);\r\n                  })\r\n                )\r\n              ]\r\n            );\r\n          }\r\n        },\r\n        { title: \"总重量(Kg)\", slot: \"AVGWeight\", align: \"center\",maxWidth:80},\r\n        { title: \"总箱数\", slot: \"total\", align: \"center\",maxWidth:80},\r\n         { title: \"包装码\", slot: \"PackageType\", align: \"center\",maxWidth:80},\r\n        { title: \"装箱时间\", slot: \"BoxingDate\", align: \"center\",maxWidth:100},\r\n        { title: \"装箱人\", slot: \"Admin\", align: \"center\",maxWidth:80},\r\n      ],\r\n      reportList2:[],\r\n      reportList: [],\r\n      tableHeight:600,\r\n    };\r\n  },\r\n  created() {\r\n    this.setnva();\r\n    this.Status=this.$route.params.id;\r\n    this.getlist() \r\n    this.setdisable()\r\n  },\r\n   beforeRouteUpdate(to,from,next){\r\n       this.Status=to.params.id;\r\n       this.PageIndex=1,\r\n       this.PageSize=20,\r\n       this.key='',\r\n       this.setdisable()\r\n      this.getlist()\r\n        next()\r\n  },\r\n  mounted() {\r\n    this.tableHeight = window.innerHeight - this.$refs.table.$el.offsetTop - 100\r\n  },\r\n  computed: {\r\n    showPageArr(){\r\n        return this.$store.state.common.PageArr;\r\n      }\r\n  },\r\n  methods: {\r\n    setdisable(){\r\n      if(this.Status==20){\r\n        this.isDisabled=false;\r\n      }else{\r\n        this.isDisabled=true;\r\n      }\r\n      // this.PageIndex=1;\r\n    },\r\n    setnva() {\r\n      var cc = [\r\n        {\r\n          title: \"报关申报\",\r\n          href: \"/Transport/Customswindow\"\r\n        }\r\n      ];\r\n      this.$store.dispatch(\"setnvadata\", cc);\r\n    },\r\n    getlist(){  //获取报关数据\r\n    console.log(this.PageIndex)\r\n      var data={\r\n        PageIndex:this.PageIndex,//页码\r\n        PageSize:this.PageSize,//单页条数\r\n        Status:this.Status,//枚举请参考，目前我们只涉及20（未申报），30（已申报）\r\n        // Packer:sessionStorage.getItem(\"userID\"),//装箱人\r\n        First:this.key//型号、厂商、箱号，陈翰觉得这样做不是很合理？\r\n      }\r\n        CgDelcarelist(data).then(res=>{\r\n          console.log(res)\r\n          this.Total=res.obj.Total;\r\n          if(res.obj.Total>0){\r\n              this.reportList=res.obj.Data;\r\n            if(this.Status==30){\r\n              this.reportList.forEach(item => {\r\n                item._disabled =true;\r\n              })\r\n            }\r\n          }else{\r\n            this.reportList=[];            \r\n          }\r\n          this.loading=false;\r\n        })\r\n    },\r\n    search_btn(){ //根据信号品牌筛选\r\n      this.loading=true;\r\n      this.PageIndex=1;\r\n      this.getlist()\r\n    },\r\n    ok_declare() {\r\n      //确认申请报关\r\n       this.isDisabled=true;\r\n       var BoxIds=[]\r\n      for (var i = 0; i < this.selectionarr.length; i++) {\r\n        BoxIds.push(this.selectionarr[i].TinyOrderID);\r\n      }\r\n      console.log(BoxIds);\r\n      var data={\r\n        AdminID:sessionStorage.getItem(\"userID\"),\r\n        TinyOrderID:BoxIds\r\n      }\r\n      CustomsApply(data).then(res => {\r\n        this.isDisabled=false;\r\n        if (res.val == 400) {\r\n          this.$Message.error({\r\n            content:res.msg,\r\n            duration: 5\r\n          });\r\n        } else {\r\n          this.$Message.success(\"申报成功\");\r\n          this.getlist();\r\n        }\r\n      });\r\n    },\r\n    cancel_declare() {\r\n      //取消申请报关\r\n    },\r\n    selection_chenge(selection) {\r\n      this.selectionarr = selection;\r\n    },\r\n    AskCustoms() {\r\n      //报关申请\r\n      if (this.selectionarr.length <=0) {\r\n        this.$Message.error({\r\n          content: \"至少选择一个要申请报关的产品\",\r\n          duration: 1,\r\n          closable: true,\r\n          top: 50\r\n        });\r\n      } else {\r\n        this.isdeclare = true;\r\n      }\r\n    },\r\n    search_btn() {\r\n      //筛选\r\n      this.loading = true;\r\n      this.getlist();\r\n    },\r\n    clear_search() {\r\n      //清空筛选\r\n      this.loading = true;\r\n      this.getlist();\r\n    },\r\n    //分页\r\n    changepage(value){\r\n       this.loading = true;\r\n       this.PageIndex=value;\r\n       this.getlist()\r\n    },\r\n    changepagesize(value){\r\n       this.loading = true;\r\n       this.PageSize=value;\r\n       this.getlist()\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/Pages/Transport/Customswindow.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Customswindow\",attrs:{\"id\":\"Customsbox\"}},[_c('p',{staticClass:\"windowtitle title\"},[_vm._v(\"装箱清单\")]),_vm._v(\" \"),_c('div',[_c('ButtonGroup',{staticStyle:{\"width\":\"328px\"}},[_c('Input',{staticStyle:{\"width\":\"80%\",\"float\":\"left\",\"position\":\"relative\",\"left\":\"3px\"},attrs:{\"placeholder\":\"输入箱号/型号/品牌/小订单号/订单号\",\"clearable\":\"\"},on:{\"on-clear\":_vm.search_btn},model:{value:(_vm.key),callback:function ($$v) {_vm.key=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"key\"}}),_vm._v(\" \"),_c('Button',{staticStyle:{\"float\":\"left\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.search_btn}},[_vm._v(\"筛选\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"Apply_btn\"},[_c('Button',{attrs:{\"type\":\"warning\",\"icon\":\"ios-create-outline\",\"disabled\":_vm.isDisabled==true?true:false},on:{\"click\":_vm.AskCustoms}},[_vm._v(\"报关申请\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"tablebox\"},[_c('Table',{ref:\"table\",attrs:{\"columns\":_vm.columns,\"data\":_vm.reportList,\"loading\":_vm.loading,\"border\":_vm.reportList.length > 0,\"max-height\":_vm.tableHeight},on:{\"on-selection-change\":_vm.selection_chenge},scopedSlots:_vm._u([{key:\"orderID\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(\"\\n        \"+_vm._s(row.TinyOrderID)+\"\\n      \")]}},{key:\"PackageType\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(\"\\n         \"+_vm._s(row.PackageType)+\"\\n      \")]}},{key:\"Entercode\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(\"\\n         \"+_vm._s(row.EnterCode)+\"\\n      \")]}},{key:\"BoxingDate\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(\"\\n         \"+_vm._s(_vm._f(\"showDateexact\")(row.BoxingDate))+\"\\n      \")]}},{key:\"Admin\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(\"\\n         \"+_vm._s(row.Packer)+\"\\n      \")]}},{key:\"AVGWeight\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(\"\\n         \"+_vm._s(row.TotalWeight)+\"\\n      \")]}},{key:\"total\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(\"\\n         \"+_vm._s(row.TotalBoxCode)+\"\\n      \")]}},{key:\"boxcode\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('div',{staticClass:\"subCol\"},[_c('ul',_vm._l((row.Items),function(item){return _c('li',{staticStyle:{\"text-align\":\"left\"}},[_c('span',[_vm._v(_vm._s(_vm._f(\"showboxcode\")(item.Declare.BoxCode)))])])}),0)])]}},{key:\"PartNumber\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('div',{staticClass:\"subCol\"},[_c('ul',_vm._l((row.Items),function(item){return _c('li',{staticStyle:{\"text-align\":\"left\"}},[_c('span',[_vm._v(_vm._s(item.Procut.PartNumber))]),_vm._v(\" \"),(item.Condition!=null)?_c('span',[(item.Condition.IsCIQ==true)?_c('Tag',{attrs:{\"color\":\"primary\"}},[_vm._v(\"商检\")]):_vm._e(),_vm._v(\" \"),(item.Condition.IsCCC==true)?_c('Tag',{attrs:{\"color\":\"warning\"}},[_vm._v(\"CCC\")]):_vm._e(),_vm._v(\" \"),(item.Condition.IsEmbargo==true)?_c('Tag',{attrs:{\"color\":\"error\"}},[_vm._v(\"禁运\")]):_vm._e(),_vm._v(\" \"),(item.Condition.IsHighPrice==true)?_c('Tag',{attrs:{\"color\":\"magenta\"}},[_vm._v(\"高价值\")]):_vm._e()],1):_vm._e()])}),0)])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagebox\"},[_c('Page',{attrs:{\"total\":_vm.Total,\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\",\"current\":_vm.PageIndex,\"page-size\":_vm.PageSize,\"page-size-opts\":_vm.showPageArr},on:{\"on-change\":_vm.changepage,\"on-page-size-change\":_vm.changepagesize}})],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"提示\"},on:{\"on-ok\":_vm.ok_declare,\"on-cancel\":_vm.cancel_declare},model:{value:(_vm.isdeclare),callback:function ($$v) {_vm.isdeclare=$$v},expression:\"isdeclare\"}},[_c('p',[_vm._v(\"您是否确认申请报关？\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-48df7959\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Pages/Transport/Customswindow.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-48df7959\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Customswindow.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Customswindow.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Customswindow.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-48df7959\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Customswindow.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Pages/Transport/Customswindow.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}