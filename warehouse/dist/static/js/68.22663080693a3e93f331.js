webpackJsonp([68],{uPiK:function(t,e){},wIfN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("mvHQ"),i=a.n(s),n=(a("3PyT"),a("dciI")),l={name:"Documentupload",data:function(){return{loading:!0,Selectrow:[],warehouseID:sessionStorage.getItem("UserWareHouse"),total:0,search_data:{warehouseid:sessionStorage.getItem("UserWareHouse"),code:null,client:null,carrier:null,status:0,pageindex:1,pagesize:5},statusArr:[{value:0,label:"全部"},{value:1,label:"未上传"},{value:2,label:"已上传"}],titlelist:[{type:"selection",width:60,align:"center"},{type:"index",width:60,align:"center"},{title:"入仓号",key:"EnterCode",align:"center"},{title:"公司名称",key:"ClientName",align:"center"},{title:"承运商",key:"CarrierName",align:"center"},{title:"送货单号",key:"ID",align:"center"},{title:"上传状态",key:"status",align:"center"},{title:"操作",key:"action",align:"center",render:function(t,e){return t("div",[t("Button",{props:{type:"primary",size:"small",icon:"ios-cloud-upload"},style:{marginRight:"5px"},on:{click:function(){}}},"传照"),t("Button",{props:{type:"primary",size:"small",icon:"md-reverse-camera"},on:{click:function(){}}},"拍照")])}}],listarr:[],CarrierArr:[]}},created:function(){this.setnva(),this.CgAllsCarriers(),window.PhotoUploaded=this.changed},mounted:function(){this.cgSZOutList()},methods:{setnva:function(){this.$store.dispatch("setnvadata",[{title:"批量上传送货文件",href:""}])},clickphoto:function(t,e){var a=[];if("all"==e)if(this.Selectrow.length<=0)this.$Message.error("请选择要操作的送货单");else for(var s=0;s<this.Selectrow.length;s++){var i={SessionID:this.Selectrow[s].ID,AdminID:sessionStorage.getItem("userID"),Data:{WayBillID:null,WsOrderID:null,NoticeID:null,InputID:null,Type:null}};a.push(i)}else{i={SessionID:"all",AdminID:sessionStorage.getItem("userID"),Data:{WayBillID:null,WsOrderID:null,NoticeID:null,InputID:null,Type:null}};a.push(i)}console.log(a)},searchbtn:function(){this.loading=!0,this.cgSZOutList()},cancelbtn:function(){this.loading=!0,this.search_data.pageindex=1,this.cgSZOutList()},CgAllsCarriers:function(){var t=this;Object(n.f)(this.warehouseID).then(function(e){t.CarrierArr=e})},cgSZOutList:function(){var t=this;Object(n._41)(this.search_data).then(function(e){t.loading=!1,t.listarr=e.obj.Data,t.total=e.obj.Total,console.log(e)})},changepage:function(t){this.search_data.pageindex=t,this.loading=!0,this.cgSZOutList()},changed:function(t){alert(i()(t)),this.cgSZOutList()},selecttable:function(t){this.Selectrow=t}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("p",{staticClass:"inputwidth"},[a("label",[t._v("入仓号：")]),t._v(" "),a("Input",{staticClass:"iteminputs",attrs:{placeholder:"入仓号"},model:{value:t.search_data.code,callback:function(e){t.$set(t.search_data,"code","string"==typeof e?e.trim():e)},expression:"search_data.code"}})],1),t._v(" "),a("p",{staticClass:"inputwidth"},[a("label",[t._v("公司名称：")]),t._v(" "),a("Input",{staticClass:"iteminputs",attrs:{placeholder:"客户名称"},model:{value:t.search_data.client,callback:function(e){t.$set(t.search_data,"client","string"==typeof e?e.trim():e)},expression:"search_data.client"}})],1),t._v(" "),a("p",{staticClass:"inputwidth"},[a("label",[t._v("承运商：")]),t._v(" "),a("Select",{staticClass:"iteminputs",model:{value:t.search_data.CarrierID,callback:function(e){t.$set(t.search_data,"CarrierID",e)},expression:"search_data.CarrierID"}},t._l(t.CarrierArr,function(e){return a("Option",{key:e.ID,attrs:{value:e.ID}},[t._v(t._s(e.Name))])}),1)],1),t._v(" "),a("p",{staticClass:"inputwidth"},[a("label",[t._v("状态：")]),t._v(" "),a("Select",{staticClass:"iteminputs",model:{value:t.search_data.status,callback:function(e){t.$set(t.search_data,"status",e)},expression:"search_data.status"}},t._l(t.statusArr,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1),t._v(" "),a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:t.searchbtn}},[t._v("查询")]),t._v(" "),a("Button",{attrs:{type:"error",icon:"ios-trash"},on:{click:t.cancelbtn}},[t._v("清空")])],1),t._v(" "),a("div",{staticClass:"buttonbox"},[a("Button",{attrs:{type:"primary",icon:"ios-cloud-upload",size:"small"},on:{click:function(e){return t.clickphoto(1,"all")}}},[t._v("传照")]),t._v(" "),a("Button",{attrs:{type:"primary",icon:"md-reverse-camera",size:"small"},on:{click:function(e){return t.clickphoto(2,"all")}}},[t._v("传照")]),t._v(" "),a("span",{staticClass:"spantitle"},[t._v("注意：可批量上传")])],1),t._v(" "),a("div",[a("Table",{ref:"selection",attrs:{columns:t.titlelist,data:t.listarr,loading:t.loading},on:{"on-selection-change":t.selecttable}}),t._v(" "),a("div",{staticClass:"pagebox"},[a("Page",{attrs:{total:t.total,"show-elevator":"",current:t.search_data.PageIndex,"page-size":t.search_data.PageSize},on:{"on-change":t.changepage}})],1)],1)])},staticRenderFns:[]};var c=a("VU/8")(l,r,!1,function(t){a("uPiK")},"data-v-36e2d8f0",null);e.default=c.exports}});
//# sourceMappingURL=68.22663080693a3e93f331.js.map