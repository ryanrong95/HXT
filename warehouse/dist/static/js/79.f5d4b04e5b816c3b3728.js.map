{"version":3,"sources":["webpack:///src/Pages/Stock/Lease.vue","webpack:///./src/Pages/Stock/Lease.vue?a743","webpack:///./src/Pages/Stock/Lease.vue"],"names":["Lease","components","data","loading","titles","title","slot","align","width","key","listdata","total","statusarr","formdata","status","pageIndex","pageSize","computed","Spearatedrawer","get","this","$store","state","common","closeLeaseDetail","set","newValue","mounted","setnva","GetStatulsnotice","lsnotice","filters","showDate","val","c","split","moment_default","format","methods","dispatch","href","show","index","$router","push","path","query","ID","remove","_this","Object","api","then","res","console","log","obj","Data","Total","chanpage","value","query_btn","$Message","error","empty_btn","_this2","changevisible","go","Stock_Lease","render","_vm","_h","$createElement","_c","_self","staticStyle","attrs","placeholder","model","callback","$$v","$set","expression","_v","_l","item","Status","_s","StatusDes","type","on","click","padding-top","columns","scopedSlots","_u","fn","ref","row","_f","StartDate","EndDate","margin-right","size","$event","staticClass","current","page-size","on-change","on-visible-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/79.f5d4b04e5b816c3b3728.js","sourcesContent":["<style scpoed>\r\n.pagestyle{\r\n      text-align: right;\r\n      padding-top: 15px;\r\n}\r\n</style>\r\n<template>\r\n  <div>\r\n    <div>\r\n      <Input v-model=\"formdata.key\" placeholder=\"客户编号/订单编号\" style=\"width: 200px\" />\r\n      <Select v-model=\"formdata.status\" style=\"width:200px\" placeholder=\"状态\">\r\n        <Option v-for=\"item in statusarr\" :value=\"item.Status\" :key=\"item.Status\">{{ item.StatusDes }}</Option>\r\n      </Select>\r\n       <Button type=\"primary\" @click=\"query_btn\">查询</Button>\r\n       <Button type=\"error\" @click=\"empty_btn\">清空</Button>\r\n    </div>\r\n    <div style=\"padding-top:40px;\">\r\n      <Table  :columns=\"titles\" :data=\"listdata\" :loading=\"loading\">\r\n        <template slot-scope=\"{ row,index }\" slot=\"indexs\">\r\n          <strong>{{ index+1}}</strong>\r\n        </template>\r\n        <template slot-scope=\"{ row,index }\" slot=\"StartDate\">\r\n         {{row.StartDate|showDate}}\r\n        </template>\r\n        <template slot-scope=\"{ row,index }\" slot=\"EndDate\">\r\n         {{row.EndDate|showDate}}\r\n        </template>\r\n        <template slot-scope=\"{ row, index }\" slot=\"action\">\r\n          <!-- <Button type=\"error\" size=\"small\" @click=\"remove(index)\">删除</Button> -->\r\n          <Button v-if=\"row.Status==2||row.Status==3\" type=\"primary\" size=\"small\" style=\"margin-right: 5px\"  @click=\"show(row.ID)\">分配库位</Button>\r\n          <Button v-else  type=\"primary\" size=\"small\" style=\"margin-right: 5px\" @click=\"show(row.ID)\">查看库位</Button>\r\n        </template>\r\n      </Table>\r\n      <div class=\"pagestyle\">\r\n         <Page :total=\"total\" :current=\"formdata.pageIndex\" :page-size=\"formdata.pageSize\" @on-change=\"chanpage\"/>\r\n      </div>\r\n    </div>\r\n    <Drawer title v-model=\"Spearatedrawer\" width=\"70\" @on-visible-change=\"changevisible\">\r\n      <div>\r\n        <router-view></router-view>\r\n      </div>\r\n    </Drawer>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nimport {lsnotice,GetStatulsnotice} from \"../../api\"\r\nimport moment from \"moment\";\r\nexport default {\r\n  components: {\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      loading:true,\r\n      // Spearatedrawer: false,\r\n      titles:[\r\n          {\r\n          title: \"#\",\r\n          slot: \"indexs\",\r\n          align: \"center\",\r\n          width:50,\r\n\r\n        },\r\n        {\r\n          title: \"订单编号\",\r\n          key: \"ID\"\r\n        },\r\n        {\r\n          title: \"客户编号\",\r\n          key: \"ClientID\"\r\n        },\r\n        {\r\n          title: \"租赁开始时间\",\r\n          slot: \"StartDate\"\r\n        },\r\n        {\r\n          title: \"租赁结束时间\",\r\n          slot: \"EndDate\"\r\n        },\r\n        {\r\n          title: \"状态\",\r\n          key: \"StatusDes\"\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          slot: \"action\",\r\n          width: 150,\r\n          align: \"center\"\r\n        }\r\n      ],\r\n      listdata:[],\r\n      total:0,\r\n      statusarr:[],\r\n      formdata:{\r\n        key:\"\",//订单编号/客户编号\r\n        status:\"2\",//状态\r\n        pageIndex:1,//当前页码\r\n        pageSize:6//每页记录数\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    Spearatedrawer:{\r\n      // return this.$store.state.common.closeLeaseDetail;\r\n      get: function () {\r\n      return this.$store.state.common.closeLeaseDetail;\r\n        },\r\n        set: function (newValue) {\r\n          \r\n       }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.setnva();\r\n    this.GetStatulsnotice()\r\n    this.lsnotice(this.formdata)\r\n  },\r\n  filters: {\r\n    showDate: function(val) {  //时间格式转换\r\n      // console.log(val)\r\n      if (val != \"\") {\r\n        if (val || \"\") {\r\n          var b = val.split(\"(\")[1];\r\n          var c = b.split(\")\")[0];\r\n          var result = moment(+c).format(\"YYYY-MM-DD\");\r\n          return result;\r\n        }\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    setnva() {\r\n        var cc = [\r\n            {\r\n            title: \"在库管理\",\r\n            href: \"/Stock\"\r\n            },\r\n            {\r\n            title: \"库位分配\",\r\n            href: \"\"\r\n            }\r\n        ];\r\n        this.$store.dispatch(\"setnvadata\", cc);\r\n    },\r\n    show(index) {\r\n        // this.Spearatedrawer = true;\r\n        this.$store.dispatch(\"setcloseLd\", true);\r\n        // :to=\"{path:'/Lease/leasedetail',query:{ID:'jspang'}}\"\r\n        this.$router.push({ path: '/Lease/leasedetail', query: { ID: index }});\r\n    },\r\n    remove(index) {\r\n\r\n    },\r\n    lsnotice(data){\r\n      lsnotice(data).then(res=>{\r\n        console.log(res)\r\n        this.listdata=res.obj.Data;\r\n        this.total=res.obj.Total;\r\n        this.loading=false;\r\n      })\r\n    },\r\n    chanpage(value){\r\n        console.log(value)\r\n        this.formdata.pageIndex=value;\r\n        this.lsnotice(this.formdata)\r\n     },\r\n      query_btn() {  //库区查询\r\n        console.log(this.formdata)\r\n        if(this.formdata.key!=''||this.formdata.status!=\"\"){\r\n          this.formdata.pageIndex=1;\r\n          this.lsnotice(this.formdata)\r\n        }else{\r\n           this.$Message.error('请输入要查询的内容');\r\n        }\r\n      },\r\n      empty_btn() {  //清空按钮\r\n          this.formdata={\r\n              key:\"\",//订单编号/客户编号\r\n              status:\"2\",//状态\r\n              pageIndex:1,//当前页码\r\n              pageSize:6//每页记录数\r\n            } \r\n         this.lsnotice(this.formdata)\r\n      },\r\n      GetStatulsnotice(){\r\n        GetStatulsnotice().then(res=>{\r\n          console.log(res)\r\n          this.statusarr=res.obj;\r\n          this.formdata.status=\"2\";\r\n        })\r\n      },\r\n      changevisible(value){\r\n        console.log(value)\r\n        if(value==true){\r\n          // this.Spearatedrawer=true;\r\n          this.$store.dispatch(\"setcloseLd\", true);\r\n        }else{\r\n          // this.Spearatedrawer=false;\r\n          this.$store.dispatch(\"setcloseLd\", false);\r\n          this.$router.go(-1)\r\n        }\r\n      }\r\n    }\r\n};\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/Pages/Stock/Lease.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"客户编号/订单编号\"},model:{value:(_vm.formdata.key),callback:function ($$v) {_vm.$set(_vm.formdata, \"key\", $$v)},expression:\"formdata.key\"}}),_vm._v(\" \"),_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"状态\"},model:{value:(_vm.formdata.status),callback:function ($$v) {_vm.$set(_vm.formdata, \"status\", $$v)},expression:\"formdata.status\"}},_vm._l((_vm.statusarr),function(item){return _c('Option',{key:item.Status,attrs:{\"value\":item.Status}},[_vm._v(_vm._s(item.StatusDes))])}),1),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.query_btn}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"error\"},on:{\"click\":_vm.empty_btn}},[_vm._v(\"清空\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"padding-top\":\"40px\"}},[_c('Table',{attrs:{\"columns\":_vm.titles,\"data\":_vm.listdata,\"loading\":_vm.loading},scopedSlots:_vm._u([{key:\"indexs\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('strong',[_vm._v(_vm._s(index+1))])]}},{key:\"StartDate\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(\"\\n       \"+_vm._s(_vm._f(\"showDate\")(row.StartDate))+\"\\n      \")]}},{key:\"EndDate\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(\"\\n       \"+_vm._s(_vm._f(\"showDate\")(row.EndDate))+\"\\n      \")]}},{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [(row.Status==2||row.Status==3)?_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.show(row.ID)}}},[_vm._v(\"分配库位\")]):_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.show(row.ID)}}},[_vm._v(\"查看库位\")])]}}])}),_vm._v(\" \"),_c('div',{staticClass:\"pagestyle\"},[_c('Page',{attrs:{\"total\":_vm.total,\"current\":_vm.formdata.pageIndex,\"page-size\":_vm.formdata.pageSize},on:{\"on-change\":_vm.chanpage}})],1)],1),_vm._v(\" \"),_c('Drawer',{attrs:{\"title\":\"\",\"width\":\"70\"},on:{\"on-visible-change\":_vm.changevisible},model:{value:(_vm.Spearatedrawer),callback:function ($$v) {_vm.Spearatedrawer=$$v},expression:\"Spearatedrawer\"}},[_c('div',[_c('router-view')],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-005af968\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Pages/Stock/Lease.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-005af968\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Lease.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Lease.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Lease.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-005af968\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Lease.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Pages/Stock/Lease.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}