webpackJsonp([72],{"3UgG":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("TXMN");var s=a("gyMJ"),i=a("Qcdk"),r=a("PJh5"),n=a.n(r),o=a("xu/c"),l=a("9hH2"),c=a("Wxb1"),h={inject:["reload"],name:"UnSortingList",components:{"routine-enter":o.default,Declare:l.default,"img-test":c.default},data:function(){return{routername:"",isshowstate:!0,testarrstate:[10],istagall:0,timer1:"",timer2:"",timer3:"",loading:!0,warehouseID:sessionStorage.getItem("UserWareHouse"),search_datas:{OrderID:"",ClientCode:"",SupplierName:"",HKDeliveryType:"",Model:"",StartDate:"",EndDate:"",PageSize:10,PageIndex:1,WhID:sessionStorage.getItem("UserWareHouse"),WaybillNo:""},WaybillTypeArr:[],Notice_title:[{title:"订单号",slot:"OrderID",align:"center",width:180},{title:"到货方式",slot:"Type",align:"center"},{title:"入仓号",slot:"EntryNumber",align:"center"},{title:"供应商",slot:"SupplierName",align:"center"},{title:"快递单号",slot:"WayBillNo",align:"center"},{title:"状态",slot:"Status",align:"center"},{title:"创建时间",slot:"CreateDate",align:"center"},{title:"操作",slot:"action",align:"center"}],Notice_list:[],Showdetailid:"",NoticeStatus:[],NoticeType:[],total:0,setIntervaltimer:null,timenmae:null,routetype:"",tableHeight:500}},created:function(){this.CgWaybillType(),this.routername=this.$route.name,this.clear_time(),window.setIntervaltimer=this.setIntervaltimer,this.cgSearch_sortings(this.search_datas)},computed:{getid:function(){return this.Showdetailid},gethouse:function(){return sessionStorage.getItem("UserWareHouse")},showdetail:function(){if(1==this.$store.state.common.showdetailBOX)this.clear_time(),this.timenmae=null;else;return this.$store.state.common.showdetailBOX},showtype:function(){return this.$store.state.common.showtypein},showPageArr:function(){return this.$store.state.common.PageArr}},mounted:function(){this.setnva(),this.getstatus(),this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-100},filters:{showDate:function(t){if(""!=t&&t){var e=t.split("(")[1].split(")")[0];return n()(+e).format("YYYY-MM-DD")}}},methods:{CgWaybillType:function(){var t=this;Object(i.s)().then(function(e){t.WaybillTypeArr=e.obj})},tabledblclick:function(t,e){1==t.Waybill.Operated&&this.showDrawer(t.ID,t.OrderID)},new_time:function(){var t=this;this.timenmae=setInterval(function(){setTimeout(function(){t.cgSearch_sortings(t.search_datas)},0)},2e3)},clear_time:function(){clearInterval(this.timenmae),this.timenmae=null},dyncMount:function(){this.$store.dispatch("setshowdetail",!0),this.$store.dispatch("setshowtypein",3),this.timer=(new Date).getTime()},showDrawer:function(t,e){this.$store.dispatch("setshowdetailBOX",!0),this.$router.push({name:"HKDeclare",params:{entryNoticeID:t,orderID:e,mainOrderID:e.slice(0,16)}})},closDrawer:function(){this.$router.go(-1);this.$store.dispatch("setshowdetailBOX",!1)},changepage:function(t){this.loading=!0,this.search_datas.PageIndex=t,this.cgSearch_sortings(this.search_datas)},changepagesize:function(t){this.loading=!0,this.search_datas.PageSize=t,this.search_datas.PageIndex=1,this.cgSearch_sortings(this.search_datas)},changedata:function(t){this.search_datas.StartDate=t[0],this.search_datas.EndDate=t[1]},search_btn:function(){""!=this.search_datas.key||""!=this.search_datas.WaybillExcuteStatus||""!=this.search_datas.WaybillSupplier||""!=this.search_datas.StartDate||""!=this.search_datas.EndDate||""!=this.search_datas.ProductPartNumber||""!=this.search_datas.WaybillNo?(this.loading=!0,this.search_datas.PageIndex=1,this.cgSearch_sortings(this.search_datas)):this.$Message.error("请至少输入一个查询条件")},clear_btn:function(){if(""!=this.search_datas.key||""!=this.search_datas.WaybillExcuteStatus||""!=this.search_datas.WaybillSupplier||""!=this.search_datas.StartDate||""!=this.search_datas.EndDate||""!=this.search_datas.ProductPartNumber||""!=this.search_datas.WaybillNo){this.search_datas={WhID:sessionStorage.getItem("UserWareHouse"),key:"",WaybillSupplier:"",WaybillExcuteStatus:this.testarrstate.join(","),StartDate:"",EndDate:"",ProductPartNumber:"",WaybillNo:"",Source:1,WaybillType:0,PageIndex:1,PageSize:10},this.loading=!0,this.search_datas.PageIndex=1,this.$refs.element.handleClear(),this.cgSearch_sortings(this.search_datas)}},getstatus:function(){var t=this;Object(s.s)().then(function(e){t.NoticeType=e.obj}),Object(i.o)().then(function(e){t.NoticeStatus=e.obj;e.obj})},setnva:function(){this.$store.dispatch("setnvadata",[{title:"未装箱列表",href:"/UnSortingList"}])},staging:function(){this.$store.dispatch("setshowdetail",!0),this.$store.dispatch("setshowtypein",4),this.$router.push({path:"/Cgenter/separate"})},testarrs:function(t){10==t?-1==this.testarrstate.indexOf(t)?(this.testarrstate=[],this.testarrstate.push(t),this.istagall=!0):this.istagall=!1:(this.testarrstate=this.testarrstate.filter(function(t){return 10!=t}),this.istagall=!1,-1==this.testarrstate.indexOf(t)?this.testarrstate.push(t):(this.testarrstate=this.testarrstate.filter(function(e){return e!=t}),0==this.testarrstate.length&&this.testarrstate.push(10))),this.search_datas.WaybillExcuteStatus=this.testarrstate.join(","),this.search_btn()},cgsortings:function(){var t=this;Object(i.L)(data).then(function(e){t.total=e.obj.total,t.Notice_list=e.obj.rows,t.loading=!1})},cgSearch_sortings:function(t){var e=this;Object(i.L)(t).then(function(t){e.total=t.obj.total,e.Notice_list=t.obj.rows,e.loading=!1})},changeDrawer:function(t){1==t?(this.clear_time(),this.timenmae=null):this.cgSearch_sortings(this.search_datas)}},destroyed:function(){}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"warehousing"}},[a("div",[a("p",{staticClass:"inputwidth"},[a("label",{attrs:{for:"订单号"}},[t._v("订单号：")]),t._v(" "),a("Input",{staticClass:"inputitems",attrs:{placeholder:"",autofocus:""},on:{"on-enter":t.search_btn},model:{value:t.search_datas.OrderID,callback:function(e){t.$set(t.search_datas,"OrderID","string"==typeof e?e.trim():e)},expression:"search_datas.OrderID"}})],1),t._v(" "),a("p",{staticClass:"inputwidth"},[a("label",{attrs:{for:"入仓号"}},[t._v("入仓号：")]),t._v(" "),a("Input",{staticClass:"inputitems",attrs:{placeholder:""},on:{"on-enter":t.search_btn},model:{value:t.search_datas.ClientCode,callback:function(e){t.$set(t.search_datas,"ClientCode","string"==typeof e?e.trim():e)},expression:"search_datas.ClientCode"}})],1),t._v(" "),a("p",{staticClass:"inputwidth"},[a("label",{attrs:{for:"供应商"}},[t._v("供应商")]),t._v(" "),a("Input",{staticClass:"inputitems",attrs:{placeholder:""},on:{"on-enter":t.search_btn},model:{value:t.search_datas.SupplierName,callback:function(e){t.$set(t.search_datas,"SupplierName","string"==typeof e?e.trim():e)},expression:"search_datas.SupplierName"}})],1),t._v(" "),a("p",{staticClass:"inputwidth"},[a("label",{attrs:{for:"产品型号"}},[t._v("产品型号：")]),t._v(" "),a("Input",{staticClass:"inputitems",attrs:{placeholder:""},on:{"on-enter":t.search_btn},model:{value:t.search_datas.Model,callback:function(e){t.$set(t.search_datas,"Model","string"==typeof e?e.trim():e)},expression:"search_datas.Model"}})],1),t._v(" "),a("p",{staticClass:"inputwidth"},[a("label",{attrs:{for:"到货方式："}},[t._v("到货方式：")]),t._v(" "),a("Select",{staticClass:"inputitems",attrs:{placeholder:""},model:{value:t.search_datas.HKDeliveryType,callback:function(e){t.$set(t.search_datas,"HKDeliveryType","string"==typeof e?e.trim():e)},expression:"search_datas.HKDeliveryType"}},t._l(t.WaybillTypeArr,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.name))])}),1)],1),t._v(" "),a("p",{staticClass:"inputwidth"},[a("label",{attrs:{for:"快递单号"}},[t._v("快递单号：")]),t._v(" "),a("Input",{staticClass:"inputitems",attrs:{placeholder:""},on:{"on-enter":t.search_btn},model:{value:t.search_datas.WaybillNo,callback:function(e){t.$set(t.search_datas,"WaybillNo","string"==typeof e?e.trim():e)},expression:"search_datas.WaybillNo"}})],1),t._v(" "),a("div",{staticClass:"inputwidth"},[a("label",{attrs:{for:"业务类型"}},[t._v("开始时间与结束时间：  ")]),t._v(" "),a("DatePicker",{ref:"element",staticStyle:{width:"200px"},attrs:{type:"daterange",placement:"bottom-end",placeholder:"",editable:!1,separator:"  至  "},on:{"on-change":t.changedata}})],1),t._v(" "),a("div",{staticStyle:{float:"left"}},[a("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary",icon:"ios-search"},on:{click:t.search_btn}},[t._v("查询")]),t._v(" "),a("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"error",icon:"ios-trash"},on:{click:t.clear_btn}},[t._v("清空")])],1)]),t._v(" "),a("div",{staticStyle:{width:"100%",display:"inline-block","margin-top":"20px"}},[a("Table",{ref:"table",attrs:{"max-height":t.tableHeight,columns:t.Notice_title,data:t.Notice_list,loading:t.loading},on:{"on-row-dblclick":t.tabledblclick},scopedSlots:t._u([{key:"OrderID",fn:function(e){var a=e.row;return e.index,[t._v("         \n        "+t._s(a.OrderID)+"\n      ")]}},{key:"Type",fn:function(e){var s=e.row;return e.index,[a("span",[t._v(t._s(s.Type))])]}},{key:"EntryNumber",fn:function(e){var s=e.row;return e.index,[a("span",[t._v(t._s(null==s.EnterCode?s.EntryNumber:s.EntryNumber+"/"+s.EnterCode))])]}},{key:"SupplierName",fn:function(e){var s=e.row;return e.index,[a("span",[t._v(t._s(s.SupplierName))])]}},{key:"WayBillNo",fn:function(e){var a=e.row;return e.index,[t._v("        \n        "+t._s(a.WayBillNo)+"\n      ")]}},{key:"Status",fn:function(e){var a=e.row;return e.index,[t._v("        \n        "+t._s(a.Status)+"\n      ")]}},{key:"CreateDate",fn:function(e){var a=e.row;return e.index,[t._v("\n        "+t._s(a.CreateDate)+"\n      ")]}},{key:"action",fn:function(e){var s=e.row;return e.index,[a("Button",{attrs:{disabled:!1,size:"small"},on:{click:function(e){return t.showDrawer(s.ID,s.OrderID)}}},[t._v("\n          装箱\n        ")])]}}])}),t._v(" "),a("div",{staticClass:"pages"},[a("Page",{attrs:{total:t.total,"page-size":t.search_datas.PageSize,"show-total":"",current:t.search_datas.PageIndex,"page-size-opts":t.showPageArr,"show-elevator":"","show-sizer":""},on:{"on-page-size-change":t.changepagesize,"on-change":t.changepage}})],1)],1),t._v(" "),a("Drawer",{attrs:{title:"",closable:!1,width:90,scrollable:!0,"mask-closable":!1},on:{"on-visible-change":t.changeDrawer},model:{value:t.showdetail,callback:function(e){t.showdetail=e},expression:"showdetail"}},[a("div",[a("div",{staticClass:"closDrawer_btn",attrs:{slot:"close"},slot:"close"},[a("Icon",{staticClass:"icon1",attrs:{type:"md-close"},on:{click:t.closDrawer}})],1),t._v(" "),1==t.showtype?a("routine-enter",{key:t.timer1,ref:"routineenter"}):a("router-view")],1)])],1)},staticRenderFns:[]};var u=a("VU/8")(h,d,!1,function(t){a("G5ij")},"data-v-2c1c6873",null);e.default=u.exports},G5ij:function(t,e){}});
//# sourceMappingURL=72.883639f2008963b822a3.js.map