{"version":3,"sources":["webpack:///src/Pages/Stock/searchstock.vue","webpack:///./src/Pages/Stock/searchstock.vue?9d95","webpack:///./src/Pages/Stock/searchstock.vue"],"names":["searchstock","data","showEdit","EditQuantity","obj","current","loading","search_data","WhID","sessionStorage","getItem","PartNumber","Manufacturer","ShelveID","StartTime","EndTime","PageIndex","PageSize","total","storages_title","type","width","align","title","slot","key","storages_data","columns1","data1","name","age","address","date","tableHeight","computed","showPageArr","this","$store","state","common","PageArr","mounted","setnva","storages","window","innerHeight","$refs","table","$el","offsetTop","methods","dispatch","_this","Object","CgApi","then","res","val","Total","Data","changedata","value","changepage","changepagesize","search_btn","$Message","warning","empty_btn","element","handleClear","EditQuantityblur","test","error","openshowEdit","row","visiblechange","Clear","info","Ok_btn","_this2","console","log","storageId","ID","quantity","Success","success","Stock_searchstock","render","_vm","_h","$createElement","_c","_self","attrs","for","_v","staticClass","placeholder","model","callback","$$v","$set","trim","expression","ref","staticStyle","placement","editable","separator","on","on-change","icon","click","margin-top","columns","max-height","scopedSlots","_u","fn","_s","DateCode","Origin","Supplier","_f","CreateDate","float","page-size","show-total","page-size-opts","show-elevator","show-sizer","on-page-size-change","on-blur","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/64.0ffd31a58206fe4f1e80.js","sourcesContent":["<template>\r\n  <div>\r\n    <div>\r\n      <!-- <Input v-model=\"search_data.Customercode\" placeholder=\"客户编号\" class=\"setwidth\" /> -->\r\n      <!-- <Input v-model=\"search_data.ID\" placeholder=\"库存编号\" class=\"setwidth\" />\r\n      <Input v-model=\"search_data.SortingID\" placeholder=\"分拣编号\" class=\"setwidth\" />-->\r\n      <label for=\"\">型号：</label><Input v-model.trim=\"search_data.PartNumber\" placeholder=\"型号\" class=\"setwidth\" />\r\n      <label for=\"\">品牌：</label><Input v-model.trim=\"search_data.Manufacturer\" placeholder=\"品牌\" class=\"setwidth\" />\r\n      <label for=\"\">库位：</label><Input v-model.trim=\"search_data.ShelveID\" placeholder=\"库位\" class=\"setwidth\" />\r\n      <!-- <Input v-model=\"search_data.batch\" placeholder=\"批次\" class=\"setwidth\" /> -->\r\n      <label for=\"\">开始时间与结束时间：</label>\r\n      <DatePicker\r\n        ref=\"element\"\r\n        type=\"daterange\"\r\n        placement=\"bottom-end\"\r\n        placeholder=\"选择入库时间\"\r\n        :editable=\"false\"\r\n        separator=\"  至  \"\r\n        @on-change=\"changedata\"\r\n        style=\"width:240px;\"\r\n      ></DatePicker>\r\n      <Button type=\"primary\" icon=\"ios-search\" @click=\"search_btn\">查询</Button>\r\n      <Button type=\"error\" icon=\"ios-trash\" @click=\"empty_btn\">清空</Button>\r\n    </div>\r\n    <div style=\"margin-top:20px;\">\r\n      <!-- <Table :columns=\"columns1\" :data=\"data1\"></Table> -->\r\n      <Table :columns=\"storages_title\" :data=\"storages_data\" :loading=\"loading\" ref=\"table\" :max-height=\"tableHeight\">\r\n        <template slot-scope=\"{ row }\" slot=\"PartNumber\">\r\n          <p>{{row.PartNumber}}</p>\r\n        </template>\r\n        <template slot-scope=\"{ row }\" slot=\"Manufacturer\">\r\n          <p>{{row.Manufacturer}}</p>\r\n        </template>\r\n        <template slot-scope=\"{ row }\" slot=\"Datacode\">\r\n          <p>{{row.DateCode}}</p>\r\n        </template>\r\n        <template slot-scope=\"{ row }\" slot=\"Origin\">\r\n          <p>{{row.Origin}}</p>\r\n        </template>\r\n        <template slot-scope=\"{ row }\" slot=\"Supplier\">\r\n          <p>{{row.Supplier}}</p>\r\n        </template>\r\n        <template slot-scope=\"{ row }\" slot=\"CreateDate\">\r\n          <p>{{row.CreateDate|showDateexact}}</p>\r\n        </template>\r\n        <!-- <template slot-scope=\"{ row }\" slot=\"Actions\">\r\n          <Button type=\"primary\" size='small' icon='md-create' @click=\"openshowEdit(row)\">修改数量</Button>\r\n        </template> -->\r\n      </Table>\r\n    </div>\r\n    <div style=\"margin-top:20px;float:right\">\r\n      <!-- <Page ref=\"pages\" :total=\"total\" @on-change=\"changepage\" :page-size=\"search_data.PageSize\" show-elevator /> -->\r\n      <Page :total=\"total\" :page-size=\"search_data.PageSize\" \r\n          show-total\r\n          :current=\"search_data.PageIndex\" \r\n          :page-size-opts=\"showPageArr\"\r\n          @on-page-size-change=\"changepagesize\" \r\n          @on-change=\"changepage\"  \r\n          show-elevator \r\n          show-sizer />\r\n    </div>\r\n    <Modal v-model=\"showEdit\" title=\"修改库存数量\">\r\n        <div>\r\n           <Input v-model.trim=\"EditQuantity\" @on-blur='EditQuantityblur' placeholder=\"请输入数量\"/>\r\n        </div>\r\n        <div slot=\"footer\">\r\n           <Button @click=\"Clear\">取消</Button>\r\n           <Button @click='Ok_btn' type=\"primary\">确认</Button>\r\n        </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Cgstoragesshow ,CgUpdateDeliveredQty} from \"../../api/CgApi\";\r\n// import moment from \"moment\"\r\nexport default {\r\n  data() {\r\n    return {\r\n      showEdit:false,\r\n      EditQuantity:\"\",\r\n      obj:null,\r\n      current: 1,\r\n      loading: true,\r\n      search_data: {\r\n        WhID: sessionStorage.getItem(\"UserWareHouse\"),\r\n        PartNumber: null,\r\n        Manufacturer: null,\r\n        ShelveID: null,\r\n        StartTime: null,\r\n        EndTime: null,\r\n        PageIndex: 1,\r\n        PageSize: 50\r\n      },\r\n      total: 0, //分页总数\r\n      storages_title: [\r\n        {\r\n          type: 'index',\r\n          width: 60,\r\n          align: 'center'\r\n        },\r\n        {\r\n          title: \"型号\",\r\n          slot: \"PartNumber\"\r\n        },\r\n        {\r\n          title: \"品牌\",\r\n          slot: \"Manufacturer\"\r\n        },\r\n        {\r\n            title:\"批号\",\r\n            slot:\"Datacode\",\r\n        },\r\n        {\r\n            title:\"原产地\",\r\n            slot:\"Origin\",\r\n        },\r\n        {\r\n            title:\"供应商\",\r\n            slot:\"Supplier\",\r\n        },\r\n        {\r\n          title: \"数量\",\r\n          key: \"Quantity\"\r\n        },\r\n        {\r\n          title: \"入库时间\",\r\n          slot: \"CreateDate\"\r\n        },\r\n        {\r\n          title: \"所属库位编号\",\r\n          key: \"ShelveID\"\r\n        },\r\n        {\r\n          title: \"存储状态\",\r\n          key: \"StoragesStatusDes\"\r\n        },\r\n        // {\r\n        //   title: \"操作\",\r\n        //   slot: \"Actions\"\r\n        // }\r\n      ],\r\n      storages_data: [],\r\n      columns1: [\r\n        {\r\n          title: \"品名\",\r\n          key: \"name\"\r\n        },\r\n        {\r\n          title: \"品牌\",\r\n          key: \"age\"\r\n        },\r\n        {\r\n          title: \"型号\",\r\n          key: \"address\"\r\n        },\r\n        {\r\n          title: \"批次号\",\r\n          key: \"address\"\r\n        },\r\n        {\r\n          title: \"数量\",\r\n          key: \"address\"\r\n        },\r\n        {\r\n          title: \"入库时间\",\r\n          key: \"address\"\r\n        },\r\n        {\r\n          title: \"进价总值\",\r\n          key: \"address\"\r\n        },\r\n        {\r\n          title: \"报关总值\",\r\n          key: \"address\"\r\n        },\r\n        {\r\n          title: \"销售单价\",\r\n          key: \"address\"\r\n        },\r\n        {\r\n          title: \"销售总值\",\r\n          key: \"address\"\r\n        }\r\n      ],\r\n      data1: [\r\n        {\r\n          name: \"John Brown\",\r\n          age: 18,\r\n          address: \"New York No. 1 Lake Park\",\r\n          date: \"2016-10-03\"\r\n        },\r\n        {\r\n          name: \"Jim Green\",\r\n          age: 24,\r\n          address: \"London No. 1 Lake Park\",\r\n          date: \"2016-10-01\"\r\n        },\r\n        {\r\n          name: \"Joe Black\",\r\n          age: 30,\r\n          address: \"Sydney No. 1 Lake Park\",\r\n          date: \"2016-10-02\"\r\n        },\r\n        {\r\n          name: \"Jon Snow\",\r\n          age: 26,\r\n          address: \"Ottawa No. 2 Lake Park\",\r\n          date: \"2016-10-04\"\r\n        }\r\n      ],\r\n      tableHeight:500,\r\n    };\r\n  },\r\n  computed:{\r\n    showPageArr(){\r\n        return this.$store.state.common.PageArr;\r\n      }\r\n  },\r\n  mounted() {\r\n    this.setnva();\r\n    this.storages(this.search_data);\r\n    this.tableHeight = window.innerHeight - this.$refs.table.$el.offsetTop - 100\r\n  },\r\n  methods: {\r\n    setnva() {\r\n      var cc = [\r\n        {\r\n          title: \"库存查询\",\r\n        },\r\n      ];\r\n      this.$store.dispatch(\"setnvadata\", cc);\r\n    },\r\n    storages(data) {\r\n      //初始化数据与查询数据\r\n      Cgstoragesshow(data).then(res => {\r\n        if (res.val != 3) {\r\n          if (res.obj.Total != 0) {\r\n            this.storages_data = res.obj.Data;\r\n            this.total = res.obj.Total;\r\n          } else {\r\n            this.storages_data = [];\r\n            this.total = 0;\r\n          }\r\n          this.loading = false;\r\n        }\r\n      });\r\n    },\r\n    changedata(value) {\r\n      //时间格式 获取开始时间与结束时间\r\n      if(value[0]==''||value[1]==''){\r\n         this.search_data.StartTime =null;\r\n         this.search_data.EndTime = null;\r\n      }else{\r\n        this.search_data.StartTime = value[0];\r\n        this.search_data.EndTime = value[1];\r\n      }\r\n      \r\n    },\r\n    changepage(value) {\r\n      //改变页码\r\n      this.loading = true;\r\n      this.search_data.PageIndex = value;\r\n      this.storages(this.search_data);\r\n    },\r\n    changepagesize(value){\r\n       this.loading = true;\r\n       this.search_data.PageSize = value;\r\n       this.search_data.PageIndex=1\r\n       this.storages(this.search_data);\r\n    },\r\n    search_btn() {\r\n      if (\r\n        this.search_data.PartNumber != null ||\r\n        this.search_data.Manufacturer != null ||\r\n        this.search_data.StartTime != null||\r\n        this.search_data.EndTime != null||\r\n        this.search_data.ShelveID!=null\r\n      ) {\r\n        this.search_data.PageIndex = 1;\r\n        this.loading = true;\r\n        this.storages(this.search_data);\r\n      } else {\r\n        this.$Message.warning(\"请输入查询条件\");\r\n      }\r\n    },\r\n    empty_btn() {\r\n      if (\r\n        this.search_data.PartNumber != null ||\r\n        this.search_data.Manufacturer != null ||\r\n        this.search_data.StartTime != null ||\r\n        this.search_data.EndTime != null||\r\n        this.search_data.ShelveID!=null\r\n      ) {\r\n        this.search_data = {\r\n          // Customercode:\"\",//客户编号\r\n          // ID:\"\",//库存编号\r\n          // SortingID:\"\",//分拣编号\r\n          PartNumber: null, //型号\r\n          Manufacturer:null, //品牌\r\n          ShelveID:null,\r\n          StartTime: null, //开始时间\r\n          EndTime: null, //结束时间\r\n          PageIndex: 1,\r\n          PageSize: 10\r\n        };\r\n        this.loading = true;\r\n        this.$refs.element.handleClear();\r\n        this.storages(this.search_data);\r\n      }\r\n    },\r\n    //改变数量的时候触发\r\n    EditQuantityblur(){\r\n           var reg=/\\d+(\\.\\d{0,2})?/\r\n           if(reg.test(this.EditQuantity) ==false||this.EditQuantity==0){\r\n              this.$Message.error('只能输入数量且不小于0');\r\n              this.EditQuantity=''   \r\n           }\r\n    },\r\n    //展开修改弹出框\r\n      openshowEdit(row){\r\n        this.showEdit=true;\r\n        this.obj=row\r\n      },\r\n      visiblechange(value){\r\n        if(value==false){\r\n          this.showEdit=false;\r\n          this.obj=null\r\n        }else{\r\n          this.showEdit=true;\r\n        }\r\n        this.EditQuantity=''\r\n      },\r\n      // 取消保存\r\n      Clear(){\r\n        this.showEdit=false;\r\n        this.$Message.info('取消修改');\r\n      },\r\n      //提交修改\r\n      Ok_btn(){\r\n        console.log(this.obj)\r\n        if(this.EditQuantity!=''){\r\n          var reg=/\\d+(\\.\\d{0,2})?/\r\n          if(reg.test(this.EditQuantity) == true){\r\n            var data={\r\n              storageId:this.obj.ID,  //库存ID\r\n              quantity:this.EditQuantity,// 在库到货数量\r\n            }\r\n            CgUpdateDeliveredQty(data).then(res=>{\r\n              if(res.Success==true){\r\n                this.$Message.success('数量修改成功');\r\n                this.showEdit=false;\r\n                this.loading=true;\r\n                this.storages(this.search_data);\r\n                this.EditQuantity=''\r\n              }else{\r\n                this.$Message.error('数量修改失败');\r\n              }\r\n            })\r\n          }else{\r\n            this.$Message.error('只能输入数量且不小于0');\r\n          }\r\n          \r\n        }else{\r\n          this.$Message.error('数量不能为空');\r\n        }\r\n      },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.setwidth {\r\n  width: 200px;\r\n  margin-right: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n</style>>\r\n\n\n\n// WEBPACK FOOTER //\n// src/Pages/Stock/searchstock.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"型号：\")]),_c('Input',{staticClass:\"setwidth\",attrs:{\"placeholder\":\"型号\"},model:{value:(_vm.search_data.PartNumber),callback:function ($$v) {_vm.$set(_vm.search_data, \"PartNumber\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"search_data.PartNumber\"}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"品牌：\")]),_c('Input',{staticClass:\"setwidth\",attrs:{\"placeholder\":\"品牌\"},model:{value:(_vm.search_data.Manufacturer),callback:function ($$v) {_vm.$set(_vm.search_data, \"Manufacturer\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"search_data.Manufacturer\"}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"库位：\")]),_c('Input',{staticClass:\"setwidth\",attrs:{\"placeholder\":\"库位\"},model:{value:(_vm.search_data.ShelveID),callback:function ($$v) {_vm.$set(_vm.search_data, \"ShelveID\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"search_data.ShelveID\"}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"开始时间与结束时间：\")]),_vm._v(\" \"),_c('DatePicker',{ref:\"element\",staticStyle:{\"width\":\"240px\"},attrs:{\"type\":\"daterange\",\"placement\":\"bottom-end\",\"placeholder\":\"选择入库时间\",\"editable\":false,\"separator\":\"  至  \"},on:{\"on-change\":_vm.changedata}}),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"ios-search\"},on:{\"click\":_vm.search_btn}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"error\",\"icon\":\"ios-trash\"},on:{\"click\":_vm.empty_btn}},[_vm._v(\"清空\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('Table',{ref:\"table\",attrs:{\"columns\":_vm.storages_title,\"data\":_vm.storages_data,\"loading\":_vm.loading,\"max-height\":_vm.tableHeight},scopedSlots:_vm._u([{key:\"PartNumber\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('p',[_vm._v(_vm._s(row.PartNumber))])]}},{key:\"Manufacturer\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('p',[_vm._v(_vm._s(row.Manufacturer))])]}},{key:\"Datacode\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('p',[_vm._v(_vm._s(row.DateCode))])]}},{key:\"Origin\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('p',[_vm._v(_vm._s(row.Origin))])]}},{key:\"Supplier\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('p',[_vm._v(_vm._s(row.Supplier))])]}},{key:\"CreateDate\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('p',[_vm._v(_vm._s(_vm._f(\"showDateexact\")(row.CreateDate)))])]}}])})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"20px\",\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.total,\"page-size\":_vm.search_data.PageSize,\"show-total\":\"\",\"current\":_vm.search_data.PageIndex,\"page-size-opts\":_vm.showPageArr,\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-page-size-change\":_vm.changepagesize,\"on-change\":_vm.changepage}})],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"修改库存数量\"},model:{value:(_vm.showEdit),callback:function ($$v) {_vm.showEdit=$$v},expression:\"showEdit\"}},[_c('div',[_c('Input',{attrs:{\"placeholder\":\"请输入数量\"},on:{\"on-blur\":_vm.EditQuantityblur},model:{value:(_vm.EditQuantity),callback:function ($$v) {_vm.EditQuantity=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"EditQuantity\"}})],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{on:{\"click\":_vm.Clear}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.Ok_btn}},[_vm._v(\"确认\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3b816676\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Pages/Stock/searchstock.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3b816676\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./searchstock.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./searchstock.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./searchstock.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3b816676\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./searchstock.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3b816676\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Pages/Stock/searchstock.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}