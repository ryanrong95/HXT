{"version":3,"sources":["webpack:///src/Pages/Stock/StorageCharge.vue","webpack:///./src/Pages/Stock/StorageCharge.vue?9467","webpack:///./src/Pages/Stock/StorageCharge.vue"],"names":["StorageCharge","data","_this","this","columns1","type","width","align","title","key","slot","render","h","params","vm","props","value","row","Quantity","disabled","_disabled","on","on-blur","event","target","test","Number","listdata","index","clicktest","$Message","error","Box3Quantity","Box2Quantity","Box1Quantity","total","loading","client","EnterCode","StartDate","EndDate","PageIndex","PageSize","saleDate","Selectdata","tableHeight","computed","showPageArr","$store","state","common","PageArr","mounted","setnva","getDates","statisticstorageshow","window","innerHeight","$refs","selection","$el","offsetTop","methods","trim","str","replace","dispatch","__webpack_require__","throttle","paramsrow","i","lens","length","ID","myDate","Date","year","getFullYear","month","getMonth","day","getDate","changeDatePicker","val","console","log","_this2","WhID","sessionStorage","getItem","StartTime","EndTime","ClientName","Object","CgApi","then","res","Total","Data","changepage","changepagesize","search_btn","empty_btn","confirm","_this3","sumbitdata","newdata","AdminID","push","$Modal","onOk","statisticstorageModify","onCancel","changeselection","clickall","_this4","warning","forEach","item","Error","e","clickitem","arr","_this5","StatisticStorages","success","Stock_StorageCharge","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","placeholder","model","callback","$$v","expression","ref","clearable","on-change","icon","click","staticStyle","margin-left","columns","max-height","on-selection-change","scopedSlots","_u","fn","_s","_f","CreateDate","size","$event","margin-top","float","page-size","show-total","current","page-size-opts","show-elevator","show-sizer","on-page-size-change","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/49.5ae5a325411ecb1a993e.js","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"searchbox\">\r\n      <div class=\"inputbox\">\r\n        <label>客户名称：</label>\r\n        <Input\r\n          class=\"inputitem\"\r\n          v-model=\"client\"\r\n          placeholder=\"请输入客户名称\"\r\n        />\r\n      </div>\r\n      <div class=\"inputbox\">\r\n        <label>入仓号：</label\r\n        ><Input\r\n          class=\"inputitem\"\r\n          v-model=\"EnterCode\"\r\n          placeholder=\"请输入入仓号\"\r\n        />\r\n      </div>\r\n      <div class=\"inputbox\">\r\n        <label>日期：</label>\r\n        <DatePicker\r\n          type=\"daterange\"\r\n          ref=\"element\"\r\n          :clearable=\"false\"\r\n          class=\"inputitem\"\r\n          v-model=\"saleDate\"\r\n          @on-change=\"changeDatePicker\"\r\n        ></DatePicker>\r\n      </div>\r\n      <Button type=\"primary\" icon=\"ios-search\" @click=\"search_btn\">查询</Button>\r\n      <Button type=\"error\" icon=\"ios-trash\" @click=\"empty_btn\">清空</Button>\r\n    </div>\r\n    <div>\r\n      <Button type=\"primary\" @click=\"clickall\">修改</Button\r\n      ><span style=\"margin-left: 5px\">注意：可以批量进行修改</span>\r\n    </div>\r\n    <div class=\"tablebox\">\r\n      <Table\r\n        :columns=\"columns1\"\r\n        :data=\"listdata\"\r\n        ref=\"selection\"\r\n        :loading=\"loading\"\r\n        @on-selection-change=\"changeselection\" :max-height=\"tableHeight\">\r\n        <template slot-scope=\"{ row }\" slot=\"CreateDate\"\r\n          >{{ row.CreateDate | showDateexact }}\r\n        </template>\r\n        <template slot-scope=\"{ row }\" slot=\"Action\">\r\n          <Button :disabled='row._disabled==true?true:false' type=\"primary\" size=\"small\" @click=\"clickitem(row)\"\r\n            >修改</Button\r\n          >\r\n        </template>\r\n      </Table>\r\n      <div style=\"margin-top: 20px; float: right\">\r\n        <Page\r\n          :total=\"total\"\r\n          :page-size=\"PageSize\"\r\n          show-total\r\n          :current=\"PageIndex\"\r\n          :page-size-opts=\"showPageArr\"\r\n          @on-page-size-change=\"changepagesize\"\r\n          @on-change=\"changepage\"\r\n          show-elevator\r\n          show-sizer\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { statisticstorageshow, statisticstorageModify } from \"../../api/CgApi\";\r\nlet lodash = require(\"lodash\");\r\nexport default {\r\n  data() {\r\n    return {\r\n      columns1: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\",\r\n        },\r\n        {\r\n          type: \"index\",\r\n          width: 60,\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"客户名称\",\r\n          key: \"Name\",\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"入仓号\",\r\n          key: \"EnterCode\",\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"日期\",\r\n          slot: \"CreateDate\",\r\n          align: \"center\",\r\n        },\n        {\r\n          title: \"面积\",\r\n          key: \"Quantity\",\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            var vm = this;\r\n            return h(\"Input\", {\r\n              props: {\r\n                //将单元格的值给Input\r\n                value: params.row.Quantity,\r\n                disabled: params.row._disabled\r\n              },\r\n              on: {\r\n                \"on-blur\"(event) {\r\n                  //值改变时\r\n                  //将渲染后的值重新赋值给单元格值\r\n                  if (event.target.value != \"\") {\r\n                    var reg = /^(\\d+)(.\\d{0,2})?$/; \r\n                    if (reg.test(event.target.value) == true) {\r\n                      params.row.Quantity = Number(event.target.value);\r\n                      vm.listdata[params.index] = params.row;\r\n                      vm.clicktest(params.row);\r\n                    } else {\r\n                      vm.$Message.error(\"请输入体积\");\r\n                      event.target.value = \"\";\r\n                      params.row.Quantity = \"\";\r\n                      vm.listdata[params.index] = params.row;\r\n                    }\r\n                  } else {\r\n                    vm.$Message.error(\"请输入体积\");\r\n                    event.target.value = \"\";\r\n                    params.row.Quantity = \"\";\r\n                    vm.listdata[params.index] = params.row;\r\n                  }\r\n                },\r\n              },\r\n            });\r\n          },\r\n        },\r\n        {\r\n          title: \"大箱\",\r\n          key: \"largebox\",\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            var vm = this;\r\n            return h(\"Input\", {\r\n              props: {\r\n                //将单元格的值给Input\r\n                value: params.row.Box3Quantity,\r\n                disabled:params.row._disabled\r\n              },\r\n              on: {\r\n                \"on-blur\"(event) {\r\n                  //值改变时\r\n                  //将渲染后的值重新赋值给单元格值\r\n                  if (event.target.value != \"\") {\r\n                    var reg = /^[0-9]*$/;\r\n                    if (reg.test(event.target.value) == true) {\r\n                      params.row.Box3Quantity = Number(event.target.value);\r\n                      vm.listdata[params.index] = params.row;\r\n                      vm.clicktest(params.row);\r\n                    } else {\r\n                      vm.$Message.error(\"请输入数量\");\r\n                      event.target.value = \"\";\r\n                      params.row.Box3Quantity = \"\";\r\n                      vm.listdata[params.index] = params.row;\r\n                    }\r\n                  } else {\r\n                    vm.$Message.error(\"请输入数量\");\r\n                    event.target.value = \"\";\r\n                    params.row.Box3Quantity = \"\";\r\n                    vm.listdata[params.index] = params.row;\r\n                  }\r\n                },\r\n              },\r\n            });\r\n          },\r\n        },\r\n        {\r\n          title: \"中箱\",\r\n          key: \"mediumbox\",\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            var vm = this;\r\n            return h(\"Input\", {\r\n              props: {\r\n                //将单元格的值给Input\r\n                value: params.row.Box2Quantity, //vm.trim(params.row.Box2Quantity)\r\n                disabled:params.row._disabled\r\n              },\r\n              on: {\r\n                \"on-blur\"(event) {\r\n                  if (event.target.value != \"\") {\r\n                    var reg = /^[0-9]*$/;\r\n                    if (reg.test(event.target.value) == true) {\r\n                      params.row.Box2Quantity = Number(event.target.value);\r\n                      vm.listdata[params.index] = params.row;\r\n                      vm.clicktest(params.row);\r\n                    } else {\r\n                      vm.$Message.error(\"请输入数量\");\r\n                      event.target.value = \"\";\r\n                      params.row.Box2Quantity = \"\";\r\n                      vm.listdata[params.index] = params.row;\r\n                    }\r\n                  } else {\r\n                    vm.$Message.error(\"请输入数量\");\r\n                    event.target.value = \"\";\r\n                    params.row.Box2Quantity = \"\";\r\n                    vm.listdata[params.index] = params.row;\r\n                  }\r\n                },\r\n              },\r\n            });\r\n          },\r\n        },\r\n        {\r\n          title: \"小箱\",\r\n          key: \"smallbox\",\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            var vm = this;\r\n            return h(\"Input\", {\r\n              props: {\r\n                //将单元格的值给Input\r\n                value: params.row.Box1Quantity, //vm.trim(params.row.Box3Quantity)\r\n                disabled:params.row._disabled\r\n              },\r\n              on: {\r\n                \"on-blur\"(event) {\r\n                  if (event.target.value != \"\") {\r\n                    var reg = /^[0-9]*$/;\r\n                    if (reg.test(event.target.value) == true) {\r\n                      params.row.Box1Quantity = Number(event.target.value);\r\n                      vm.listdata[params.index] = params.row;\r\n                      vm.clicktest(params.row);\r\n                    } else {\r\n                      vm.$Message.error(\"请输入数量\");\r\n                      event.target.value = \"\";\r\n                      params.row.Box1Quantity = \"\";\r\n                      vm.listdata[params.index] = params.row;\r\n                    }\r\n                  } else {\r\n                    vm.$Message.error(\"请输入数量\");\r\n                    event.target.value = \"\";\r\n                    params.row.Box1Quantity = \"\";\r\n                    vm.listdata[params.index] = params.row;\r\n                  }\r\n                },\r\n              },\r\n            });\r\n          },\r\n        },\r\n        // {\r\n        //   title: \"中箱\",\r\n        //   slot: \"mediumbox\",\r\n        //   align: \"center\",\r\n        // },\r\n        // {\r\n        //   title: \"小箱\",\r\n        //   slot: \"smallbox\",\r\n        //   align: \"center\",\r\n        // },\r\n        {\r\n          title: \"操作\",\r\n          slot: \"Action\",\r\n          align: \"center\",\r\n        },\r\n      ],\r\n      listdata: [],\r\n      total: 200,\r\n      loading: true,\r\n      client: \"\", //客户,\r\n      EnterCode: \"\", //入仓号\r\n      StartDate: \"\", //开始时间,\r\n      EndDate: \"\", //结束时间\r\n      PageIndex: 1, //页码\r\n      PageSize: 20, //页数\r\n      saleDate: \"\",\r\n      Selectdata: [],\r\n      tableHeight:500,\r\n    };\r\n  },\r\n  computed: {\r\n    showPageArr() {\r\n      return this.$store.state.common.PageArr;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.setnva();\r\n    this.getDates();\r\n    this.statisticstorageshow();\r\n    this.tableHeight = window.innerHeight - this.$refs.selection.$el.offsetTop - 100\r\n  },\r\n  methods: {\r\n    trim(str) {\r\n      //去除前后空格\r\n      if (str) {\r\n        return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\r\n      }\r\n    },\r\n    setnva() {\r\n      var cc = [\r\n        {\r\n          title: \"仓储费管理\",\r\n        },\r\n      ];\r\n      this.$store.dispatch(\"setnvadata\", cc);\r\n    },\r\n    // 及时更新选中\r\n    clicktest: lodash.throttle(function (paramsrow) {\r\n      for (var i = 0, lens = this.Selectdata.length; i < lens; i++) {\r\n        if (paramsrow.ID == this.Selectdata[i].ID) {\r\n          this.Selectdata[i] = paramsrow;\r\n        }\r\n      }\r\n    }, 0),\r\n    getDates() {\r\n      const myDate = new Date();\r\n      const year = myDate.getFullYear(); // 获取当前年份\r\n      const month = myDate.getMonth() + 1; // 获取当前月份(0-11,0代表1月所以要加1);\r\n      const day = myDate.getDate(); // 获取当前日（1-31）\r\n      this.saleDate = [`${year}-${month}-${day}`, `${year}-${month}-${day}`];\r\n      this.StartDate = `${year}-${month}-${day}`;\r\n      this.EndDate = `${year}-${month}-${day}`;\r\n    },\r\n    changeDatePicker(val) {\r\n      console.log(val);\r\n      if (val[0] == \"\" && val[1] == \"\") {\r\n        this.StartDate = null;\r\n        this.EndDate = null;\r\n      } else {\r\n        this.StartDate = val[0];\r\n        this.EndDate = val[1];\r\n      }\r\n    },\r\n    // 获取列表数据\r\n    statisticstorageshow() {\r\n      var data = {\r\n        WhID: sessionStorage.getItem(\"UserWareHouse\"),\r\n        EnterCode: this.EnterCode,\r\n        StartTime: this.StartDate,\r\n        EndTime: this.EndDate,\r\n        ClientName: this.client,\r\n        PageIndex: this.PageIndex,\r\n        PageSize: this.PageSize,\r\n      };\r\n      console.log(data);\r\n      statisticstorageshow(data).then((res) => {\r\n        console.log(res);\r\n        this.total = res.data.Total;\r\n        this.listdata = res.data.Data;\r\n        this.loading = false;\r\n      });\r\n    },\r\n    changepage(value) {\r\n      //改变页码\r\n      this.loading = true;\r\n      this.PageIndex = value;\r\n      this.statisticstorageshow();\r\n    },\r\n    changepagesize(value) {\r\n      this.loading = true;\r\n      this.PageSize = value;\r\n      this.PageIndex = 1;\r\n      this.statisticstorageshow();\r\n    },\r\n    // 收缩\r\n    search_btn() {\r\n      this.loading = true;\r\n      this.PageIndex = 1;\r\n      this.statisticstorageshow();\r\n    },\r\n    // 清空\r\n    empty_btn() {\r\n      (this.EnterCode = \"\"),\r\n        (this.StartDate = \"\"),\r\n        (this.EndDate = \"\"),\r\n        (this.client = \"\"),\r\n        (this.PageIndex = 1),\r\n        (this.PageSize = 20),\r\n        this.getDates();\r\n      this.statisticstorageshow();\r\n    },\r\n    //弹出确认提示框\r\n    confirm(type, data) {\r\n      // console.log(data)\r\n      var sumbitdata = [];\r\n      if (type == 0) {\r\n        for (var i = 0; i < data.length; i++) {\r\n          var newdata = {\n            Quantity: data[i].Quantity,\r\n            Box1Quantity: data[i].Box1Quantity,\r\n            Box2Quantity: data[i].Box2Quantity,\r\n            Box3Quantity: data[i].Box3Quantity,\r\n            AdminID: data[i].AdminID,\r\n            ID: data[i].ID,\r\n          };\r\n          sumbitdata.push(newdata);\r\n        }\r\n      } else {\r\n        var data = {\n          Quantity: data.Quantity,\r\n          Box1Quantity: data.Box1Quantity,\r\n          Box2Quantity: data.Box2Quantity,\r\n          Box3Quantity: data.Box3Quantity,\r\n          AdminID: data.AdminID,\r\n          ID: data.ID,\r\n        };\r\n        sumbitdata.push(data);\r\n      }\r\n      console.log(sumbitdata);\r\n      if (sumbitdata.length > 0) {\r\n        this.$Modal.confirm({\r\n          title: \"是否确认修改\",\r\n          // content: '',\r\n          onOk: () => {\r\n            // this.$Message.info(\"Clicked ok\");\r\n            this.statisticstorageModify(sumbitdata);\r\n          },\r\n          onCancel: () => {\r\n            // this.$Message.info(\"Clicked cancel\");\r\n          },\r\n        });\r\n      } else {\r\n      }\r\n    },\r\n    changeselection(selection) {\r\n      console.log(selection);\r\n      this.Selectdata = selection;\r\n    },\r\n    clickall() {\r\n      if (this.Selectdata.length <= 0) {\r\n        this.$Message.warning(\"请至少选择一条\");\r\n      } else {\r\n        try {\r\n          this.Selectdata.forEach((item, index) => {\r\n            //跳出条件\r\n            if (item.Box1Quantity!==\"\"&&item.Box2Quantity!==\"\"&&item.Box3Quantity!==\"\") {\r\n              if (index == this.Selectdata.length - 1) {\r\n                this.confirm(0, this.Selectdata);\r\n              }\r\n            } else {\r\n              this.$Message.error(\"请输入数量\");\r\n              throw new Error(\"\");\r\n            }\r\n          });\r\n        } catch (e) {\r\n          // if (e.message !== \"LoopTerminates\") throw e;\r\n        }\r\n\r\n        // this.confirm(0, this.Selectdata);\r\n      }\r\n    },\r\n    clickitem(row) {\r\n      if (row.Box1Quantity!==\"\"&&row.Box2Quantity!==\"\"&&row.Box3Quantity!==\"\" ) {\r\n        this.confirm(1, row);\r\n      } else {\r\n        this.$Message.error(\"请输入数量\");\r\n      }\r\n    },\r\n    statisticstorageModify(arr) {\r\n      var data = {\r\n        StatisticStorages: arr,\r\n      };\r\n      statisticstorageModify(data).then((res) => {\r\n        console.log(res);\r\n        if (res.success == true) {\r\n          this.$Message.success(\"修改成功\");\r\n          this.loading = true;\r\n          this.statisticstorageshow();\r\n          this.Selectdata=[]\r\n        } else {\r\n          this.$Message.error(res.data);\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.searchbox {\r\n  padding-bottom: 30px;\r\n}\r\n.inputbox {\r\n  width: 23%;\r\n  display: inline-block;\r\n  margin-right: 15px;\r\n}\r\n.inputitem {\r\n  width: 60%;\r\n}\r\n.tablebox {\r\n  padding-top: 20px;\r\n}\r\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/Pages/Stock/StorageCharge.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"searchbox\"},[_c('div',{staticClass:\"inputbox\"},[_c('label',[_vm._v(\"客户名称：\")]),_vm._v(\" \"),_c('Input',{staticClass:\"inputitem\",attrs:{\"placeholder\":\"请输入客户名称\"},model:{value:(_vm.client),callback:function ($$v) {_vm.client=$$v},expression:\"client\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"inputbox\"},[_c('label',[_vm._v(\"入仓号：\")]),_c('Input',{staticClass:\"inputitem\",attrs:{\"placeholder\":\"请输入入仓号\"},model:{value:(_vm.EnterCode),callback:function ($$v) {_vm.EnterCode=$$v},expression:\"EnterCode\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"inputbox\"},[_c('label',[_vm._v(\"日期：\")]),_vm._v(\" \"),_c('DatePicker',{ref:\"element\",staticClass:\"inputitem\",attrs:{\"type\":\"daterange\",\"clearable\":false},on:{\"on-change\":_vm.changeDatePicker},model:{value:(_vm.saleDate),callback:function ($$v) {_vm.saleDate=$$v},expression:\"saleDate\"}})],1),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"ios-search\"},on:{\"click\":_vm.search_btn}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"error\",\"icon\":\"ios-trash\"},on:{\"click\":_vm.empty_btn}},[_vm._v(\"清空\")])],1),_vm._v(\" \"),_c('div',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.clickall}},[_vm._v(\"修改\")]),_c('span',{staticStyle:{\"margin-left\":\"5px\"}},[_vm._v(\"注意：可以批量进行修改\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"tablebox\"},[_c('Table',{ref:\"selection\",attrs:{\"columns\":_vm.columns1,\"data\":_vm.listdata,\"loading\":_vm.loading,\"max-height\":_vm.tableHeight},on:{\"on-selection-change\":_vm.changeselection},scopedSlots:_vm._u([{key:\"CreateDate\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(_vm._s(_vm._f(\"showDateexact\")(row.CreateDate))+\"\\n      \")]}},{key:\"Action\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('Button',{attrs:{\"disabled\":row._disabled==true?true:false,\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.clickitem(row)}}},[_vm._v(\"修改\")])]}}])}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"20px\",\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.total,\"page-size\":_vm.PageSize,\"show-total\":\"\",\"current\":_vm.PageIndex,\"page-size-opts\":_vm.showPageArr,\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-page-size-change\":_vm.changepagesize,\"on-change\":_vm.changepage}})],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-748322f8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Pages/Stock/StorageCharge.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-748322f8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./StorageCharge.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./StorageCharge.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./StorageCharge.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-748322f8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./StorageCharge.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-748322f8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Pages/Stock/StorageCharge.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}