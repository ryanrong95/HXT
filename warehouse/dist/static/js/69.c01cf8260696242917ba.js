webpackJsonp([69],{emxk:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("PJh5"),n=a.n(s),i=a("dciI"),r={name:"IncomeList",data:function(){return{value2:[],loading:!0,total:100,showDetail:!1,search:{s_begin:null,s_end:null,s_client:null,s_code:null,s_currency:null,s_payer:null,s_pageindex:1,s_pagesize:20},clientArr:[],CurrencieArr:[],CompanieArr:[],titleName:[{type:"index",width:60,align:"center"},{title:"客户名称",key:"ClientName",align:"center"},{title:"付款公司",key:"PayerName",align:"center"},{title:"入仓号",key:"EnterCode",align:"center"},{title:"币种",key:"CurrencyName",align:"center"},{title:"记账",key:"LeftPrice",align:"center"},{title:"现金",key:"RightPrice",align:"center"},{title:"条数",key:"Count",align:"center"},{title:"操作",slot:"action",align:"center"}],datalist:[],tableHeight:500}},created:function(){this.getCurDay(),this.getinfo(),this.search_btn()},computed:{showPageArr:function(){return this.$store.state.common.PageArr}},mounted:function(){this.setnva(),this.tableHeight=window.innerHeight-this.$refs.table.$el.offsetTop-100},methods:{showDatefun:function(e){if(""!=e&&e)return n()().format("YYYY-MM-DD")},getCurDay:function(){this.value2=[];var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,s=t+"-"+(a=a>9?a:"0"+a)+"-01",n=t+"-"+a+"-"+new Date(t,a,0).getDate();this.search.s_begin=s,this.search.s_end=n,this.value2.push(this.search.s_begin),this.value2.push(this.search.s_end),console.log(s),console.log(n)},setnva:function(){this.$store.dispatch("setnvadata",[{title:"支出统计",href:""}])},show:function(e){console.log(e),this.showDetail=!0,this.$router.push({path:"/Expendlist/ExpendlistDetail",query:{s_begin:e.Begin,s_end:e.End,clientId:e.ClientID,payer:e.Payer,currency:e.Currency,ClientName:e.ClientName,PayerName:e.PayerName,CurrencyName:e.CurrencyName}})},search_btn:function(){this.search.s_pageindex=1,this.searchdata()},searchdata:function(){var e=this;this.loading=!0,Object(i._55)(this.search).then(function(t){e.loading=!1,e.datalist=t.Data,e.total=t.Total})},clear_btns:function(){this.$refs.element.handleClear(),this.search.s_begin=null,this.search.s_end=null,this.search.s_client=null,this.search.s_code=null,this.search.s_currency=null,this.search.s_payer=null,this.search.s_pageindex=1,this.getCurDay(),this.searchdata()},changevisible:function(e){0==e&&this.$router.go(-1)},changepage:function(e){this.search.s_pageindex=e,this.searchdata(this.search)},changepagesize:function(e){this.search.s_pagesize=e,this.searchdata(this.search)},changeDatePicker:function(e){""==e[0]?this.search.s_begin=null:this.search.s_begin=e[0],""==e[1]?this.search.s_end=null:this.search.s_end=e[1]},getinfo:function(){var e=this;Object(i._50)().then(function(t){e.clientArr=t}),Object(i.U)().then(function(t){e.CompanieArr=t}),Object(i.V)().then(function(t){e.CurrencieArr=t})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"top"},[a("p",{staticClass:"itemlable"},[a("label",[e._v("客户名称：")]),e._v(" "),a("Select",{staticStyle:{width:"73%"},attrs:{filterable:""},model:{value:e.search.s_client,callback:function(t){e.$set(e.search,"s_client",t)},expression:"search.s_client"}},e._l(e.clientArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.text))])}),1)],1),e._v(" "),a("p",{staticClass:"itemlable"},[a("label",[e._v("付款公司：")]),e._v(" "),a("Select",{staticStyle:{width:"73%"},attrs:{filterable:""},model:{value:e.search.s_payer,callback:function(t){e.$set(e.search,"s_payer",t)},expression:"search.s_payer"}},e._l(e.CompanieArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.text))])}),1)],1),e._v(" "),a("p",{staticClass:"itemlable"},[a("label",[e._v("币种：")]),e._v(" "),a("Select",{staticStyle:{width:"73%"},attrs:{filterable:""},model:{value:e.search.s_currency,callback:function(t){e.$set(e.search,"s_currency",t)},expression:"search.s_currency"}},e._l(e.CurrencieArr,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.text))])}),1)],1),e._v(" "),a("p",{staticClass:"itemlable"},[a("label",[e._v("入仓号：")]),e._v(" "),a("Input",{staticStyle:{width:"73%"},attrs:{placeholder:"请输入入仓号"},model:{value:e.search.s_code,callback:function(t){e.$set(e.search,"s_code",t)},expression:"search.s_code"}})],1),e._v(" "),a("p",{staticClass:"itemlable"},[a("label",[e._v("日期选择：")]),e._v(" "),a("DatePicker",{ref:"element",staticStyle:{width:"73%"},attrs:{type:"daterange",clearable:!1,value:e.value2,"show-week-numbers":""},on:{"on-change":e.changeDatePicker}})],1),e._v(" "),a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:e.search_btn}},[e._v("查询")]),e._v(" "),a("Button",{attrs:{type:"error",icon:"ios-trash"},on:{click:e.clear_btns}},[e._v("清空")])],1),e._v(" "),e.datalist.length>0?a("p",{staticClass:"summary"},[e._v(e._s(e.datalist[0].summary))]):e._e(),e._v(" "),a("div",{staticClass:"listbox"},[a("Table",{ref:"table",attrs:{columns:e.titleName,data:e.datalist,loading:e.loading,"max-height":e.tableHeight},scopedSlots:e._u([{key:"action",fn:function(t){var s=t.row;return t.index,[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.show(s)}}},[e._v("查看")])]}}])}),e._v(" "),a("div",{staticClass:"pagebox"},[a("Page",{attrs:{"show-total":"","show-elevator":"","show-sizer":"",total:e.total,"page-size":e.search.s_pagesize,current:e.search.s_pageindex,"page-size-opts":e.showPageArr},on:{"on-change":e.changepage,"on-page-size-change":e.changepagesize}})],1)],1),e._v(" "),a("Drawer",{attrs:{title:"付款详情",width:80},on:{"on-visible-change":e.changevisible},model:{value:e.showDetail,callback:function(t){e.showDetail=t},expression:"showDetail"}},[a("router-view")],1)],1)},staticRenderFns:[]};var c=a("VU/8")(r,l,!1,function(e){a("rV0Q")},"data-v-34f90972",null);t.default=c.exports},rV0Q:function(e,t){}});
//# sourceMappingURL=69.c01cf8260696242917ba.js.map