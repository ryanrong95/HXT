{"version":3,"sources":["webpack:///src/Pages/Separate/SeparateDetail.vue","webpack:///./src/Pages/Separate/SeparateDetail.vue?a181","webpack:///./src/Pages/Separate/SeparateDetail.vue"],"names":["SeparateDetail","components","img-test","data","_this","this","waybillid","Consignorid","myplace","Conveyingplace","Carrier","CarrierList","WareHouseID","sessionStorage","getItem","ShelveID","ShelveArr","Code","WaybillType","CarrierID","ConsignorID","ExcuteStatus","Place","phonenumber","ConsignorName","EnterCode","Summary","Files","value","cityList","label","model1","columns7","title","slot","width","align","key","render","h","params","vm","props","row","Product","PartNumber","on","on-change","event","target","Storages","index","Manufacturer","DateCode","Quantity","on-blur","test","$Message","error","Summaryarr","Summarydata","objs","created","console","log","window","changed","getWayParter","Carriers","GetUsableShelves","mounted","methods","Initialization","ID","_this2","warehouseID","waybillID","Object","api","then","res","obj","Consignor","Contact","Phone","WaybillID","ProductStorages","length","SummaryStorages","addrow","newrow","splice","addSummary","newSummary","delrow","type","_this3","_this4","_this5","id","submitbtn","_this6","Summarytrue","Storagestrue","NewSummary","NewStorages","i","push","magtrue","map","item","stringify_default","val","success","that","setTimeout","$emit","changeimgs","newdata","delimg","file","indexOf","fromphotos","SessionID","AdminID","browser","SeletUpload","message","testfunction","imgdata","newfile","CustomName","FileName","FileID","Url","setphone","phones","disabledphone","clear_btn","PictureShow","url","Separate_SeparateDetail","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","padding","attrs","xs","sm","md","lg","placeholder","model","callback","$$v","expression","padding-top","float","autosize","maxRows","minRows","_l","_s","Name","CorPlace","Text","size","icon","click","$event","clear","Type","_e","columns","scopedSlots","_u","fn","ref","margin-right","font-size","font-width","transfer","filterable","$set","margin-rigth","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/44.c0fb3a75a6610859e4c8.js","sourcesContent":["<style scoped>\r\n.detailtitle {\r\n    line-height: 24px;\r\n    border-left: 5px solid #2d8cf0;\r\n    font-weight: bold;\r\n    font-size: 16px;\r\n    text-indent: 10px;\r\n}\r\n.box{\r\n    width: 100%;\r\n    min-height: 120px;\r\n    background: rgb(245, 247, 249);\r\n    margin: 15px 0px;\r\n}\r\n.buttons{\r\n    width:100%;\r\n    margin-top: 20px;\r\n    text-align: center;\r\n}\r\n.setupload {\r\n  /* width: 50px; */\r\n  height: 30px;\r\n  border: none;\r\n  float: left;\r\n  line-height: 1;\r\n  margin-right: 5px;\r\n}\r\n.iconstyle:hover{\r\n    cursor: pointer;\r\n}\r\n</style>\r\n<template>\r\n    <div>\r\n        <div>\r\n            <p class=\"detailtitle\">基础信息</p>\r\n            <div class=\"box\">\r\n                <Row style=\"padding:10px;\">\r\n                    <Col :xs=\"2\" :sm=\"4\" :md=\"6\" :lg=\"6\">\r\n                        <p>\r\n                            <label >运&nbsp;&nbsp;单&nbsp;&nbsp;号：\r\n                                <Input v-model=\"Code\" placeholder=\"请输入运单号\" style=\"width: 200px\" />\r\n                            </label>\r\n                        </p>\r\n                        <p style=\"padding-top:10px\">\r\n                          <label >入&nbsp;&nbsp;仓&nbsp;&nbsp;号：\r\n                            <Input v-model=\"EnterCode\" placeholder=\"请输入入仓号\" style=\"width: 200px\" />\r\n                          </label>  \r\n                        </p>\r\n                        <p style=\"width: 172%;padding-top:10px\">\r\n                            <label >备&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;注：\r\n                              <Input style=\"width:90%;float:right\"  type=\"textarea\" v-model=\"Summary\":autosize=\"{maxRows: 3,minRows: 3}\"  placeholder=\"请输入备注信息\" />\r\n                           </label>\r\n                        </p>\r\n                    </Col>\r\n                    <Col :xs=\"20\" :sm=\"16\" :md=\"12\" :lg=\"6\">\r\n                    <p>\r\n                        <label >承&nbsp;&nbsp;&nbsp;运&nbsp;&nbsp;&nbsp;&nbsp;商：\r\n                            <Select v-model=\"CarrierID\"  style=\"width:200px\">\r\n                                <Option v-for=\"item in CarrierList\" :value=\"item.ID\" :key=\"item.ID\">{{ item.Name }}</Option>\r\n                            </Select>\r\n                        </label>\r\n                    </p>\r\n                    <p style=\"padding-top:10px\">\r\n                        <label >发货人姓名：\r\n                            <Input v-model=\"ConsignorName\" placeholder=\"请输入发货人姓名\" style=\"width: 200px\" />\r\n                        </label>\r\n                    </p>\r\n                   \r\n                    </Col>\r\n                    <Col :xs=\"2\" :sm=\"4\" :md=\"6\" :lg=\"6\">\r\n                       <p >\r\n                        <label >输&nbsp;&nbsp;&nbsp;送&nbsp;&nbsp;&nbsp;&nbsp;地：\r\n                                <Select v-model=\"Place\"  style=\"width:200px\" >\r\n                                    <Option v-for=\"item in Conveyingplace\" :value=\"item.CorPlace\" :key=\"item.ID\">{{item.Text}}</Option>\r\n                                </Select>\r\n                            </label> \r\n                       </p>\r\n                       <p style=\"padding-top:10px\">\r\n                        <label >发货人电话：\r\n                             <Input v-model=\"phonenumber\" @on-blur=\"setphone\" type=\"tel\" placeholder=\"请输入发货人电话\" style=\"width: 200px\" />                               \r\n                        </label>\r\n                       </p> \r\n                       <!-- <p style=\"padding-top:10px\">\r\n                          <label >暂&nbsp;存&nbsp;库&nbsp;位：\r\n                            <Input v-model=\"ShelveID\" placeholder=\"请输入库位\" style=\"width: 200px\" />\r\n                          </label>\r\n                       </p>  -->\r\n                       <p style=\"padding-top:10px\">\r\n                          <label ><em class=\"bitian\">*</em>暂&nbsp;存&nbsp;库&nbsp;位：\r\n                            <!-- <Input v-model=\"ShelveID\" placeholder=\"请输入库位\" style=\"width: 200px\" /> -->\r\n                            <Select v-model=\"ShelveID\"  style=\"width:200px\">\r\n                                    <Option v-for=\"item in ShelveArr\" :value=\"item.ID\" :key=\"item.ID\">{{item.ID}}</Option>\r\n                            </Select>\r\n                             <!-- <Select v-model=\"CarrierID\"  style=\"width:200px\">\r\n                                <Option v-for=\"item in CarrierList\" :value=\"item.ID\" :key=\"item.ID\">{{ item.Name }}</Option>\r\n                             </Select> -->\r\n                          </label>\r\n                       </p> \r\n                    </Col>\r\n                    <Col :xs=\"2\" :sm=\"4\" :md=\"6\" :lg=\"6\">\r\n                        <div class=\"setupload\">\r\n                            <!-- <img-test type=\"webaill\" v-on:changitem=\"changeimgs($event,'webaill')\"></img-test> -->\r\n                            <Button type=\"primary\" size=\"small\" icon=\"ios-cloud-upload\" @click=\"SeletUpload('Waybill')\">传照</Button>\r\n                        </div>\r\n                        <div class=\"setupload\" style=\"float:rigth\">\r\n                            <Button size=\"small\" type=\"primary\" icon=\"md-reverse-camera\" @click=\"fromphotos()\">拍照</Button>\r\n                        </div>\r\n                        <ul style=\"clear:both;\">\r\n                            <li v-for=\"item in Files\" v-if=\"item.Type==8000\">\r\n                                <p>\r\n                                   <span @click=\"PictureShow(item.Url)\">{{item.CustomName}}</span> \r\n                                   <Icon class=\"iconstyle\" type=\"md-trash\" @click=\"delimg(item)\" />\r\n                                </p>\r\n                            </li>\r\n                        </ul>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <div style=\"padding-top:10px;\">\r\n                <p class=\"detailtitle\">描述信息</p>\r\n                <div style=\"padding-top:10px;\">\r\n                    <Table :columns=\"Summaryarr\" :data=\"Summarydata\">\r\n                        <template slot-scope=\"{ row, index }\" slot=\"indexs\">{{index+1}}</template>\r\n                        <template slot-scope=\"{ row, index }\" slot=\"action\">\r\n                                <Icon @click=\"addSummary(index)\" type=\"ios-add-circle-outline\" style=\"margin-right:5px;font-size:20px;font-width:600\" />\r\n                                <Icon @click=\"delrow(index,'Summary')\" type=\"ios-trash-outline\" style=\"font-size:20px;font-width:600\" />\r\n                        </template>\r\n                    </Table>\r\n                </div>\r\n            </div>\r\n            <div style=\"padding-top:30px;\">\r\n                <p class=\"detailtitle\">产品信息</p>\r\n                <div style=\"padding-top:10px;\">\r\n                    <Table :columns=\"columns7\" :data=\"Storages\">\r\n                        <template slot-scope=\"{ row, index }\" slot=\"indexs\">{{index+1}}</template>\r\n                        <template slot-scope=\"{ row, index }\" slot=\"action\">\r\n                                <Icon @click=\"addrow(index)\" type=\"ios-add-circle-outline\" style=\"margin-right:5px;font-size:20px;font-width:600\" />\r\n                                <Icon @click=\"delrow(index,'product')\" type=\"ios-trash-outline\" style=\"font-size:20px;font-width:600\" />\r\n                        </template>\r\n                        <template slot-scope=\"{ row, index }\" slot=\"Place\">\r\n                                <Select v-model=\"row.Place\"  style=\"width:200px\" :transfer=\"true\" filterable>\r\n                                        <Option v-for=\"item in Conveyingplace\" :value=\"item.CorPlace\" :key=\"item.ID\">{{item.Text}}</Option>\r\n                                </Select>\r\n                        </template>\r\n                    </Table>\r\n                    <div class=\"buttons\">\r\n                        <Button size=\"large\" @click=\"clear_btn\">取消修改</Button>\r\n                        <Button type=\"primary\" size=\"large\" style=\"margin-rigth:5px\" @click=\"submitbtn\">保存</Button>\r\n                    </div>\r\n                </div>\r\n             </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {getWayParter,Carriers,SparateDetails,TempStorage,GetUsableShelves} from \"../../api\";\r\nimport {FormPhoto,SeletUploadFile,PictureShow} from \"@/js/browser.js\"\r\nimport imgtest from \"@/Pages/Common/imgtes\";\r\nexport default {\r\n    components: {\r\n    \"img-test\": imgtest,\r\n  },\r\n    data() {\r\n        return {\r\n            waybillid:\"\",\r\n            Consignorid:\"\",\r\n            myplace:\"\",//本地输送地\r\n            Conveyingplace:[],//输送地列表\r\n            Carrier:\"\",//承运商\r\n            CarrierList:[],//承运商列表\r\n            WareHouseID:sessionStorage.getItem('UserWareHouse'),//库房id\r\n\r\n            ShelveID:\"\",//暂存库位\r\n            ShelveArr:[],//暂存数组\r\n            Code:\"\",//运单号\r\n            WaybillType:\"\",//运单类型,\r\n            CarrierID:\"\",//承运商ID,\r\n            ConsignorID:\"\",//发货人,\r\n            ExcuteStatus:101,//执行状态,\r\n            Place:\"\",//原产地\r\n            phonenumber:\"\",//发件人电话\r\n            ConsignorName:\"\",//发货人姓名：\r\n            EnterCode:\"\",// 入仓号\r\n            Summary:\"\",  //备注\r\n            Files:[],//文件\r\n\r\n            value:\"\",\r\n            cityList: [\r\n                    {\r\n                        value: 'New York',\r\n                        label: 'New York'\r\n                    },\r\n                    {\r\n                        value: 'London',\r\n                        label: 'London'\r\n                    },\r\n                    {\r\n                        value: 'Sydney',\r\n                        label: 'Sydney'\r\n                    },\r\n                    {\r\n                        value: 'Ottawa',\r\n                        label: 'Ottawa'\r\n                    },\r\n                    {\r\n                        value: 'Paris',\r\n                        label: 'Paris'\r\n                    },\r\n                    {\r\n                        value: 'Canberra',\r\n                        label: 'Canberra'\r\n                    }\r\n                ],\r\n            model1: '',\r\n            columns7: [\r\n                    {\r\n                        title:\"\",\r\n                        slot:\"indexs\",\r\n                        width: 30,\r\n                        align: 'center'\r\n                    },\r\n                    {\r\n                        title: '操作',\r\n                        slot: 'action',\r\n                        width: 100,\r\n                        align: 'center'\r\n                    },\r\n                    {\r\n                        title: '型号',\r\n                        key: 'PartNumber',\r\n                        render: (h, params) => {\r\n                        var vm = this;\r\n                        return h(\"Input\", {\r\n                            props: {\r\n                            //将单元格的值给Input\r\n                            value: params.row.Product.PartNumber,\r\n                            },\r\n                            on: {\r\n                            \"on-change\"(event) {\r\n                                    //值改变时\r\n                                    //将渲染后的值重新赋值给单元格值\r\n                                    params.row.Product.PartNumber = event.target.value;\r\n                                    vm.Storages[params.index] = params.row;\r\n                                }\r\n                            }\r\n                        });\r\n                        }\r\n                    },\r\n                    {\r\n                        title: '品牌',\r\n                        key: 'Manufacturer',\r\n                        render: (h, params) => {\r\n                        var vm = this;\r\n                        return h(\"Input\", {\r\n                            props: {\r\n                            //将单元格的值给Input\r\n                            value: params.row.Product.Manufacturer,\r\n                            },\r\n                            on: {\r\n                            \"on-change\"(event) {\r\n                                    //值改变时\r\n                                    //将渲染后的值重新赋值给单元格值\r\n                                    params.row.Product.Manufacturer = event.target.value;\r\n                                    vm.Storages[params.index] = params.row;\r\n                                }\r\n                            }\r\n                        });\r\n                        }\r\n                    },\r\n                    {\r\n                        title: '批号',\r\n                        key: 'DateCode',\r\n                        render: (h, params) => {\r\n                        var vm = this;\r\n                        return h(\"Input\", {\r\n                            props: {\r\n                            //将单元格的值给Input\r\n                            value: params.row.DateCode,\r\n                            },\r\n                            on: {\r\n                                \"on-change\"(event) {\r\n                                    //值改变时\r\n                                    //将渲染后的值重新赋值给单元格值\r\n                                    params.row.DateCode = event.target.value;\r\n                                    vm.Storages[params.index] = params.row;\r\n                                }\r\n                            }\r\n                        });\r\n                        }\r\n                    },\r\n                    {\r\n                        title: '数量',\r\n                        key: 'Quantity',\r\n                        render: (h, params) => {\r\n                        var vm = this;\r\n                        return h(\"Input\", {\r\n                            props: {\r\n                            //将单元格的值给Input\r\n                            value: params.row.Quantity,\r\n                            },\r\n                            on: {\r\n                                \"on-change\"(event) {\r\n                                    //值改变时\r\n                                    //将渲染后的值重新赋值给单元格值\r\n                                    params.row.Quantity = event.target.value;\r\n                                    vm.Storages[params.index] = params.row;\r\n                                },\r\n                                \"on-blur\"() {\r\n                                    // var reg = /^[0-9]*$/;\r\n                                    if(event.target.value!=''){\r\n                                        var reg= /^\\d+(\\.\\d{0,2})?$/;\r\n                                        if (reg.test(event.target.value) == true) {\r\n                                            params.row.Quantity = event.target.value;\r\n                                        vm.Storages[params.index] = params.row;\r\n                                        } else {\r\n                                            vm.$Message.error(\"只能输入数量\");\r\n                                            (event.target.value = \"\"),\r\n                                            (params.row.Quantity = \"\");\r\n                                            vm.Storages[params.index] = params.row;\r\n                                        }\r\n                                    }\r\n                                    \r\n                                 }\r\n                            }\r\n                        });\r\n                        }\r\n                    },\r\n                    {\r\n                        title: '原产地',\r\n                        slot: 'Place',\r\n                    },\r\n                ],\r\n            Storages: [\r\n                    {\r\n                        WareHouseID:sessionStorage.getItem('UserWareHouse'),\r\n                        Quantity:\"\",//数量,\r\n                        ShelveID:\"\",//库位编号,\r\n                        DateCode:\"\",//批次号,\r\n                        Place:\"\", //产品原产地\r\n                        Product:{\r\n                          PartNumber:\"\",//型号\r\n                          Manufacturer:\"\",//制造商，品牌 \r\n                        }\r\n                    },\r\n              ],\r\n            Summaryarr:[\r\n                {\r\n                        title:\"\",\r\n                        slot:\"indexs\",\r\n                        width: 30,\r\n                        align: 'center'\r\n                },\r\n                {\r\n                    title: '操作',\r\n                    slot: 'action',\r\n                    width: 100,\r\n                    align: 'center'\r\n                },\r\n                {\r\n                        title: '描述',\r\n                        key: 'Summary',\r\n                        render: (h, params) => {\r\n                        var vm = this;\r\n                        return h(\"Input\", {\r\n                            props: {\r\n                            //将单元格的值给Input\r\n                            value: params.row.Summary\r\n                            },\r\n                            on: {\r\n                            \"on-change\"(event) {\r\n                                    //值改变时\r\n                                    //将渲染后的值重新赋值给单元格值\r\n                                    params.row.Summary = event.target.value;\r\n                                    vm.Summarydata[params.index] = params.row;\r\n                                }\r\n                            }\r\n                        });\r\n                        }\r\n                    },\r\n            ],\r\n            Summarydata:[\r\n                {\r\n                   WareHouseID:sessionStorage.getItem('UserWareHouse'),//库房编号,\r\n                   Quantity:0,//\r\n                   ShelveID:\"\",//库位编号,\r\n                   Summary:\"\",//简介\r\n                }\r\n            ],\r\n            objs:{}\r\n        }\r\n    },\r\n    created() {\r\n        console.log(\"暂存页加载\"),\r\n        window ['PhotoUploaded']=this.changed;\r\n        this.getWayParter();\r\n        this.Carriers()\r\n        this.GetUsableShelves()\r\n        console.log(this.WareHouseID)\r\n    },\r\n    mounted() {\r\n        \r\n    },\r\n    methods: {\r\n        Initialization(ID){  //页面加载。初始化数据\r\n          var data={\r\n              warehouseID:this.WareHouseID,//库房编号\r\n              waybillID:ID,//运单编号\r\n          };\r\n         SparateDetails(data).then((res) => {\r\n            console.log(res)\r\n            this.objs=res.obj;\r\n            //this.ShelveID=res.obj.//  ShelveID:\"\",//暂存库位\r\n            this.Code=res.obj.Code// Code:\"\",//运单号\r\n            this.CarrierID=res.obj.CarrierID// CarrierID:\"\",//承运商ID,\r\n            this.ConsignorID=res.obj.Consignor.Contact// ConsignorID:\"\",//发货人,联系人\r\n            this.Place=res.obj.Consignor.Place// Place:\"\",//原产地\r\n            this.phonenumber=res.obj.Consignor.Phone// phonenumber:\"\",//发件人电话\r\n            this.ConsignorName=res.obj.Consignor.Contact// ConsignorName:\"\",//发货人姓名：\r\n            this.EnterCode=res.obj.EnterCode// EnterCode:\"\",// 入仓号\r\n            this.Summary=res.obj.Summary// Summary:\"\",  //备注\r\n            this.Files=res.obj.Files// Files:[],//文件\r\n            this.waybillid=res.obj.WaybillID;\r\n            this.Consignorid=res.obj.ConsignorID;\r\n            // alert(JSON.stringify(this.Files))\r\n            if(res.obj.ProductStorages.length<=0){\r\n                this.Storages=[\r\n                    {\r\n                        WareHouseID:sessionStorage.getItem('UserWareHouse'),\r\n                        Quantity:\"\",//数量,\r\n                        ShelveID:\"\",//库位编号,\r\n                        DateCode:\"\",//批次号,\r\n                        Place:\"\", //产品原产地\r\n                        Product:{\r\n                          PartNumber:\"\",//型号\r\n                          Manufacturer:\"\",//制造商，品牌 \r\n                        }\r\n                    },\r\n                ]\r\n            }else{\r\n                 this.Storages=res.obj.ProductStorages;  //产品信息\r\n            }\r\n\r\n            if(res.obj.SummaryStorages.length<=0){\r\n                this.Summarydata=[\r\n                    {\r\n                        WareHouseID:sessionStorage.getItem('UserWareHouse'),//库房编号,\r\n                        Quantity:0,//\r\n                        ShelveID:\"\",//库位编号,\r\n                        Summary:\"\",//简介 \r\n                    }\r\n                ]\r\n            }else{\r\n                 this.Summarydata=res.obj.SummaryStorages;  //描述信息\r\n            }\r\n           \r\n           \r\n            if(res.obj.SummaryStorages.length>0){\r\n                this.ShelveID=this.Summarydata[0].ShelveID\r\n            }else{\r\n                this.ShelveID=this.Storages[0].ShelveID\r\n            }\r\n          \r\n           })\r\n        },\r\n        addrow(index){    //添加一行空数据\r\n            console.log(index)\r\n            var newrow={\r\n                        WareHouseID:sessionStorage.getItem('UserWareHouse'),\r\n                        Quantity:\"\",//数量,\r\n                        ShelveID:\"\",//库位编号,\r\n                        DateCode:\"\",//批次号,\r\n                        Place:\"\", //产品原产地\r\n                        Product:{\r\n                          PartNumber:\"\",//型号\r\n                          Manufacturer:\"\",//制造商，品牌 \r\n                     }\r\n            };\r\n        this.Storages.splice(index + 1, 0, newrow);\r\n        },\r\n        addSummary(index){\r\n            var newSummary={\r\n                   WareHouseID:sessionStorage.getItem('UserWareHouse'),//库房编号,\r\n                   Quantity:0,//\r\n                   ShelveID:\"\",//库位编号,\r\n                   Summary:\"\",//简介\r\n            };\r\n         this.Summarydata.splice(index + 1, 0, newSummary);\r\n        },\r\n        delrow(index,type){  //删除所选数据\r\n            if(type==\"Summary\"){\r\n                this.Summarydata.splice(index, 1);\r\n            }else{\r\n                this.Storages.splice(index, 1);\r\n            }\r\n            \r\n        },\r\n        getWayParter(){ //获取输送地列表\r\n            getWayParter().then(res => {\r\n                console.log(res)\r\n                this.Conveyingplace=res.obj;\r\n            });\r\n        },\r\n        Carriers(){ //获取承运商列表\r\n            Carriers().then(res => {\r\n                this.CarrierList=res.obj;\r\n                });\r\n        },\r\n        GetUsableShelves(){  //获取暂存库位数据\r\n            var id=sessionStorage.getItem('UserWareHouse');\r\n            console.log(id)\r\n            GetUsableShelves(id).then(res=>{\r\n                console.log(res)\r\n                this.ShelveArr=res.obj;\r\n            })\r\n        },\r\n        submitbtn(){\r\n            var Summarytrue=\"\";  //备注\r\n            var Storagestrue=\"\"; //产品\r\n            var NewSummary=[];//备注\r\n            var NewStorages=[];//产品\r\n        if(this.Summarydata.length==1&&this.Summarydata[0].Summary==\"\"){\r\n             Summarytrue=false\r\n        }else{\r\n             Summarytrue=true;\r\n             if(this.Summarydata.length>=1){\r\n                 for(var i=0;i<this.Summarydata.length;i++){\r\n                    if(this.Summarydata[i].Summary!=\"\"){\r\n                        NewSummary.push(this.Summarydata[i])\r\n                    }\r\n                 }\r\n             }\r\n        }\r\n        if(this.Storages.length==1&&this.Storages[0].Product.PartNumber==\"\"){\r\n             Storagestrue=false;\r\n        }else{\r\n            Storagestrue=true;\r\n            for(var i=0;i<this.Storages.length;i++){\r\n                    if(this.Storages[i].Product.PartNumber!=\"\"){\r\n                        NewStorages.push(this.Storages[i])\r\n                    }\r\n                }\r\n        }\r\n        if(Summarytrue==true||Storagestrue==true){\r\n            // alert(\"正确\")\r\n        }else{\r\n             this.$Message.error('请输入产品信息或描述信息');\r\n        }\r\n \r\n            if(this.ShelveID==\"\"){\r\n                 this.$Message.error('请输暂存库位');\r\n            }else{\r\n            var magtrue=\"\";//库位必填\r\n            if(Summarytrue==true||Storagestrue==true){\r\n             NewStorages.map((item) => {\r\n               item.ShelveID=this.ShelveID;\r\n               if(item.Quantity==\"\"||item.Place==\"\"){\r\n                   magtrue=true;\r\n               }else{\r\n                   magtrue=false;\r\n               }\r\n            });\r\n            NewSummary.map((item) => {\r\n               item.ShelveID=this.ShelveID;\r\n            })\r\n            \r\n            if(magtrue==true){\r\n                    this.$Message.error('数量与产地为必填');\r\n            }else{\r\n                 var objs={\r\n                    WaybillID:this.waybillid, \r\n                    Code:this.Code,//运单号\r\n                    WaybillType:3,//运单类型, 指快递\r\n                    CarrierID:this.CarrierID,//承运商ID, \r\n                    ExcuteStatus:300,//执行状态, 无101 暂存状态\r\n                    Files:this.Files,\r\n                    EnterCode:this.EnterCode,//入仓号\r\n                    Summary:this.Summary,//简介（运单）,\r\n                    SummaryStorages:NewSummary,\r\n                    ConsignorID:this.Consignorid,\r\n                    Consignor:{\r\n                        Contact:this.ConsignorName,//联系人姓名,\r\n                        Phone:this.phonenumber,//联系人电话,\r\n                        Place:this.Place,//原产地\r\n                    },\r\n                    ProductStorages:NewStorages,//产品列表\r\n                }\r\n                \r\n                console.log(objs)\r\n                var data={\r\n                    obj:JSON.stringify(objs)\r\n                }\r\n\r\n               TempStorage(data).then(res => {\r\n                console.log(res)\r\n                if(res.val==0){\r\n                     this.$Message.success(\"修改成功,两秒后关闭该页面\");\r\n                    var that=this;\r\n                    setTimeout(function(){\r\n                      that.$emit('uploadlist');                        \r\n                    },2000)\r\n                }else{\r\n                    this.$Message.error('修改失败，请检查录入信息是否正确');\r\n                }\r\n             });\r\n\r\n            }\r\n        }\r\n        \r\n        }\r\n        },  \r\n        changeimgs(newdata, row) {  //上传照片\r\n            if(row==\"webaill\"){\r\n                this.Files.push(newdata)\r\n            }\r\n        },\r\n        delimg(file){\r\n            this.Files.splice(this.Files.indexOf(file),1);\r\n            console.log(this.Files)\r\n        },\r\n      fromphotos(){ //拍照\r\n            var data={\r\n                SessionID:\"zancun\",\r\n                AdminID:sessionStorage.getItem(\"userID\")\r\n            }\r\n            FormPhoto(data)\r\n      \r\n    },\r\n    SeletUpload(type){// 传照\r\n        if(type==\"Waybill\"){\r\n            var data={\r\n                SessionID:this.waybillid,\r\n                AdminID:sessionStorage.getItem(\"userID\"),\r\n            }\r\n            SeletUploadFile(data)\r\n        }\r\n    },\r\n    changed(message){   //后台调用winfrom 拍照的方法\r\n      this.testfunction(message)  //前台拿到返回值处理数据\r\n    },\r\n    testfunction(message){  //前台处理数据的方法\r\n      var imgdata=message[0]\r\n      var newfile={\r\n                      CustomName:imgdata.FileName,\r\n                      ID: imgdata.FileID,\r\n                      Url: imgdata.Url,\r\n                      type:8000,\r\n                };\r\n          this.Files.push(newfile);\r\n    },\r\n    setphone(){\r\n        if(this.phonenumber!=''){\r\n            var mPattern = /(^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$)/;\r\n            var phones = mPattern.test(this.phonenumber)\r\n            console.log(phones)\r\n            this.disabledphone=phones\r\n            if(phones==false){\r\n                this.$Message.error('请输入正确的手机号');\r\n                this.phonenumber=\"\"\r\n            }\r\n        }\r\n    },\r\n    clear_btn(){\r\n        this.Initialization(this.waybillid)\r\n    },\r\n    PictureShow(url) {\r\n      //图片展示\r\n      var data = {\r\n        Url: url\r\n      };\r\n      PictureShow(data);\r\n    }\r\n    },\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/Pages/Separate/SeparateDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('p',{staticClass:\"detailtitle\"},[_vm._v(\"基础信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"box\"},[_c('Row',{staticStyle:{\"padding\":\"10px\"}},[_c('Col',{attrs:{\"xs\":2,\"sm\":4,\"md\":6,\"lg\":6}},[_c('p',[_c('label',[_vm._v(\"运  单  号：\\n                            \"),_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入运单号\"},model:{value:(_vm.Code),callback:function ($$v) {_vm.Code=$$v},expression:\"Code\"}})],1)]),_vm._v(\" \"),_c('p',{staticStyle:{\"padding-top\":\"10px\"}},[_c('label',[_vm._v(\"入  仓  号：\\n                        \"),_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入入仓号\"},model:{value:(_vm.EnterCode),callback:function ($$v) {_vm.EnterCode=$$v},expression:\"EnterCode\"}})],1)]),_vm._v(\" \"),_c('p',{staticStyle:{\"width\":\"172%\",\"padding-top\":\"10px\"}},[_c('label',[_vm._v(\"备        注：\\n                          \"),_c('Input',{staticStyle:{\"width\":\"90%\",\"float\":\"right\"},attrs:{\"type\":\"textarea\",\"autosize\":{maxRows: 3,minRows: 3},\"placeholder\":\"请输入备注信息\"},model:{value:(_vm.Summary),callback:function ($$v) {_vm.Summary=$$v},expression:\"Summary\"}})],1)])]),_vm._v(\" \"),_c('Col',{attrs:{\"xs\":20,\"sm\":16,\"md\":12,\"lg\":6}},[_c('p',[_c('label',[_vm._v(\"承   运    商：\\n                        \"),_c('Select',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.CarrierID),callback:function ($$v) {_vm.CarrierID=$$v},expression:\"CarrierID\"}},_vm._l((_vm.CarrierList),function(item){return _c('Option',{key:item.ID,attrs:{\"value\":item.ID}},[_vm._v(_vm._s(item.Name))])}),1)],1)]),_vm._v(\" \"),_c('p',{staticStyle:{\"padding-top\":\"10px\"}},[_c('label',[_vm._v(\"发货人姓名：\\n                        \"),_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入发货人姓名\"},model:{value:(_vm.ConsignorName),callback:function ($$v) {_vm.ConsignorName=$$v},expression:\"ConsignorName\"}})],1)])]),_vm._v(\" \"),_c('Col',{attrs:{\"xs\":2,\"sm\":4,\"md\":6,\"lg\":6}},[_c('p',[_c('label',[_vm._v(\"输   送    地：\\n                            \"),_c('Select',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.Place),callback:function ($$v) {_vm.Place=$$v},expression:\"Place\"}},_vm._l((_vm.Conveyingplace),function(item){return _c('Option',{key:item.ID,attrs:{\"value\":item.CorPlace}},[_vm._v(_vm._s(item.Text))])}),1)],1)]),_vm._v(\" \"),_c('p',{staticStyle:{\"padding-top\":\"10px\"}},[_c('label',[_vm._v(\"发货人电话：\\n                         \"),_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"tel\",\"placeholder\":\"请输入发货人电话\"},on:{\"on-blur\":_vm.setphone},model:{value:(_vm.phonenumber),callback:function ($$v) {_vm.phonenumber=$$v},expression:\"phonenumber\"}})],1)]),_vm._v(\" \"),_c('p',{staticStyle:{\"padding-top\":\"10px\"}},[_c('label',[_c('em',{staticClass:\"bitian\"},[_vm._v(\"*\")]),_vm._v(\"暂 存 库 位：\\n                        \"),_vm._v(\" \"),_c('Select',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.ShelveID),callback:function ($$v) {_vm.ShelveID=$$v},expression:\"ShelveID\"}},_vm._l((_vm.ShelveArr),function(item){return _c('Option',{key:item.ID,attrs:{\"value\":item.ID}},[_vm._v(_vm._s(item.ID))])}),1)],1)])]),_vm._v(\" \"),_c('Col',{attrs:{\"xs\":2,\"sm\":4,\"md\":6,\"lg\":6}},[_c('div',{staticClass:\"setupload\"},[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"ios-cloud-upload\"},on:{\"click\":function($event){return _vm.SeletUpload('Waybill')}}},[_vm._v(\"传照\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"setupload\",staticStyle:{\"float\":\"rigth\"}},[_c('Button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"md-reverse-camera\"},on:{\"click\":function($event){return _vm.fromphotos()}}},[_vm._v(\"拍照\")])],1),_vm._v(\" \"),_c('ul',{staticStyle:{\"clear\":\"both\"}},_vm._l((_vm.Files),function(item){return (item.Type==8000)?_c('li',[_c('p',[_c('span',{on:{\"click\":function($event){return _vm.PictureShow(item.Url)}}},[_vm._v(_vm._s(item.CustomName))]),_vm._v(\" \"),_c('Icon',{staticClass:\"iconstyle\",attrs:{\"type\":\"md-trash\"},on:{\"click\":function($event){return _vm.delimg(item)}}})],1)]):_vm._e()}),0)])],1)],1)]),_vm._v(\" \"),_c('div',[_c('div',{staticStyle:{\"padding-top\":\"10px\"}},[_c('p',{staticClass:\"detailtitle\"},[_vm._v(\"描述信息\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"padding-top\":\"10px\"}},[_c('Table',{attrs:{\"columns\":_vm.Summaryarr,\"data\":_vm.Summarydata},scopedSlots:_vm._u([{key:\"indexs\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(_vm._s(index+1))]}},{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Icon',{staticStyle:{\"margin-right\":\"5px\",\"font-size\":\"20px\",\"font-width\":\"600\"},attrs:{\"type\":\"ios-add-circle-outline\"},on:{\"click\":function($event){return _vm.addSummary(index)}}}),_vm._v(\" \"),_c('Icon',{staticStyle:{\"font-size\":\"20px\",\"font-width\":\"600\"},attrs:{\"type\":\"ios-trash-outline\"},on:{\"click\":function($event){return _vm.delrow(index,'Summary')}}})]}}])})],1)]),_vm._v(\" \"),_c('div',{staticStyle:{\"padding-top\":\"30px\"}},[_c('p',{staticClass:\"detailtitle\"},[_vm._v(\"产品信息\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"padding-top\":\"10px\"}},[_c('Table',{attrs:{\"columns\":_vm.columns7,\"data\":_vm.Storages},scopedSlots:_vm._u([{key:\"indexs\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(_vm._s(index+1))]}},{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Icon',{staticStyle:{\"margin-right\":\"5px\",\"font-size\":\"20px\",\"font-width\":\"600\"},attrs:{\"type\":\"ios-add-circle-outline\"},on:{\"click\":function($event){return _vm.addrow(index)}}}),_vm._v(\" \"),_c('Icon',{staticStyle:{\"font-size\":\"20px\",\"font-width\":\"600\"},attrs:{\"type\":\"ios-trash-outline\"},on:{\"click\":function($event){return _vm.delrow(index,'product')}}})]}},{key:\"Place\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"transfer\":true,\"filterable\":\"\"},model:{value:(row.Place),callback:function ($$v) {_vm.$set(row, \"Place\", $$v)},expression:\"row.Place\"}},_vm._l((_vm.Conveyingplace),function(item){return _c('Option',{key:item.ID,attrs:{\"value\":item.CorPlace}},[_vm._v(_vm._s(item.Text))])}),1)]}}])}),_vm._v(\" \"),_c('div',{staticClass:\"buttons\"},[_c('Button',{attrs:{\"size\":\"large\"},on:{\"click\":_vm.clear_btn}},[_vm._v(\"取消修改\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-rigth\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":_vm.submitbtn}},[_vm._v(\"保存\")])],1)],1)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3cd0db8e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Pages/Separate/SeparateDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3cd0db8e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SeparateDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SeparateDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SeparateDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3cd0db8e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SeparateDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3cd0db8e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Pages/Separate/SeparateDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}