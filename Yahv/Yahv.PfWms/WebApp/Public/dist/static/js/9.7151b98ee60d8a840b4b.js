webpackJsonp([9,29],{"1tDe":function(t,e){},YMGU:function(t,e){},uFmm:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={components:{ShelveManage:a("y7sT").default},data:function(){return{columns1:[{title:"#",slot:"index",width:50},{title:"库位类型",slot:"Type",align:"center"},{title:"编号",slot:"Code",align:"center"},{title:"库位个数",slot:"itemShelve",align:"center"},{title:"操作",slot:"action",align:"center"}],data1:[{name:"John Brown",age:18,address:"New York No. 1 Lake Park",date:"2016-10-03"},{name:"Jim Green",age:24,address:"London No. 1 Lake Park",date:"2016-10-01"},{name:"Joe Black",age:30,address:"Sydney No. 1 Lake Park",date:"2016-10-02"},{name:"Jon Snow",age:26,address:"Ottawa No. 2 Lake Park",date:"2016-10-04"}],setShelve:!1,showModalShelve:!1,showModaltitle:"",timer:""}},created:function(){this.setnva()},computed:{timer2:function(){return(new Date).getTime()},showModal:function(){return this.$store.state.common.showModalShelve}},mounted:function(){},methods:{setnva:function(){this.$store.dispatch("setnvadata",[{title:"库位管理",href:""}])},handleLoad:function(t){1==t?(this.timer=(new Date).getTime(),this.$router.push({path:"/CgStorehouse/ShelveManage",query:{ID:"11111"}})):this.$router.go(-1)},showmodelitem:function(t){},showmodel_btn:function(t,e){this.$router.push({path:t}),this.showModal=!0,this.showModaltitle=e},showModalchange:function(t){0==t&&this.$router.go(-1)}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("h1",{staticClass:"settitle"},[t._v("当前库房编码：HK")]),t._v(" "),a("div",[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.showmodel_btn("/CgStorehouse/Pallet","添加卡板库位")}}},[t._v("添加卡板库位")]),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.showmodel_btn("/CgStorehouse/Region","添加库区")}}},[t._v("添加库区")])],1)]),t._v(" "),a("div",{staticClass:"tablebox"},[a("Table",{attrs:{stripe:"",columns:t.columns1,data:t.data1},scopedSlots:t._u([{key:"index",fn:function(e){e.row;var o=e.index;return[a("strong",[t._v(t._s(o+1))])]}},{key:"Type",fn:function(e){var o=e.row;return e.index,[a("strong",[t._v(t._s(o.name))])]}},{key:"Code",fn:function(e){var o=e.row;return e.index,[a("strong",[t._v(t._s(o.name))])]}},{key:"itemShelve",fn:function(e){var o=e.row;return e.index,[a("strong",[t._v(t._s(o.name))])]}},{key:"action",fn:function(e){return e.row,e.index,[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.setShelve=!0}}},[t._v("管理货架库位")]),t._v(" "),a("Button",{attrs:{type:"error",size:"small"}},[t._v("删除货架")])]}}])})],1),t._v(" "),a("Drawer",{attrs:{title:"货架库位管理",closable:!1,width:"80",closable:""},on:{"on-visible-change":t.handleLoad},model:{value:t.setShelve,callback:function(e){t.setShelve=e},expression:"setShelve"}},[a("router-view")],1),t._v(" "),a("Modal",{attrs:{title:t.showModaltitle},on:{"on-ok":t.ok,"on-cancel":t.cancel,"on-visible-change":t.showModalchange},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("router-view")],1)],1)},staticRenderFns:[]};var s=a("VU/8")(o,n,!1,function(t){a("YMGU")},"data-v-725b0339",null);e.default=s.exports},y7sT:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("dciI"),n={data:function(){return{columns1:[{title:"#",slot:"Indexs"},{title:"编号",slot:"Code"},{title:"操作",slot:"actions",align:"center"}],data1:[{name:"John Brown",age:18,address:"New York No. 1 Lake Park",date:"2016-10-03"},{name:"Jim Green",age:24,address:"London No. 1 Lake Park",date:"2016-10-01"},{name:"Joe Black",age:30,address:"Sydney No. 1 Lake Park",date:"2016-10-02"},{name:"Jon Snow",age:26,address:"Ottawa No. 2 Lake Park",date:"2016-10-04"}],titlemodel:"",showmodel:!1,Numberarr:100,fromdata:{area:"",frame:"",row:"",place:""},Waybill:"",PalletArr:[],loading:!0,total:0,pageIndex:1,pageSize:10}},created:function(){this.Waybill=sessionStorage.getItem("UserWareHouse")},mounted:function(){this.setnva(),this.CgShowPallets()},methods:{setnva:function(){this.$store.dispatch("setnvadata",[{title:"库位管理",href:""}])},CgShowPallets:function(){var t=this,e={whid:this.Waybill,pageIndex:this.pageIndex,pageSize:this.pageSize};Object(o.k)(e).then(function(e){t.PalletArr=e.obj.Data,t.total=e.obj.Total,t.loading=!1})},changepage:function(t){this.pageIndex=t,this.loading=!0,this.CgShowPallets()},ok_btn:function(){var t=this;if(console.log(this.fromdata),""==this.fromdata.frame||""==this.fromdata.area||""==this.fromdata.row||""==this.fromdata.place)this.$Message.error("请输入必填项");else{var e=(Array(2).join("0")+this.fromdata.frame).slice(-2),a=(Array(2).join("0")+this.fromdata.place).slice(-2),n="0"+this.fromdata.area+e+this.fromdata.row+a,s={whCode:this.Waybill,place:n};Object(o.i)(s).then(function(e){1==e.success?(t.$Message.success("添加成功"),t.showmodel=!1,t.CgShowPallets()):e.code&&t.$Message.error("已存在")})}},cancel_btn:function(){this.showmodel=!1},changeshowmodel:function(t){0==t&&(this.fromdata={area:"",frame:"",row:"",place:""})},openmodel:function(t){console.log(t),this.titlemodel=1==t?"添加库位":"修改库位",this.showmodel=!0},confirmDel:function(t){var e=this;t=t;this.$Modal.confirm({title:"删除",content:"<p>是否确认删除此库位?</p>",onOk:function(){var a={id:t};Object(o.c)(a).then(function(t){1==t.success?(e.$Message.success("删除成功"),e.CgShowPallets()):e.$Message.error("删除失败,请联系管理员")})},onCancel:function(){e.$Message.info("取消删除")}})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("h1",{staticClass:"titlestyle"},[t._v("当前库房编号：HK01")]),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.openmodel(1)}}},[t._v("添加库位")])],1),t._v(" "),a("div",{staticClass:"tablebox"},[a("Table",{attrs:{columns:t.columns1,data:t.PalletArr},scopedSlots:t._u([{key:"Indexs",fn:function(e){e.row;var o=e.index;return[a("span",[t._v(t._s(o+1))])]}},{key:"Code",fn:function(e){var o=e.row;return e.index,[a("span",[t._v(t._s(o.PlaceIDs))])]}},{key:"actions",fn:function(e){var o=e.row;return e.index,[a("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.confirmDel(o.PlaceIDs)}}},[t._v("删除库位")])]}}])}),t._v(" "),a("div",{staticClass:"pagebox"},[a("Page",{attrs:{total:t.total,"page-size":t.pageSize,current:t.pageIndex},on:{"on-change":t.changepage}})],1)],1),t._v(" "),a("Modal",{attrs:{title:t.titlemodel},on:{"on-visible-change":t.changeshowmodel},model:{value:t.showmodel,callback:function(e){t.showmodel=e},expression:"showmodel"}},[a("div",{staticClass:"inputbox"},[a("label",{staticClass:"title_lable",attrs:{for:""}},[a("span",{staticClass:"bitian"},[t._v("*")]),t._v("库区：")]),t._v(" "),a("Select",{staticClass:"inputwidth",attrs:{filterable:""},model:{value:t.fromdata.area,callback:function(e){t.$set(t.fromdata,"area",e)},expression:"fromdata.area"}},t._l(26,function(e,o){return a("Option",{key:o,attrs:{value:String.fromCharCode(65+o)}},[t._v(t._s(String.fromCharCode(65+o)))])}),1)],1),t._v(" "),a("div",{staticClass:"inputbox"},[a("label",{staticClass:"title_lable",attrs:{for:""}},[a("span",{staticClass:"bitian"},[t._v("*")]),t._v("货架号：")]),t._v(" "),a("Select",{staticClass:"inputwidth",attrs:{filterable:""},model:{value:t.fromdata.frame,callback:function(e){t.$set(t.fromdata,"frame",e)},expression:"fromdata.frame"}},t._l(100,function(e,o){return a("Option",{key:o,attrs:{value:o}},[t._v(t._s(o))])}),1)],1),t._v(" "),a("div",{staticClass:"inputbox"},[a("label",{staticClass:"title_lable",attrs:{for:""}},[a("span",{staticClass:"bitian"},[t._v("*")]),t._v("层号：")]),t._v(" "),a("Select",{staticClass:"inputwidth",attrs:{filterable:""},model:{value:t.fromdata.row,callback:function(e){t.$set(t.fromdata,"row",e)},expression:"fromdata.row"}},t._l(t.Numberarr,function(e,o){return a("Option",{key:o,attrs:{value:e}},[t._v(t._s(e))])}),1)],1),t._v(" "),a("div",{staticClass:"inputbox"},[a("label",{staticClass:"title_lable",attrs:{for:""}},[a("span",{staticClass:"bitian"},[t._v("*")]),t._v("库位号：")]),t._v(" "),a("Select",{staticClass:"inputwidth",attrs:{filterable:""},model:{value:t.fromdata.place,callback:function(e){t.$set(t.fromdata,"place",e)},expression:"fromdata.place"}},t._l(100,function(e,o){return a("Option",{key:o,attrs:{value:o}},[t._v(t._s(o))])}),1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:t.cancel_btn}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:t.ok_btn}},[t._v("确定")])],1)])],1)},staticRenderFns:[]};var i=a("VU/8")(n,s,!1,function(t){a("1tDe")},"data-v-b34d6e7c",null);e.default=i.exports}});
//# sourceMappingURL=9.7151b98ee60d8a840b4b.js.map