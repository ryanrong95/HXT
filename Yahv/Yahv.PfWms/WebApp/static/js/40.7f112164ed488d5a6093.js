webpackJsonp([40],{SneM:function(t,e){},Vd6p:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("dciI"),s={data:function(){return{loading:!0,total:0,pageIndex:1,pageSize:10,columns1:[{title:"#",slot:"Indexs"},{title:"卡板编号",slot:"Code"},{title:"操作",slot:"actions",align:"center"}],palletarr:[],titlemodel:"",showmodel:!1,Code:"",Waybill:""}},created:function(){this.Waybill=sessionStorage.getItem("UserWareHouse"),this.ShowPallets()},mounted:function(){this.setnva()},methods:{setnva:function(){this.$store.dispatch("setnvadata",[{title:"卡板管理",href:""}])},ok_btn:function(){var t=this;if(""==this.Code)this.$Message.error("请选择卡板编号");else{var e=(Array(2).join("0")+this.Code).slice(-2);console.log(e);var o={whCode:this.Waybill,pallet:e};Object(n.t)(o).then(function(e){1==e.success?(t.$Message.success("添加成功"),t.showmodel=!1,t.ShowPallets()):e.code&&t.$Message.error("已存在")})}},cancel_btn:function(){this.showmodel=!1},changeshowmodel:function(t){0==t?(this.Code="",this.showmodel=!1):this.showmodel=!0},openmodel:function(t){console.log(t),this.titlemodel=1==t?"添加卡板":"修改卡板",this.showmodel=!0},ShowPallets:function(){var t=this,e={whid:this.Waybill,pageIndex:this.pageIndex,pageSize:this.pageSize};Object(n._1)(e).then(function(e){t.palletarr=e.obj.Data,t.total=e.obj.Total,t.loading=!1})},changepage:function(t){this.pageIndex=t,this.loading=!0,this.ShowPallets()},confirmDel:function(t){var e=this;t=t;this.$Modal.confirm({title:"删除",content:"<p>是否确认删除此卡板?</p>",onOk:function(){var o={id:t};console.log(o),Object(n.k)(o).then(function(t){console.log(t),1==t.success?(e.$Message.success("删除成功"),e.ShowPallets()):e.$Message.error("删除失败,请联系管理员")})},onCancel:function(){e.$Message.info("取消删除")}})}}},a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h1",{staticClass:"title_box"},[t._v("\n    当前库房编号：HK001\n    "),o("Button",{staticStyle:{"margin-left":"15px"},attrs:{type:"primary",icon:"md-add"},on:{click:function(e){return t.openmodel(1)}}},[t._v("添加卡版")])],1),t._v(" "),o("div",{staticStyle:{"padding-top":"15px"}},[o("Table",{attrs:{columns:t.columns1,data:t.palletarr,loading:t.loading},scopedSlots:t._u([{key:"Indexs",fn:function(e){e.row;var n=e.index;return[o("span",[t._v(t._s(n+1))])]}},{key:"Code",fn:function(e){var n=e.row;return e.index,[o("span",[t._v(t._s(n.PalletIDs))])]}},{key:"actions",fn:function(e){var n=e.row;return e.index,[o("Button",{attrs:{type:"error",size:"small",icon:"ios-trash-outline"},on:{click:function(e){return t.confirmDel(n.PalletIDs)}}},[t._v("删除")])]}}])}),t._v(" "),o("div",{staticClass:"pagebox"},[o("Page",{attrs:{total:t.total,"page-size":t.pageSize,current:t.pageIndex},on:{"on-change":t.changepage}})],1)],1),t._v(" "),o("Modal",{attrs:{title:t.titlemodel,"mask-closable":!1},on:{"on-visible-change":t.changeshowmodel},model:{value:t.showmodel,callback:function(e){t.showmodel=e},expression:"showmodel"}},[o("div",{staticClass:"inputbox"},[o("label",{attrs:{for:""}},[o("span",{staticClass:"bitian"},[t._v("*")]),t._v("卡板编号：")]),t._v(" "),o("Select",{staticClass:"inputwidth",attrs:{filterable:""},model:{value:t.Code,callback:function(e){t.Code=e},expression:"Code"}},t._l(99,function(e,n){return o("Option",{key:n,attrs:{value:e}},[t._v(t._s(e))])}),1)],1),t._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{on:{click:t.cancel_btn}},[t._v("取消")]),t._v(" "),o("Button",{attrs:{type:"primary"},on:{click:t.ok_btn}},[t._v("确定")])],1)])],1)},staticRenderFns:[]};var i=o("VU/8")(s,a,!1,function(t){o("SneM")},"data-v-42017399",null);e.default=i.exports}});
//# sourceMappingURL=40.7f112164ed488d5a6093.js.map