webpackJsonp([58],{L9SR:function(e,t){},RkgC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("dciI"),a={data:function(){return{columns1:[{title:"#",slot:"Indexs",width:100},{title:"库区编号",slot:"Code"},{title:"名称",slot:"Name"},{title:"操作",slot:"actions",align:"center"}],data1:[{name:"John Brown",age:18,address:"New York No. 1 Lake Park",date:"2016-10-03"},{name:"Jim Green",age:24,address:"London No. 1 Lake Park",date:"2016-10-01"},{name:"Joe Black",age:30,address:"Sydney No. 1 Lake Park",date:"2016-10-02"},{name:"Jon Snow",age:26,address:"Ottawa No. 2 Lake Park",date:"2016-10-04"}],titlemodel:"",showmodel:!1,Code:"",Name:"",Waybill:"",codearr:[],Regionarr:[],loading:!0,total:0,pageIndex:1,pageSize:10,IsEdit:!1}},created:function(){this.Waybill=sessionStorage.getItem("UserWareHouse")},mounted:function(){this.setnva(),this.CggetShowRegions()},methods:{setnva:function(){this.$store.dispatch("setnvadata",[{title:"库区管理",href:""}])},ok_btn:function(){var e=this;if(""==this.Code)this.$Message.error("请选择库区编号");else{console.log(this.IsEdit),this.showmodel=!1;var t={whCode:this.Waybill,region:this.Code,name:this.Name};Object(o.v)(t).then(function(t){1==t.success?(e.$Message.success("操作成功"),e.showmodel=!1,e.CggetShowRegions()):t.code&&e.$Message.error("已存在")})}},cancel_btn:function(){this.showmodel=!1},openmodel:function(e){console.log(e),1==e?(this.titlemodel="添加库区",this.Code="",this.Name="",this.IsEdit=!1):(this.IsEdit=!0,this.titlemodel="修改库区",this.Code=e.RegionCode,this.Name=e.Name),this.showmodel=!0},CggetShowRegions:function(){var e=this,t={whid:this.Waybill,pageIndex:this.pageIndex,pageSize:this.pageSize};Object(o.z)(t).then(function(t){e.Regionarr=t.obj.Data,e.total=t.obj.Total,e.loading=!1})},changepage:function(e){this.pageIndex=e,this.loading=!0,this.CggetShowRegions()},changeshowmodel:function(e){0==e&&(this.whCode="",this.region="",this.IsEdit=!1)},confirmDel:function(e){var t=this;e=e;this.$Modal.confirm({title:"删除",content:"<p>是否确认删除此库区?</p>",onOk:function(){var n={id:e};Object(o.k)(n).then(function(e){1==e.success?(t.$Message.success("删除成功"),t.CggetShowRegions()):t.$Message.error("删除失败,请联系管理员")})},onCancel:function(){t.$Message.info("取消删除")}})}}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticClass:"title_box"},[e._v("\n    当前库房编号：HK001\n    "),n("Button",{staticStyle:{"margin-left":"15px"},attrs:{type:"primary",icon:"md-add"},on:{click:function(t){return e.openmodel(1)}}},[e._v("添加库区")])],1),e._v(" "),n("div",{staticStyle:{"padding-top":"15px"}},[n("Table",{attrs:{columns:e.columns1,data:e.Regionarr,loading:e.loading},scopedSlots:e._u([{key:"Indexs",fn:function(t){t.row;var o=t.index;return[n("span",[e._v(e._s(o+1))])]}},{key:"Code",fn:function(t){var o=t.row;return t.index,[n("span",[e._v(e._s(o.RegionIDs))])]}},{key:"Name",fn:function(t){var o=t.row;return t.index,[n("span",[e._v(e._s(o.Name))])]}},{key:"actions",fn:function(t){var o=t.row;return t.index,[n("Button",{staticStyle:{"margin-left":"15px"},attrs:{type:"primary",size:"small",icon:"md-create"},on:{click:function(t){return e.openmodel(o)}}},[e._v("修改")]),e._v(" "),n("Button",{attrs:{type:"error",size:"small",icon:"ios-trash-outline"},on:{click:function(t){return e.confirmDel(o.RegionIDs)}}},[e._v("删除")])]}}])}),e._v(" "),n("div",{staticClass:"pagebox"},[n("Page",{attrs:{total:e.total,"page-size":e.pageSize,current:e.pageIndex},on:{"on-change":e.changepage}})],1)],1),e._v(" "),n("Modal",{attrs:{title:e.titlemodel},on:{"on-visible-change":e.changeshowmodel},model:{value:e.showmodel,callback:function(t){e.showmodel=t},expression:"showmodel"}},[n("div",{staticClass:"inputbox"},[n("label",{attrs:{for:""}},[n("span",{staticClass:"bitian"},[e._v("*")]),e._v("库区编号：")]),e._v(" "),n("Select",{staticClass:"inputwidth",attrs:{filterable:"",disabled:1==e.IsEdit},model:{value:e.Code,callback:function(t){e.Code=t},expression:"Code"}},e._l(26,function(t,o){return n("Option",{key:o,attrs:{value:"0"+String.fromCharCode(65+o)}},[e._v(e._s("0"+String.fromCharCode(65+o)))])}),1)],1),e._v(" "),n("div",{staticClass:"inputbox"},[n("label",{attrs:{for:""}},[n("span",{staticClass:"bitian"},[e._v(" ")]),e._v("库区名称：")]),e._v(" "),n("Input",{staticClass:"inputwidth",attrs:{placeholder:"请输入库房名称"},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}})],1),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{on:{click:e.cancel_btn}},[e._v("取消")]),e._v(" "),n("Button",{attrs:{type:"primary"},on:{click:e.ok_btn}},[e._v("确定")])],1)])],1)},staticRenderFns:[]};var i=n("VU/8")(a,s,!1,function(e){n("L9SR")},"data-v-0a6bb1b3",null);t.default=i.exports}});
//# sourceMappingURL=58.92cca0d48eea8c678ad4.js.map