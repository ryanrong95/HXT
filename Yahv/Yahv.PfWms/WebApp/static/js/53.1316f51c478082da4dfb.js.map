{"version":3,"sources":["webpack:///src/Pages/Stock/searchstock.vue","webpack:///./src/Pages/Stock/searchstock.vue?6735","webpack:///./src/Pages/Stock/searchstock.vue"],"names":["searchstock","data","showEdit","EditQuantity","obj","current","loading","search_data","WhID","sessionStorage","getItem","PartNumber","Manufacturer","ShelveID","StartTime","EndTime","PageIndex","PageSize","total","storages_title","type","width","align","title","slot","key","storages_data","columns1","data1","name","age","address","date","mounted","this","setnva","storages","methods","$store","dispatch","_this","Object","CgApi","then","res","val","Total","Data","changedata","value","console","log","changepage","search_btn","$refs","currentPage","$Message","warning","empty_btn","element","handleClear","EditQuantityblur","test","error","openshowEdit","row","visiblechange","Clear","info","Ok_btn","_this2","storageId","ID","quantity","Success","success","Stock_searchstock","render","_vm","_h","$createElement","_c","_self","attrs","for","_v","staticClass","placeholder","model","callback","$$v","$set","trim","expression","ref","staticStyle","placement","editable","separator","on","on-change","icon","click","margin-top","columns","scopedSlots","_u","fn","_s","DateCode","Origin","Supplier","_f","CreateDate","float","page-size","show-elevator","on-blur","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/53.1316f51c478082da4dfb.js","sourcesContent":["<template>\r\n  <div>\r\n    <div>\r\n      <!-- <Input v-model=\"search_data.Customercode\" placeholder=\"客户编号\" class=\"setwidth\" /> -->\r\n      <!-- <Input v-model=\"search_data.ID\" placeholder=\"库存编号\" class=\"setwidth\" />\r\n      <Input v-model=\"search_data.SortingID\" placeholder=\"分拣编号\" class=\"setwidth\" />-->\r\n      <label for=\"\">型号：</label><Input v-model.trim=\"search_data.PartNumber\" placeholder=\"型号\" class=\"setwidth\" />\r\n      <label for=\"\">品牌：</label><Input v-model.trim=\"search_data.Manufacturer\" placeholder=\"品牌\" class=\"setwidth\" />\r\n      <label for=\"\">库位：</label><Input v-model.trim=\"search_data.ShelveID\" placeholder=\"库位\" class=\"setwidth\" />\r\n      <!-- <Input v-model=\"search_data.batch\" placeholder=\"批次\" class=\"setwidth\" /> -->\r\n      <label for=\"\">开始时间与结束时间：</label>\r\n      <DatePicker\r\n        ref=\"element\"\r\n        type=\"daterange\"\r\n        placement=\"bottom-end\"\r\n        placeholder=\"选择入库时间\"\r\n        :editable=\"false\"\r\n        separator=\"  至  \"\r\n        @on-change=\"changedata\"\r\n        style=\"width:240px;\"\r\n      ></DatePicker>\r\n      <Button type=\"primary\" icon=\"ios-search\" @click=\"search_btn\">查询</Button>\r\n      <Button type=\"error\" icon=\"ios-trash\" @click=\"empty_btn\">清空</Button>\r\n    </div>\r\n    <div style=\"margin-top:20px;\">\r\n      <!-- <Table :columns=\"columns1\" :data=\"data1\"></Table> -->\r\n      <Table :columns=\"storages_title\" :data=\"storages_data\" :loading=\"loading\">\r\n        <template slot-scope=\"{ row }\" slot=\"PartNumber\">\r\n          <p>{{row.PartNumber}}</p>\r\n        </template>\r\n        <template slot-scope=\"{ row }\" slot=\"Manufacturer\">\r\n          <p>{{row.Manufacturer}}</p>\r\n        </template>\r\n        <template slot-scope=\"{ row }\" slot=\"Datacode\">\r\n          <p>{{row.DateCode}}</p>\r\n        </template>\r\n        <template slot-scope=\"{ row }\" slot=\"Origin\">\r\n          <p>{{row.Origin}}</p>\r\n        </template>\r\n        <template slot-scope=\"{ row }\" slot=\"Supplier\">\r\n          <p>{{row.Supplier}}</p>\r\n        </template>\r\n        <template slot-scope=\"{ row }\" slot=\"CreateDate\">\r\n          <p>{{row.CreateDate|showDateexact}}</p>\r\n        </template>\r\n        <!-- <template slot-scope=\"{ row }\" slot=\"Actions\">\r\n          <Button type=\"primary\" size='small' icon='md-create' @click=\"openshowEdit(row)\">修改数量</Button>\r\n        </template> -->\r\n      </Table>\r\n    </div>\r\n    <div style=\"margin-top:20px;float:right\">\r\n      <Page ref=\"pages\" :total=\"total\" @on-change=\"changepage\" :page-size=\"search_data.PageSize\" show-elevator />\r\n    </div>\r\n    <Modal v-model=\"showEdit\" title=\"修改库存数量\">\r\n        <div>\r\n           <Input v-model.trim=\"EditQuantity\" @on-blur='EditQuantityblur' placeholder=\"请输入数量\"/>\r\n        </div>\r\n        <div slot=\"footer\">\r\n           <Button @click=\"Clear\">取消</Button>\r\n           <Button @click='Ok_btn' type=\"primary\">确认</Button>\r\n        </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Cgstoragesshow ,CgUpdateDeliveredQty} from \"../../api/CgApi\";\r\n// import moment from \"moment\"\r\nexport default {\r\n  data() {\r\n    return {\r\n      showEdit:false,\r\n      EditQuantity:\"\",\r\n      obj:null,\r\n      current: 1,\r\n      loading: true,\r\n      search_data: {\r\n        WhID: sessionStorage.getItem(\"UserWareHouse\"),\r\n        PartNumber: null,\r\n        Manufacturer: null,\r\n        ShelveID: null,\r\n        StartTime: null,\r\n        EndTime: null,\r\n        PageIndex: 1,\r\n        PageSize: 10\r\n      },\r\n      total: 0, //分页总数\r\n      storages_title: [\r\n        {\r\n          type: 'index',\r\n          width: 60,\r\n          align: 'center'\r\n        },\r\n        {\r\n          title: \"型号\",\r\n          slot: \"PartNumber\"\r\n        },\r\n        {\r\n          title: \"品牌\",\r\n          slot: \"Manufacturer\"\r\n        },\r\n        {\r\n            title:\"批号\",\r\n            slot:\"Datacode\",\r\n        },\r\n        {\r\n            title:\"原产地\",\r\n            slot:\"Origin\",\r\n        },\r\n        {\r\n            title:\"供应商\",\r\n            slot:\"Supplier\",\r\n        },\r\n        {\r\n          title: \"数量\",\r\n          key: \"Quantity\"\r\n        },\r\n        {\r\n          title: \"入库时间\",\r\n          slot: \"CreateDate\"\r\n        },\r\n        {\r\n          title: \"所属库位编号\",\r\n          key: \"ShelveID\"\r\n        },\r\n        {\r\n          title: \"存储状态\",\r\n          key: \"StoragesStatusDes\"\r\n        },\r\n        // {\r\n        //   title: \"操作\",\r\n        //   slot: \"Actions\"\r\n        // }\r\n      ],\r\n      storages_data: [],\r\n      columns1: [\r\n        {\r\n          title: \"品名\",\r\n          key: \"name\"\r\n        },\r\n        {\r\n          title: \"品牌\",\r\n          key: \"age\"\r\n        },\r\n        {\r\n          title: \"型号\",\r\n          key: \"address\"\r\n        },\r\n        {\r\n          title: \"批次号\",\r\n          key: \"address\"\r\n        },\r\n        {\r\n          title: \"数量\",\r\n          key: \"address\"\r\n        },\r\n        {\r\n          title: \"入库时间\",\r\n          key: \"address\"\r\n        },\r\n        {\r\n          title: \"进价总值\",\r\n          key: \"address\"\r\n        },\r\n        {\r\n          title: \"报关总值\",\r\n          key: \"address\"\r\n        },\r\n        {\r\n          title: \"销售单价\",\r\n          key: \"address\"\r\n        },\r\n        {\r\n          title: \"销售总值\",\r\n          key: \"address\"\r\n        }\r\n      ],\r\n      data1: [\r\n        {\r\n          name: \"John Brown\",\r\n          age: 18,\r\n          address: \"New York No. 1 Lake Park\",\r\n          date: \"2016-10-03\"\r\n        },\r\n        {\r\n          name: \"Jim Green\",\r\n          age: 24,\r\n          address: \"London No. 1 Lake Park\",\r\n          date: \"2016-10-01\"\r\n        },\r\n        {\r\n          name: \"Joe Black\",\r\n          age: 30,\r\n          address: \"Sydney No. 1 Lake Park\",\r\n          date: \"2016-10-02\"\r\n        },\r\n        {\r\n          name: \"Jon Snow\",\r\n          age: 26,\r\n          address: \"Ottawa No. 2 Lake Park\",\r\n          date: \"2016-10-04\"\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  mounted() {\r\n    this.setnva();\r\n    this.storages(this.search_data);\r\n  },\r\n  methods: {\r\n    setnva() {\r\n      var cc = [\r\n        {\r\n          title: \"库存查询\",\r\n        },\r\n      ];\r\n      this.$store.dispatch(\"setnvadata\", cc);\r\n    },\r\n    storages(data) {\r\n      //初始化数据与查询数据\r\n      Cgstoragesshow(data).then(res => {\r\n        if (res.val != 3) {\r\n          if (res.obj.Total != 0) {\r\n            this.storages_data = res.obj.Data;\r\n            this.total = res.obj.Total;\r\n          } else {\r\n            this.storages_data = [];\r\n            this.total = 0;\r\n          }\r\n          this.loading = false;\r\n        }\r\n      });\r\n    },\r\n    changedata(value) {\r\n      //时间格式 获取开始时间与结束时间\r\n      console.log(value)\r\n      if(value[0]==''||value[1]==''){\r\n         this.search_data.StartTime =null;\r\n         this.search_data.EndTime = null;\r\n      }else{\r\n        this.search_data.StartTime = value[0];\r\n        this.search_data.EndTime = value[1];\r\n      }\r\n      \r\n    },\r\n    changepage(value) {\r\n      //改变页码\r\n      this.loading = true;\r\n      this.search_data.PageIndex = value;\r\n      this.current = 1;\r\n      this.storages(this.search_data);\r\n    },\r\n    search_btn() {\r\n      if (\r\n        this.search_data.PartNumber != null ||\r\n        this.search_data.Manufacturer != null ||\r\n        this.search_data.StartTime != null||\r\n        this.search_data.EndTime != null||\r\n        this.search_data.ShelveID!=null\r\n      ) {\r\n        this.search_data.PageIndex = 1;\r\n        this.loading = true;\r\n        this.storages(this.search_data);\r\n        this.$refs[\"pages\"].currentPage = 1;\r\n      } else {\r\n        this.$Message.warning(\"请输入查询条件\");\r\n      }\r\n    },\r\n    empty_btn() {\r\n      if (\r\n        this.search_data.PartNumber != null ||\r\n        this.search_data.Manufacturer != null ||\r\n        this.search_data.StartTime != null ||\r\n        this.search_data.EndTime != null||\r\n        this.search_data.ShelveID!=null\r\n      ) {\r\n        this.search_data = {\r\n          // Customercode:\"\",//客户编号\r\n          // ID:\"\",//库存编号\r\n          // SortingID:\"\",//分拣编号\r\n          PartNumber: null, //型号\r\n          Manufacturer:null, //品牌\r\n          ShelveID:null,\r\n          StartTime: null, //开始时间\r\n          EndTime: null, //结束时间\r\n          PageIndex: 1,\r\n          PageSize: 10\r\n        };\r\n        this.loading = true;\r\n        this.$refs.element.handleClear();\r\n        this.$refs[\"pages\"].currentPage = 1;\r\n        this.storages(this.search_data);\r\n      }\r\n    },\r\n    //改变数量的时候触发\r\n    EditQuantityblur(){\r\n           var reg=/\\d+(\\.\\d{0,2})?/\r\n           if(reg.test(this.EditQuantity) ==false||this.EditQuantity==0){\r\n              this.$Message.error('只能输入数量且不小于0');\r\n              this.EditQuantity=''   \r\n           }\r\n    },\r\n    //展开修改弹出框\r\n      openshowEdit(row){\r\n        this.showEdit=true;\r\n        this.obj=row\r\n      },\r\n      visiblechange(value){\r\n        if(value==false){\r\n          this.showEdit=false;\r\n          this.obj=null\r\n        }else{\r\n          this.showEdit=true;\r\n        }\r\n        this.EditQuantity=''\r\n      },\r\n      // 取消保存\r\n      Clear(){\r\n        this.showEdit=false;\r\n        this.$Message.info('取消修改');\r\n      },\r\n      //提交修改\r\n      Ok_btn(){\r\n        console.log(this.obj)\r\n        if(this.EditQuantity!=''){\r\n          var reg=/\\d+(\\.\\d{0,2})?/\r\n          if(reg.test(this.EditQuantity) == true){\r\n            var data={\r\n              storageId:this.obj.ID,  //库存ID\r\n              quantity:this.EditQuantity,// 在库到货数量\r\n            }\r\n            CgUpdateDeliveredQty(data).then(res=>{\r\n              if(res.Success==true){\r\n                this.$Message.success('数量修改成功');\r\n                this.showEdit=false;\r\n                this.loading=true;\r\n                this.storages(this.search_data);\r\n                this.EditQuantity=''\r\n              }else{\r\n                this.$Message.error('数量修改失败');\r\n              }\r\n            })\r\n          }else{\r\n            this.$Message.error('只能输入数量且不小于0');\r\n          }\r\n          \r\n        }else{\r\n          this.$Message.error('数量不能为空');\r\n        }\r\n      },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.setwidth {\r\n  width: 200px;\r\n  margin-right: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n</style>>\r\n\n\n\n// WEBPACK FOOTER //\n// src/Pages/Stock/searchstock.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"型号：\")]),_c('Input',{staticClass:\"setwidth\",attrs:{\"placeholder\":\"型号\"},model:{value:(_vm.search_data.PartNumber),callback:function ($$v) {_vm.$set(_vm.search_data, \"PartNumber\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"search_data.PartNumber\"}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"品牌：\")]),_c('Input',{staticClass:\"setwidth\",attrs:{\"placeholder\":\"品牌\"},model:{value:(_vm.search_data.Manufacturer),callback:function ($$v) {_vm.$set(_vm.search_data, \"Manufacturer\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"search_data.Manufacturer\"}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"库位：\")]),_c('Input',{staticClass:\"setwidth\",attrs:{\"placeholder\":\"库位\"},model:{value:(_vm.search_data.ShelveID),callback:function ($$v) {_vm.$set(_vm.search_data, \"ShelveID\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"search_data.ShelveID\"}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"开始时间与结束时间：\")]),_vm._v(\" \"),_c('DatePicker',{ref:\"element\",staticStyle:{\"width\":\"240px\"},attrs:{\"type\":\"daterange\",\"placement\":\"bottom-end\",\"placeholder\":\"选择入库时间\",\"editable\":false,\"separator\":\"  至  \"},on:{\"on-change\":_vm.changedata}}),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"ios-search\"},on:{\"click\":_vm.search_btn}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"error\",\"icon\":\"ios-trash\"},on:{\"click\":_vm.empty_btn}},[_vm._v(\"清空\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('Table',{attrs:{\"columns\":_vm.storages_title,\"data\":_vm.storages_data,\"loading\":_vm.loading},scopedSlots:_vm._u([{key:\"PartNumber\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('p',[_vm._v(_vm._s(row.PartNumber))])]}},{key:\"Manufacturer\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('p',[_vm._v(_vm._s(row.Manufacturer))])]}},{key:\"Datacode\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('p',[_vm._v(_vm._s(row.DateCode))])]}},{key:\"Origin\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('p',[_vm._v(_vm._s(row.Origin))])]}},{key:\"Supplier\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('p',[_vm._v(_vm._s(row.Supplier))])]}},{key:\"CreateDate\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('p',[_vm._v(_vm._s(_vm._f(\"showDateexact\")(row.CreateDate)))])]}}])})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"20px\",\"float\":\"right\"}},[_c('Page',{ref:\"pages\",attrs:{\"total\":_vm.total,\"page-size\":_vm.search_data.PageSize,\"show-elevator\":\"\"},on:{\"on-change\":_vm.changepage}})],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"修改库存数量\"},model:{value:(_vm.showEdit),callback:function ($$v) {_vm.showEdit=$$v},expression:\"showEdit\"}},[_c('div',[_c('Input',{attrs:{\"placeholder\":\"请输入数量\"},on:{\"on-blur\":_vm.EditQuantityblur},model:{value:(_vm.EditQuantity),callback:function ($$v) {_vm.EditQuantity=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"EditQuantity\"}})],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{on:{\"click\":_vm.Clear}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.Ok_btn}},[_vm._v(\"确认\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-25bafba0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Pages/Stock/searchstock.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25bafba0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./searchstock.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./searchstock.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./searchstock.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-25bafba0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./searchstock.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-25bafba0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Pages/Stock/searchstock.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}