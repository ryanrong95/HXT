{"version":3,"sources":["webpack:///src/Pages/CgStorehouse/ShelveManage.vue","webpack:///./src/Pages/CgStorehouse/ShelveManage.vue?9850","webpack:///./src/Pages/CgStorehouse/ShelveManage.vue"],"names":["product_url","__webpack_require__","ShelveManage","data","SelectRow","columns1","type","width","align","title","slot","data1","name","age","address","date","titlemodel","showmodel","Numberarr","fromdata","area","frame","row","place","Waybill","PalletArr","loading","total","pageIndex","pageSize","printurl","pfwms","created","this","sessionStorage","getItem","mounted","setnva","CgShowPallets","methods","$store","dispatch","href","_this","whid","Object","CgApi","then","res","obj","Data","Total","changepage","val","ok_btn","_this2","console","log","$Message","error","Array","join","slice","whCode","success","code","cancel_btn","changeshowmodel","openmodel","confirmDel","id","_this3","$Modal","confirm","content","onOk","onCancel","info","changeselect","value","PrintShelve","item","length","warning","custom","push","_this4","okText","cancelText","printOk","printarr","i","len","ID","PlaceIDs","Name","PositionID","EnterpriseName","FatherMsg","RegionName","RegionID","ShleveName","ShelveID","WarehouseID","WarehouseName","LeaseName","LeaseID","getsetting","browser","testurl","Url","indexOf","setting","CgStorehouse_ShelveManage","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","icon","on","click","$event","ref","columns","on-selection-change","scopedSlots","_u","key","fn","index","_s","size","page-size","current","on-change","on-visible-change","model","callback","$$v","expression","for","filterable","$set","_l","String","fromCharCode","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/46.a77288644fa88bda4c53.js","sourcesContent":["<style scoped>\r\n.titlestyle{\r\n  text-indent: 10px;\r\n  border-left: 4px solid #2d8cf0;\r\n  font-size: 15px;\r\n  line-height: 32px;\r\n  margin-right: 20px;\r\n  float: left;  \r\n}\r\n.tablebox{\r\n    padding-top: 20px;\r\n}\r\n.inputwidth{\r\n    width: 80%;\r\n}\r\n.title_lable{\r\n  display: inline-block;\r\n  min-width: 14%;\r\n  text-align: right\r\n}\r\n.inputbox{\r\n  margin-bottom: 15px;\r\n}\r\n.bitian{\r\n    color: red;\r\n    font-size: 20px;\r\n    vertical-align: -webkit-baseline-middle;\r\n    padding-right: 3px;\r\n}\r\n.pagebox{\r\n  text-align: right;\r\n  padding-top: 15px;\r\n}\r\n</style>\r\n<template>\r\n  <div>\r\n    <div>\r\n        <h1 class=\"titlestyle\">当前库房编号：HK01</h1>\r\n        <Button type=\"primary\" @click=\"openmodel(1)\" icon='md-add'>添加库位</Button>\r\n        <Button type=\"primary\" @click=\"PrintShelve(0)\" icon=\"ios-print-outline\">批量打印</Button>\r\n    </div>\r\n    <div class=\"tablebox\">\r\n        <Table :columns=\"columns1\" :data=\"PalletArr\" @on-selection-change='changeselect' ref=\"selection\">\r\n          <template slot-scope=\"{ row, index }\" slot=\"Code\">\r\n             <span>{{row.PlaceIDs}}</span>\r\n          </template>\r\n          <template slot-scope=\"{ row, index }\" slot=\"actions\">\r\n            <Button type=\"primary\" size='small' @click=\"PrintShelve(1,row)\" icon=\"ios-print-outline\">打印</Button>\r\n            <Button type=\"error\" size='small' @click=\"confirmDel(row.PlaceIDs)\"icon='ios-trash-outline'>删除</Button>\r\n          </template>\r\n        </Table>\r\n         <div class=\"pagebox\">\r\n         <Page :total=\"total\" :page-size='pageSize' :current='pageIndex' @on-change='changepage'/>\r\n      </div>\r\n    </div>\r\n    <Modal\r\n        v-model=\"showmodel\"\r\n        :title=\"titlemodel\"\r\n        @on-visible-change='changeshowmodel'>\r\n        <div class=\"inputbox\">\r\n            <label for=\"\" class=\"title_lable\"><span class=\"bitian\">*</span>库区：</label>\r\n            <Select v-model=\"fromdata.area\" filterable class=\"inputwidth\">\r\n                <Option v-for=\"(i,index) in 26\" :value=\"String.fromCharCode(65+index)\" :key=\"index\">{{ String.fromCharCode(65+index) }}</Option>\r\n            </Select>\r\n        </div>\r\n        <div class=\"inputbox\">\r\n            <label for=\"\" class=\"title_lable\"><span class=\"bitian\">*</span>货架号：</label>\r\n            <Select v-model=\"fromdata.frame\" filterable class=\"inputwidth\">\r\n                 <Option v-for=\"(item,index) in 100\" :value=\"index\" :key=\"index\">{{ index }}</Option>\r\n            </Select>\r\n        </div>\r\n        <div class=\"inputbox\">\r\n            <label for=\"\" class=\"title_lable\"><span class=\"bitian\">*</span>层号：</label>\r\n            <Select v-model=\"fromdata.row\" filterable class=\"inputwidth\">\r\n                <Option v-for=\"(item,index) in Numberarr\" :value=\"item\" :key=\"index\">{{ item }}</Option>\r\n            </Select>\r\n        </div>\r\n        <div class=\"inputbox\">\r\n            <label for=\"\" class=\"title_lable\"><span class=\"bitian\">*</span>库位号：</label>\r\n            <Select v-model=\"fromdata.place\" filterable class=\"inputwidth\">\r\n                 <Option v-for=\"(item,index) in 100\" :value=\"index\" :key=\"index\">{{ index }}</Option>\r\n            </Select>\r\n        </div>\r\n         <div slot=\"footer\">\r\n              <Button @click=\"cancel_btn\">取消</Button>\r\n              <Button type=\"primary\" @click=\"ok_btn\">确定</Button>\r\n        </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {CgShowPallets,CgSetPlace,CgDelete } from '../../api/CgApi'\r\nimport { GetPrinterDictionary, TemplatePrint } from \"@/js/browser.js\"\r\nlet product_url=require(\"../../../static/pubilc.dev\")\r\nexport default {\r\n  data() {\r\n    return {\r\n      SelectRow:[],\r\n      columns1: [\r\n        {\r\n          type: 'selection',\r\n          width: 60,\r\n          align: 'center'\r\n        },\r\n         {\r\n          type: 'index',\r\n          width: 100,\r\n          align: 'center'\r\n        },\r\n        {\r\n          title: \"编号\",\r\n          slot: \"Code\"\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          slot: \"actions\",\r\n          align: \"center\"\r\n        }\r\n      ],\r\n      data1: [\r\n        {\r\n          name: \"John Brown\",\r\n          age: 18,\r\n          address: \"New York No. 1 Lake Park\",\r\n          date: \"2016-10-03\"\r\n        },\r\n        {\r\n          name: \"Jim Green\",\r\n          age: 24,\r\n          address: \"London No. 1 Lake Park\",\r\n          date: \"2016-10-01\"\r\n        },\r\n        {\r\n          name: \"Joe Black\",\r\n          age: 30,\r\n          address: \"Sydney No. 1 Lake Park\",\r\n          date: \"2016-10-02\"\r\n        },\r\n        {\r\n          name: \"Jon Snow\",\r\n          age: 26,\r\n          address: \"Ottawa No. 2 Lake Park\",\r\n          date: \"2016-10-04\"\r\n        }\r\n      ],\r\n      titlemodel:\"\",//弹出框title\r\n      showmodel:false,\r\n      Numberarr:100,\r\n      fromdata:{\r\n        area:'',\r\n        frame:'',\r\n        row:'',\r\n        place:'',\r\n      },\r\n      Waybill:\"\",\r\n      PalletArr:[],\r\n      loading:true,\r\n      total:0,\r\n      pageIndex:1,\r\n      pageSize:10,\r\n      printurl:product_url.pfwms,\r\n    };\r\n  },\r\n  created() {\r\n    this.Waybill=sessionStorage.getItem(\"UserWareHouse\")\r\n  },\r\n  mounted() {\r\n    this.setnva()\r\n    this.CgShowPallets()\r\n  },\r\n  methods: {\r\n    setnva() {\r\n      var cc = [\r\n        {\r\n          title: \"库位管理\",\r\n          href: \"\"\r\n        }\r\n      ];\r\n      this.$store.dispatch(\"setnvadata\", cc);\r\n    },\r\n    CgShowPallets(){\r\n      var data={\r\n        whid:this.Waybill,\r\n        pageIndex:this.pageIndex,\r\n        pageSize:this.pageSize,\r\n      }\r\n      CgShowPallets(data).then(res=>{\r\n        this.PalletArr=res.obj.Data\r\n        this.total=res.obj.Total;\r\n        this.loading=false\r\n      })\r\n    },\r\n    changepage(val){\r\n      this.pageIndex=val;\r\n      this.loading=true;\r\n      this.CgShowPallets()\r\n    },\r\n    ok_btn(){\r\n      console.log(this.fromdata)\r\n      if(this.fromdata.frame==''&&this.fromdata.area==''&&this.fromdata.row==''&&this.fromdata.place==\"\"){\r\n          this.$Message.error('请输入必填项');\r\n      }else{\r\n        var frame=(Array(2).join('0') + this.fromdata.frame).slice(-2)\r\n        var place=(Array(2).join('0') + this.fromdata.place).slice(-2)\r\n        var data='0'+this.fromdata.area+frame+this.fromdata.row+place;\r\n        var obj={\r\n          whCode:this.Waybill,//库房编号，\r\n          place:data\r\n        }\r\n        CgSetPlace(obj).then(res=>{\r\n          if(res.success==true){\r\n            this.$Message.success('添加成功');\r\n            this.showmodel=false;\r\n            this.CgShowPallets()\r\n            this.fromdata.area=''\r\n            this.fromdata.frame=''\r\n            this.fromdata.row=''\r\n            this.fromdata.place=''\r\n          }else if(res.code){\r\n             this.$Message.error('已存在');\r\n          }\r\n        })\r\n      }\r\n       \r\n    },\r\n    cancel_btn(){\r\n        this.showmodel=false;\r\n    },\r\n    changeshowmodel(val){\r\n      if(val==false){\r\n        this.fromdata.area=''\r\n        this.fromdata.frame=''\r\n        this.fromdata.row=''\r\n        this.fromdata.place=''\r\n      }\r\n    },\r\n    openmodel(val){\r\n        console.log(val)\r\n        if(val==1){\r\n            this.titlemodel='添加库位'\r\n        }else{\r\n            this.titlemodel='修改库位'\r\n        }\r\n        this.showmodel=true;\r\n    },\r\n    confirmDel(id){\r\n      var id=id;\r\n        this.$Modal.confirm({\r\n            title: '删除',\r\n            content: '<p>是否确认删除此库位?</p>',\r\n            onOk: () => {\r\n              var data={\r\n                id:id\r\n              }\r\n                CgDelete(data).then(res=>{\r\n                  if(res.success==true){\r\n                     this.$Message.success('删除成功');\r\n                     this.CgShowPallets()\r\n                  }else{\r\n                     this.$Message.error('删除失败,请联系管理员');\r\n                  }\r\n                })\r\n            },\r\n            onCancel: () => {\r\n                this.$Message.info('取消删除');\r\n            }\r\n        });\r\n    },\r\n    //多选发生变化的时候，返回选中后的数据\r\n    changeselect(value){\r\n      console.log(value)\r\n      this.SelectRow = value;\r\n    },\r\n    //打印标签\r\n    PrintShelve(type,item){\r\n       if(type==0){\r\n         if(this.SelectRow.length<=0){\r\n          this.$Message.warning('请选择需要打印标签的库位');\r\n         }else{\r\n           console.log(this.SelectRow)\r\n          this.custom()\r\n         }\r\n       }else{\r\n         this.SelectRow=[]\r\n         this.SelectRow.push(item)\r\n         console.log( this.SelectRow)\r\n         this.custom()\r\n       }\r\n    },\r\n    //库位标签打印 确认弹出框\r\n    custom () {\r\n        this.$Modal.confirm({\r\n          title: '是否打印库位标签',\r\n          content: '<p></p>',\r\n          okText: '确定',\r\n          cancelText: '取消',\r\n          onOk: () => {\r\n              this.printOk()\r\n          },\r\n          onCancel: () => {\r\n              this.$Message.info('取消打印');\r\n          }\r\n       }); \r\n    },\r\n   //确认打印事件\r\n    printOk() { \r\n        var printarr=[]\r\n        for(var i=0,len=this.SelectRow.length;i<len;i++){\r\n            var item={\r\n              ID: this.SelectRow[i].PlaceIDs, //编号\r\n              Name: this.SelectRow[i].PositionID,//位号\r\n              EnterpriseName:\"\",\r\n              FatherMsg: {\r\n                  RegionName: this.SelectRow[i].RegionID, //库区\r\n                  ShleveName: this.SelectRow[i].ShelveID,// 货架\r\n                  WarehouseID: sessionStorage.getItem(\"UserWareHouse\"),//库房编号\r\n                  WarehouseName: sessionStorage.getItem(\"WareHouseName\"),//库房名称\r\n              },\r\n              LeaseName:this.SelectRow[i].LeaseID\r\n            }\r\n            printarr.push(item)\r\n        }\r\n        if(printarr.length>0){\r\n            var config = GetPrinterDictionary()\r\n            var getsetting = config['库位标签'];\r\n            var str=getsetting.Url\r\n            var testurl=str.indexOf(\"http\") != -1\r\n              if(testurl==true){\r\n                getsetting.Url=getsetting.Url\r\n              }else{\r\n                getsetting.Url=this.printurl+getsetting.Url\r\n            }\r\n            var data = {\r\n              setting: getsetting,\r\n              data: printarr\r\n            };\r\n            TemplatePrint(data);\r\n        }\r\n      },\r\n  }\r\n};\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/Pages/CgStorehouse/ShelveManage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('h1',{staticClass:\"titlestyle\"},[_vm._v(\"当前库房编号：HK01\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-add\"},on:{\"click\":function($event){return _vm.openmodel(1)}}},[_vm._v(\"添加库位\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"ios-print-outline\"},on:{\"click\":function($event){return _vm.PrintShelve(0)}}},[_vm._v(\"批量打印\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"tablebox\"},[_c('Table',{ref:\"selection\",attrs:{\"columns\":_vm.columns1,\"data\":_vm.PalletArr},on:{\"on-selection-change\":_vm.changeselect},scopedSlots:_vm._u([{key:\"Code\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('span',[_vm._v(_vm._s(row.PlaceIDs))])]}},{key:\"actions\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"ios-print-outline\"},on:{\"click\":function($event){return _vm.PrintShelve(1,row)}}},[_vm._v(\"打印\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"error\",\"size\":\"small\",\"icon\":\"ios-trash-outline\"},on:{\"click\":function($event){return _vm.confirmDel(row.PlaceIDs)}}},[_vm._v(\"删除\")])]}}])}),_vm._v(\" \"),_c('div',{staticClass:\"pagebox\"},[_c('Page',{attrs:{\"total\":_vm.total,\"page-size\":_vm.pageSize,\"current\":_vm.pageIndex},on:{\"on-change\":_vm.changepage}})],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":_vm.titlemodel},on:{\"on-visible-change\":_vm.changeshowmodel},model:{value:(_vm.showmodel),callback:function ($$v) {_vm.showmodel=$$v},expression:\"showmodel\"}},[_c('div',{staticClass:\"inputbox\"},[_c('label',{staticClass:\"title_lable\",attrs:{\"for\":\"\"}},[_c('span',{staticClass:\"bitian\"},[_vm._v(\"*\")]),_vm._v(\"库区：\")]),_vm._v(\" \"),_c('Select',{staticClass:\"inputwidth\",attrs:{\"filterable\":\"\"},model:{value:(_vm.fromdata.area),callback:function ($$v) {_vm.$set(_vm.fromdata, \"area\", $$v)},expression:\"fromdata.area\"}},_vm._l((26),function(i,index){return _c('Option',{key:index,attrs:{\"value\":String.fromCharCode(65+index)}},[_vm._v(_vm._s(String.fromCharCode(65+index)))])}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"inputbox\"},[_c('label',{staticClass:\"title_lable\",attrs:{\"for\":\"\"}},[_c('span',{staticClass:\"bitian\"},[_vm._v(\"*\")]),_vm._v(\"货架号：\")]),_vm._v(\" \"),_c('Select',{staticClass:\"inputwidth\",attrs:{\"filterable\":\"\"},model:{value:(_vm.fromdata.frame),callback:function ($$v) {_vm.$set(_vm.fromdata, \"frame\", $$v)},expression:\"fromdata.frame\"}},_vm._l((100),function(item,index){return _c('Option',{key:index,attrs:{\"value\":index}},[_vm._v(_vm._s(index))])}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"inputbox\"},[_c('label',{staticClass:\"title_lable\",attrs:{\"for\":\"\"}},[_c('span',{staticClass:\"bitian\"},[_vm._v(\"*\")]),_vm._v(\"层号：\")]),_vm._v(\" \"),_c('Select',{staticClass:\"inputwidth\",attrs:{\"filterable\":\"\"},model:{value:(_vm.fromdata.row),callback:function ($$v) {_vm.$set(_vm.fromdata, \"row\", $$v)},expression:\"fromdata.row\"}},_vm._l((_vm.Numberarr),function(item,index){return _c('Option',{key:index,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"inputbox\"},[_c('label',{staticClass:\"title_lable\",attrs:{\"for\":\"\"}},[_c('span',{staticClass:\"bitian\"},[_vm._v(\"*\")]),_vm._v(\"库位号：\")]),_vm._v(\" \"),_c('Select',{staticClass:\"inputwidth\",attrs:{\"filterable\":\"\"},model:{value:(_vm.fromdata.place),callback:function ($$v) {_vm.$set(_vm.fromdata, \"place\", $$v)},expression:\"fromdata.place\"}},_vm._l((100),function(item,index){return _c('Option',{key:index,attrs:{\"value\":index}},[_vm._v(_vm._s(index))])}),1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{on:{\"click\":_vm.cancel_btn}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.ok_btn}},[_vm._v(\"确定\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-33b4830e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Pages/CgStorehouse/ShelveManage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-33b4830e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ShelveManage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShelveManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShelveManage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-33b4830e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ShelveManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-33b4830e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Pages/CgStorehouse/ShelveManage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}