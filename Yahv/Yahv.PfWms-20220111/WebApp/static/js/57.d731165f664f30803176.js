webpackJsonp([57],{MxIC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("93yw"),l=a("dciI"),n={components:{"logg-ed":i.default},data:function(){var e=this;return{loggdetime:"",showlogged:!1,isconfirm:!1,lotnumber:this.$route.params.id,houseid:sessionStorage.getItem("UserWareHouse"),tableData:[{boxnumber:"Nl1919979",createdata:"2019-11-4",Packingperson:"张三",orderid:"11111",clientID:"11111",clientName:"11111",spanlen:3},{boxnumber:"Nl1919979",createdata:"2019-11-4",Packingperson:"张三",orderid:"orderid333",clientID:"Nl898989",clientName:"远大电子科技有限公司",spanlen:3},{boxnumber:"Nl1919979",createdata:"2019-11-4",Packingperson:"张三",orderid:"orderid333",clientID:"Nl898989",clientName:"远大电子科技有限公司",spanlen:3},{boxnumber:"Nl1919979",createdata:"2019-11-4",Packingperson:"张三",orderid:"adasdd",clientID:"Nl8989891",clientName:"杭州比一比电子科技有限公司",spanlen:3},{boxnumber:"Nl1919979",createdata:"2019-11-4",Packingperson:"张三",orderid:"adasdd",clientID:"Nl8989891",clientName:"杭州比一比电子科技有限公司",spanlen:3}],columns1:[{title:"#",slot:"index",align:"center"},{title:"箱号",slot:"boxnumber",align:"center"},{title:"装箱时间",slot:"boxtimer",align:"center"},{title:"装箱人",slot:"boxperson",align:"center"},{title:"订单编号",slot:"orderID",align:"center",width:140},{title:"型号",slot:"PartNumber",align:"center"},{title:"制造商",slot:"Manufacturer",align:"center"},{title:"封装",slot:"PackageCase",align:"center"},{title:"批次",slot:"DateCode",align:"center"},{title:"应到小计",slot:"Total",align:"center"},{title:"客户编号",slot:"ClientID",align:"center"},{title:"客户名称",slot:"ClientName",align:"center"}],data1:[{boxnumber:"第一箱",boxtimer:"2019-12-15",boxperson:"张三",order:[{orderID:"12121212",product:[{CreateDate:"/Date(1578474657693)/",ID:"C4713C21258938F4D060B62C11511FB1",Manufacturer:"deng100",PackageCase:"null",Packaging:"null",PartNumber:"deng200",DateCode:"批次",Total:200},{CreateDate:"/Date(1578474657693)/",ID:"C4713C21258938F4D060B62C11511FB1",Manufacturer:"deng100",PackageCase:"null",Packaging:"null",PartNumber:"deng200",DateCode:"批次",Total:200}]},{orderID:"12121212",product:[{CreateDate:"/Date(1578474657693)/",ID:"C4713C21258938F4D060B62C11511FB1",Manufacturer:"deng100",PackageCase:"null",Packaging:"null",PartNumber:"deng200",DateCode:"批次",Total:200}]}],ClientID:"BL767567",ClientName:"杭州比一比"},{boxnumber:"第一箱",boxtimer:"2019-12-15",boxperson:"张三",order:[{orderID:"12121212",product:[{CreateDate:"/Date(1578474657693)/",ID:"C4713C21258938F4D060B62C11511FB1",Manufacturer:"deng100",PackageCase:"null",Packaging:"null",PartNumber:"deng200",DateCode:"批次",Total:200}]}],ClientID:"BL767567",ClientName:"杭州比一比"}],detailinfo:null,titlelable:[{type:"index",width:60,align:"center"},{title:"订单号",key:"TinyOrderID"},{title:"客户编号",key:"EnterCode"},{title:"客户名称",key:"ClientName"},{title:"总条数",key:"Count",width:100},{title:"箱号",slot:"boxcode",align:"center"},{title:"装箱时间",key:"list",align:"center",render:function(t,a){return t("div",{attrs:{class:"subCol"}},[t("ul",e.Notices[a.index].PackDate.map(function(e){return t("li",{},e.PackDate)}))])}}],Notices:[],AllData:[],innerData:[],externalData:[],disabledGroup:"0",disabledIs:!0}},created:function(){console.log(this.$route)},mounted:function(){this.getdetail()},methods:{getdetail:function(){var e=this;Object(l.i)(this.lotnumber).then(function(t){console.log(t),1==t.CuttingOrderStatus?e.disabledIs=!1:e.disabledIs=!0,e.detailinfo=t,e.Notices=t.Notices,e.AllData=t.Notices;for(var a=0,i=t.Notices.length;a<i;a++)35==t.Notices[a].Source?e.innerData.push(t.Notices[a]):e.externalData.push(t.Notices[a])})},ok_confirm:function(){var e=this;this.disabledIs=!0;var t=sessionStorage.getItem("userID");Object(l.e)(this.detailinfo.LotNumber,t).then(function(t){if(1==t.success&&200==t.code){e.$Message.success("出库完成");var a=e;setTimeout(function(){a.$store.dispatch("setTransportDetail",!1)},1e3)}else e.$Message.error("出库失败");e.disabledIs=!1})},cancel:function(){this.isconfirm=!1},changeradio:function(e){console.log(e),this.Notices="0"==e?this.AllData:"1"==e?this.innerData:this.externalData},logchange:function(){this.showlogged=!0,this.loggdetime=(new Date).getTime()}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"TransportDetail",attrs:{id:"TransportDetail"}},[a("p",{staticClass:"details_title"},[e._v("基本信息")]),e._v(" "),a("div",{staticClass:"info_box"},[null!=e.detailinfo?a("Row",[a("Col",{attrs:{span:"9"}},[a("p",{staticClass:"infoitem"},[a("label",{},[e._v("运输批次：")]),e._v(" "),a("span",{},[e._v(e._s(e.detailinfo.LotNumber)+"\n             "),null!=e.detailinfo.ID?a("Button",{attrs:{icon:"md-calendar",type:"success",size:"small"},on:{click:e.logchange}},[e._v("日志管理")]):e._e()],1)]),e._v(" "),a("p",{staticClass:"infoitem"},[a("label",{},[e._v("承  运  商：")]),e._v(" "),a("span",{},[e._v(e._s(e.detailinfo.CarrierName))])]),e._v(" "),a("p",{staticClass:"infoitem"},[a("label",{},[e._v("司      机：")]),e._v(" "),a("span",{},[e._v(e._s(e.detailinfo.Driver))])]),e._v(" "),a("p",{staticClass:"infoitem"},[a("label",{},[e._v("联系电话：")]),e._v(" "),a("span",{},[e._v(e._s(e.detailinfo.Phone))])]),e._v(" "),a("p",{staticClass:"infoitem"},[a("label",{},[e._v("运输时间：")]),e._v(" "),a("span",{},[e._v(e._s(e._f("showDate")(e.detailinfo.DepartDate)))])]),e._v(" "),a("p",{staticClass:"infoitem"},[a("label",{},[e._v("运输类型：")]),e._v(" "),1==e.detailinfo.IsOnevehicle?a("span",[e._v("包车")]):e._e(),e._v(" "),0==e.detailinfo.IsOnevehicle?a("span",[e._v("普通")]):e._e()])]),e._v(" "),a("Col",{attrs:{span:"6"}},[a("p",{staticClass:"infoitem"},[a("label",{},[e._v("截单状态：")]),e._v(" "),0==e.detailinfo.CuttingOrderStatus?a("span",[e._v("等待")]):e._e(),e._v(" "),1==e.detailinfo.CuttingOrderStatus?a("span",[e._v("已截单")]):e._e(),e._v(" "),2==e.detailinfo.CuttingOrderStatus?a("span",[e._v("已完成")]):e._e()]),e._v(" "),a("p",{staticClass:"infoitem"},[a("label",{},[e._v("总  数  量：")]),e._v(" "),a("span",{},[e._v(e._s(e.detailinfo.TotalQuantity))])]),e._v(" "),a("p",{staticClass:"infoitem"},[a("label",{},[e._v("总  条  数：")]),e._v(" "),a("span",{},[e._v(e._s(e.detailinfo.TotalRecord))])]),e._v(" "),a("p",{staticClass:"infoitem"},[a("label",{},[e._v("总  金  额：")]),e._v(" "),a("span",{},[e._v(e._s(e.detailinfo.Currency)+e._s(e.detailinfo.TotalPrice))])]),e._v(" "),a("p",{staticClass:"infoitem"},[a("label",{},[e._v("总毛重(kg)：")]),e._v(" "),a("span",{},[e._v(e._s(e.detailinfo.TotalWeight))])]),e._v(" "),a("p",{staticClass:"infoitem"},[a("label",{},[e._v("总  箱  数：")]),e._v(" "),a("span",{},[e._v(e._s(e.detailinfo.TotalParts))])])]),e._v(" "),a("Col",{attrs:{span:"6"}},[null!=e.detailinfo?a("div",[a("Button",{staticStyle:{"margin-top":"20px"},attrs:{type:"success",disabled:1==e.disabledIs},on:{click:function(t){e.isconfirm=!0}}},[e._v("完成出库")])],1):e._e()])],1):e._e()],1),e._v(" "),a("p",{staticClass:"details_title"},[e._v("运输清单")]),e._v(" "),a("div",{staticClass:"tablebox"}),e._v(" "),a("div",[a("div",[a("div",{staticClass:"RadioGroupbox"},[a("label",[e._v("订单类型：")]),e._v(" "),a("RadioGroup",{on:{"on-change":e.changeradio},model:{value:e.disabledGroup,callback:function(t){e.disabledGroup=t},expression:"disabledGroup"}},[a("Radio",{attrs:{label:"0"}},[e._v("全部")]),e._v(" "),a("Radio",{attrs:{label:"1"}},[e._v("内单")]),e._v(" "),a("Radio",{attrs:{label:"2"}},[e._v("外单")])],1)],1),e._v(" "),a("Table",{attrs:{columns:e.titlelable,data:e.Notices,border:e.Notices.length>0},scopedSlots:e._u([{key:"total",fn:function(t){var a=t.row;return t.index,[e._v("\n             "+e._s(a.BoxesNotices.length)+"\n          ")]}},{key:"boxcode",fn:function(t){var i=t.row;return t.index,[a("div",{staticClass:"subCol"},[a("ul",e._l(i.PackDate,function(t){return a("li",[e._v(e._s(e._f("showboxcode")(t.BoxCode)))])}),0)])]}}])})],1)]),e._v(" "),a("Modal",{attrs:{title:"提示"},on:{"on-ok":e.ok_confirm,"on-cancel":e.cancel},model:{value:e.isconfirm,callback:function(t){e.isconfirm=t},expression:"isconfirm"}},[a("p",[e._v("是否确认出库")])]),e._v(" "),a("Modal",{attrs:{"footer-hide":!0,"mask-closable":!1,width:"60"},model:{value:e.showlogged,callback:function(t){e.showlogged=t},expression:"showlogged"}},[a("div",{attrs:{slot:"close"},slot:"close"},[a("Icon",{staticStyle:{"font-size":"21px",color:"#cccccc","padding-top":"5px"},attrs:{type:"ios-close-circle-outline"}})],1),e._v(" "),a("div",{attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"18px",color:"#1aaff7"}},[e._v("日志管理")])]),e._v(" "),e.showlogged?a("logg-ed",{key:e.loggdetime,ref:"logged",attrs:{WaybillID:e.detailinfo.ID}}):e._e()],1)],1)},staticRenderFns:[]};var s=a("VU/8")(n,o,!1,function(e){a("OdJp")},null,null);t.default=s.exports},OdJp:function(e,t){}});
//# sourceMappingURL=57.d731165f664f30803176.js.map