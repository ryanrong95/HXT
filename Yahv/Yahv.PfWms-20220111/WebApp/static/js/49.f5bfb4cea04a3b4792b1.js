webpackJsonp([49],{NCgN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("dciI"),i={data:function(){return{carrierList:[],listTitle:[{type:"index",width:60,align:"center"},{title:"运输批次号",slot:"LotNumber"},{title:"承运商",slot:"CarrierName"},{title:"车牌号",slot:"CarNumber"},{title:"运输时间",slot:"DepartDate"},{title:"司机姓名",slot:"Driver"},{title:"运输类型",slot:"WaybillTypeDes"},{title:"总件数",slot:"BoxNumber"},{title:"已上架数",slot:"UpperNumber"},{title:"操作",slot:"action",width:200,align:"center"}],listData:[],loading:!1,total:0,carrierName:"",searchData:{WhID:sessionStorage.getItem("UserWareHouse"),LotNumber:"",CarNumber:"",WaybillExcuteStatus:"10",Code:"",PageSize:6,PageIndex:1},getDataInterval:null}},computed:{showTransportDetail:{get:function(){return this.$store.state.common.TransportDetail},set:function(t){}}},created:function(){this.loading=!0,this.getListData()},mounted:function(){this.setNav()},methods:{setNav:function(){this.$store.dispatch("setnvadata",[{title:"待入库",href:"/TransportList"}])},actionBtn:function(t){this.$store.dispatch("setTransportDetail",!0),this.$router.push({path:"/Szlist/SzDetail/"+t})},DrawerState:function(t){1==t?this.$store.dispatch("setTransportDetail",!0):(this.$store.dispatch("setTransportDetail",!1),this.$router.go(-1),this.getListData())},Carriers:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=this;Carriers().then(function(e){t.carrierList=e.obj})}),getListData:function(){var t=this;Object(r._15)(this.searchData).then(function(e){console.log(e),t.listData=e.obj.Data,t.total=e.obj.Total,t.loading=!1})},changePage:function(t){this.searchData.PageIndex=t,this.loading=!0,this.getListData()},search:function(){console.log(this.searchData),this.searchData.PageIndex=1,this.loading=!0,this.getListData()},reset:function(){this.searchData.LotNumber="",this.searchData.CarNumber="",this.searchData.Code="",this.searchData.PageIndex=1,this.loading=!0,this.getListData()}},beforeDestroy:function(){clearInterval(this.getDataInterval)}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"mb20"},[a("label",[t._v("运输批次号：")]),a("Input",{staticClass:"input_width",attrs:{placeholder:"运输批次号"},model:{value:t.searchData.LotNumber,callback:function(e){t.$set(t.searchData,"LotNumber","string"==typeof e?e.trim():e)},expression:"searchData.LotNumber"}}),t._v(" "),a("label",[t._v("车牌号：")]),a("Input",{staticClass:"input_width",attrs:{placeholder:"车牌号"},model:{value:t.searchData.CarNumber,callback:function(e){t.$set(t.searchData,"CarNumber","string"==typeof e?e.trim():e)},expression:"searchData.CarNumber"}}),t._v(" "),a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:t.search}},[t._v("查询")]),t._v(" "),a("Button",{attrs:{type:"error",icon:"ios-trash"},on:{click:t.reset}},[t._v("清空")])],1),t._v(" "),a("div",[a("Table",{attrs:{columns:t.listTitle,data:t.listData,loading:t.loading},scopedSlots:t._u([{key:"LotNumber",fn:function(e){var r=e.row;return e.index,[a("p",[t._v(t._s(r.Waybill.LotNumber))])]}},{key:"CarrierName",fn:function(e){var r=e.row;return e.index,[a("p",[t._v(t._s(r.Waybill.CarrierName))])]}},{key:"DepartDate",fn:function(e){var r=e.row;return e.index,[a("p",[t._v(t._s(t._f("showDate")(r.Waybill.DepartDate)))])]}},{key:"Driver",fn:function(e){var r=e.row;return e.index,[a("p",[t._v(t._s(r.Waybill.Driver))])]}},{key:"WaybillTypeDes",fn:function(e){var r=e.row;return e.index,[a("p",[t._v(t._s(r.Waybill.Type))])]}},{key:"BoxNumber",fn:function(e){var r=e.row;return e.index,[a("p",[t._v(t._s(r.Waybill.TotalParts))])]}},{key:"UpperNumber",fn:function(e){var r=e.row;return e.index,[a("p",[t._v(t._s(r.Waybill.ShelveQuantity))])]}},{key:"CarNumber",fn:function(e){var r=e.row;return e.index,[a("span",[t._v(t._s(r.Waybill.CarNumber1))]),t._v("    \n        "),a("span",[t._v(t._s(r.Waybill.CarNumber2))])]}},{key:"action",fn:function(e){var r=e.row;return e.index,[a("Button",{attrs:{type:"primary",icon:"md-create",size:"small"},on:{click:function(e){return t.actionBtn(r.Waybill.ID)}}},[t._v("详情")])]}}])})],1),t._v(" "),a("div",{staticClass:"pages"},[a("Page",{attrs:{total:t.total,"page-size":t.searchData.PageSize,current:t.searchData.PageIndex},on:{"on-change":t.changePage}})],1),t._v(" "),a("Drawer",{attrs:{closable:!0,width:80},on:{"on-visible-change":t.DrawerState},model:{value:t.showTransportDetail,callback:function(e){t.showTransportDetail=e},expression:"showTransportDetail"}},[a("router-view")],1)],1)},staticRenderFns:[]};var s=a("VU/8")(i,n,!1,function(t){a("qvbp")},"data-v-2967691e",null);e.default=s.exports},qvbp:function(t,e){}});
//# sourceMappingURL=49.f5bfb4cea04a3b4792b1.js.map