{"version":3,"sources":["webpack:///src/Pages/SzWarehousing/SzDetail.vue","webpack:///./src/Pages/SzWarehousing/SzDetail.vue?82b6","webpack:///./src/Pages/SzWarehousing/SzDetail.vue"],"names":["SzDetail","data","loading","ID","titleMsg","WaybillID","LotNumber","CarrierName","CarNumber1","CarNumber2","DepartDate","Driver","Code","Type","totalBoxes","ShelveQuantity","TotalWeight","TotalParts","listData","listTitle","type","width","align","title","key","slot","modal","selection","shelveID","shelveArr","created","this","$route","params","Cgszsortingsdetail","methods","_this","Object","CgApi","then","res","handleTitleMsg","Waybill","handleListData","notices","TotalQuantity","i","length","element","listJson","BoxDate","BoxCode","TinyOrderID","ClientName","Name","ShelveID","ShelvesStatus","status","StorageID","push","onSelect","row","onSelectAll","onSelectionChange","shelves","getUsableShelves","$Message","error","_this2","id","sessionStorage","getItem","ok","_this3","UpdateArr","len","Update","console","log","Success","success","warning","cancel","ok_print","browser","createShelve","val","_this4","whCode","place","visiblechange","SzWarehousing_SzDetail","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","span","_s","_f","staticStyle","margin-top","on","click","ref","columns","on-select","on-select-all","on-selection-change","scopedSlots","_u","fn","index","color","on-visible-change","model","value","callback","$$v","expression","filterable","allow-create","on-create","_l","item","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"iKAuKAA,GACAC,KADA,WAEA,OACAC,SAAA,EACAC,GAAA,KACAC,UACAC,UAAA,GACAC,UAAA,GACAC,YAAA,GACAC,WAAA,GACAC,WAAA,GACAC,WAAA,GACAC,OAAA,GACAC,KAAA,GACAC,KAAA,GACAC,WAAA,GACAC,eAAA,GACAC,YAAA,GACAC,WAAA,IAEAC,YACAC,YAEAC,KAAA,YACAC,MAAA,GACAC,MAAA,WAGAC,MAAA,OACAC,IAAA,cACAH,MAAA,MAGAE,MAAA,OACAC,IAAA,eAGAD,MAAA,OACAE,KAAA,YAGAF,MAAA,KACAE,KAAA,YAoBAF,MAAA,MACAC,IAAA,aAGAD,MAAA,KACAE,KAAA,kBAGAC,OAAA,EACAC,aACAC,SAAA,GACAC,eAGAC,QA5EA,WA6EAC,KAAA5B,GAAA4B,KAAAC,OAAAC,OAAA9B,GACA4B,KAAAG,sBAEAC,SAEAD,mBAFA,WAEA,IAAAE,EAAAL,KACMM,OAAAC,EAAA,EAAAD,CAANN,KAAA5B,IAAAoC,KAAA,SAAAC,GACAJ,EAAAlC,SAAA,EACAkC,EAAAK,eAAAD,EAAAE,SACAN,EAAAO,eAAAH,EAAAI,YAiBAH,eAvBA,SAuBAxC,GACA8B,KAAA3B,SAAAC,UAAAJ,EAAAE,GACA4B,KAAA3B,SAAAE,UAAAL,EAAAK,UACAyB,KAAA3B,SAAAG,YAAAN,EAAAM,YACAwB,KAAA3B,SAAAI,WAAAP,EAAAO,WACAuB,KAAA3B,SAAAK,WAAAR,EAAAQ,WACAsB,KAAA3B,SAAAM,WAAAT,EAAAS,WACAqB,KAAA3B,SAAAO,OAAAV,EAAAU,OACAoB,KAAA3B,SAAAQ,KAAAX,EAAAW,KACAmB,KAAA3B,SAAAS,KAAAZ,EAAAY,KACAkB,KAAA3B,SAAAU,WAAAb,EAAAgB,WACAc,KAAA3B,SAAAW,eAAAd,EAAAc,eACAgB,KAAA3B,SAAAY,YAAAf,EAAAe,YACAe,KAAA3B,SAAAa,WAAAhB,EAAA4C,eAGAF,eAvCA,SAuCA1C,GACA8B,KAAAb,YACA,QAAA4B,EAAA,EAAAA,EAAA7C,EAAA8C,OAAAD,IAAA,CACA,IAAAE,EAAA/C,EAAA6C,GACAG,KACAA,EAAA5C,UAAA2C,EAAA3C,UACA4C,EAAAC,QAAAnB,KAAA3B,SAAAM,WACAuC,EAAAE,QAAAH,EAAAG,QACAF,EAAAG,YAAAJ,EAAAI,YACAH,EAAAI,WAAAL,EAAAM,KACAL,EAAAM,SAAAP,EAAAO,SACAN,EAAAO,cAAAR,EAAAS,OACAR,EAAAS,UAAAV,EAAAU,UACA3B,KAAAb,SAAAyC,KAAAV,KAIAW,SAxDA,SAwDAjC,EAAAkC,GACA9B,KAAAJ,aAGAmC,YA5DA,SA4DAnC,GACAI,KAAAJ,aAGAoC,kBAhEA,SAgEApC,GACAI,KAAAJ,aAGAqC,QApEA,WAsEAjC,KAAAJ,UAAAoB,OACAhB,KAAAF,UAAAkB,OAFAhB,KAGAL,OAAA,GAEAK,KAAAkC,mBALAlC,KAMAL,OAAA,GAGAK,KAAAmC,SAAAC,MAAA,eAIAF,iBAlFA,WAkFA,IAAAG,EAAArC,KACAsC,EAAAC,eAAAC,QAAA,iBACMlC,OAAAC,EAAA,IAAAD,CAANgC,GAAA9B,KAAA,SAAAC,GACA4B,EAAAvC,UAAAW,KAIAgC,GAzFA,WAyFA,IAAAC,EAAA1C,KAEA,GAAAA,KAAAH,SAEA,CAEA,IADA,IAAA8C,KACA5B,EAAA,EAAA6B,EAAA5C,KAAAJ,UAAAoB,OAAAD,EAAA6B,EAAA7B,IAAA,CACA,IAAA7C,GACAsD,SAAAxB,KAAAH,SACAvB,UAAA0B,KAAAJ,UAAAmB,GAAAzC,UACA8C,QAAApB,KAAAJ,UAAAmB,GAAAK,SAEAuB,EAAAf,KAAA1D,GAEAA,GACAyC,SACArC,UAAA0B,KAAA3B,SAAAC,UACAC,UAAAyB,KAAA3B,SAAAE,WAEAsE,OAAAF,GAEQrC,OAAAC,EAAA,IAAAD,CAARpC,GAAAsC,KAAA,SAAAC,GACAqC,QAAAC,IAAAtC,GACA,GAAAA,EAAAuC,SACAN,EAAA/C,OAAA,EACA+C,EAAAP,SAAAc,QAAA,QACAP,EAAAvC,qBACAuC,EAAA7C,SAAA,GACA6C,EAAA9C,cAEA8C,EAAAP,SAAAC,MAAA,eA3BApC,KAAAmC,SAAAe,QAAA,WAiCAC,OA7HA,WA8HAnD,KAAAH,SAAA,GACAG,KAAAL,OAAA,GAEAyD,SAjIA,WAkIM9C,OAAAC,EAAA,EAAAD,CAANN,KAAA5B,IAAAoC,KAAA,SAAAC,GACQH,OAAA+C,EAAA,EAAA/C,CAARG,MAIA6C,aAvIA,SAuIAC,GAAA,IAAAC,EAAAxD,KAEAA,KAAAF,UAAA8B,MAAAJ,SAAA+B,IACA,IAAArF,GACAuF,OAAAlB,eAAAC,QAAA,iBACAkB,MAAAH,GAEMjD,OAAAC,EAAA,GAAAD,CAANpC,GAAAsC,KAAA,SAAAC,GACA+C,EAAAtB,sBAGAyB,cAlJA,SAkJAJ,GACA,GAAAA,IACAvD,KAAAH,SAAA,OC/Xe+D,GADEC,OAXjB,WAA0B,IAAAC,EAAA9D,KAAa+D,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,qBAA+BF,EAAA,KAAUE,YAAA,kBAA4BL,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,OAAyCE,YAAA,aAAuBF,EAAA,OAAAA,EAAA,OAAsBI,OAAOC,KAAA,QAAaL,EAAA,KAAUE,YAAA,cAAwBF,EAAA,YAAeH,EAAAM,GAAA,YAAAN,EAAAM,GAAA,KAAAH,EAAA,WAA6CH,EAAAM,GAAAN,EAAAS,GAAAT,EAAAzF,SAAAE,gBAAAuF,EAAAM,GAAA,KAAAH,EAAA,KAAiEE,YAAA,cAAwBF,EAAA,YAAeH,EAAAM,GAAA,cAAAN,EAAAM,GAAA,KAAAH,EAAA,WAA+CH,EAAAM,GAAAN,EAAAS,GAAAT,EAAAzF,SAAAI,YAAA,KAAAqF,EAAAS,GAAAT,EAAAzF,SAAAK,iBAAAoF,EAAAM,GAAA,KAAAH,EAAA,KAAuGE,YAAA,cAAwBF,EAAA,YAAeH,EAAAM,GAAA,WAAAN,EAAAM,GAAA,KAAAH,EAAA,WAA4CH,EAAAM,GAAAN,EAAAS,GAAAT,EAAAU,GAAA,WAAAV,GAAAzF,SAAAM,kBAAAmF,EAAAM,GAAA,KAAAH,EAAA,KAAsFE,YAAA,cAAwBF,EAAA,YAAeH,EAAAM,GAAA,cAAAN,EAAAM,GAAA,KAAAH,EAAA,WAA+CH,EAAAM,GAAAN,EAAAS,GAAAT,EAAAzF,SAAAU,iBAAA+E,EAAAM,GAAA,KAAAH,EAAA,KAAkEE,YAAA,cAAwBF,EAAA,YAAeH,EAAAM,GAAA,WAAAN,EAAAM,GAAA,KAAAH,EAAA,WAA4CH,EAAAM,GAAAN,EAAAS,GAAAT,EAAAzF,SAAAW,uBAAA8E,EAAAM,GAAA,KAAAH,EAAA,OAA0EI,OAAOC,KAAA,QAAaL,EAAA,KAAUE,YAAA,cAAwBF,EAAA,YAAeH,EAAAM,GAAA,cAAAN,EAAAM,GAAA,KAAAH,EAAA,WAA+CH,EAAAM,GAAAN,EAAAS,GAAAT,EAAAzF,SAAAG,kBAAAsF,EAAAM,GAAA,KAAAH,EAAA,KAAmEE,YAAA,cAAwBF,EAAA,YAAeH,EAAAM,GAAA,WAAAN,EAAAM,GAAA,KAAAH,EAAA,WAA4CH,EAAAM,GAAAN,EAAAS,GAAAT,EAAAzF,SAAAO,aAAAkF,EAAAM,GAAA,KAAAH,EAAA,KAA8DE,YAAA,cAAwBF,EAAA,YAAeH,EAAAM,GAAA,WAAAN,EAAAM,GAAA,KAAAH,EAAA,WAA4CH,EAAAM,GAAAN,EAAAS,GAAAT,EAAAzF,SAAAS,WAAAgF,EAAAM,GAAA,KAAAH,EAAA,KAA4DE,YAAA,cAAwBF,EAAA,YAAeH,EAAAM,GAAA,cAAAN,EAAAM,GAAA,KAAAH,EAAA,WAA+CH,EAAAM,GAAAN,EAAAS,GAAAT,EAAAzF,SAAAY,kBAAA6E,EAAAM,GAAA,KAAAH,EAAA,KAAmEE,YAAA,cAAwBF,EAAA,YAAeH,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,WAA2CH,EAAAM,GAAAN,EAAAS,GAAAT,EAAAzF,SAAAa,oBAAA,OAAA4E,EAAAM,GAAA,KAAAH,EAAA,KAA4EE,YAAA,kBAA4BL,EAAAM,GAAA,QAAAN,EAAAM,GAAA,KAAAH,EAAA,UAA0CQ,aAAaC,aAAA,QAAoBL,OAAQhF,KAAA,WAAiBsF,IAAKC,MAAAd,EAAA7B,WAAqB6B,EAAAM,GAAA,QAAAN,EAAAM,GAAA,KAAAH,EAAA,QAAwCE,YAAA,WAAqBL,EAAAM,GAAA,4BAAAN,EAAAM,GAAA,KAAAH,EAAA,QAAAA,EAAA,UAAyEE,YAAA,WAAAE,OAA8BhF,KAAA,WAAiBsF,IAAKC,MAAAd,EAAAV,YAAsBU,EAAAM,GAAA,eAAAN,EAAAM,GAAA,KAAAH,EAAA,OAA8CE,YAAA,aAAuBF,EAAA,SAAcY,IAAA,YAAAR,OAAuBlG,QAAA2F,EAAA3F,QAAA2G,QAAAhB,EAAA1E,UAAAlB,KAAA4F,EAAA3E,UAAkEwF,IAAKI,YAAAjB,EAAAjC,SAAAmD,gBAAAlB,EAAA/B,YAAAkD,sBAAAnB,EAAA9B,mBAAqGkD,YAAApB,EAAAqB,KAAsB1F,IAAA,UAAA2F,GAAA,SAAAP,GACv/E,IAAA/C,EAAA+C,EAAA/C,IAEA,OADA+C,EAAAQ,OACApB,EAAA,KAAAH,EAAAM,GAAAN,EAAAS,GAAAT,EAAAU,GAAA,WAAAV,CAAAhC,EAAAX,iBAAsE1B,IAAA,UAAA2F,GAAA,SAAAP,GACtE,IAAA/C,EAAA+C,EAAA/C,IAEA,OADA+C,EAAAQ,OACApB,EAAA,KAAAH,EAAAM,GAAAN,EAAAS,GAAAT,EAAAU,GAAA,cAAAV,CAAAhC,EAAAV,iBAAyE3B,IAAA,gBAAA2F,GAAA,SAAAP,GACzE,IAAA/C,EAAA+C,EAAA/C,IAEA,OADA+C,EAAAQ,OACApB,EAAA,YAAAnC,EAAAL,cAAAwC,EAAA,OAAqDI,OAAOiB,MAAA,WAAiBxB,EAAAM,GAAAN,EAAAS,GAAAzC,EAAAL,kBAAAwC,EAAA,OAAgDI,OAAOiB,MAAA,YAAkBxB,EAAAM,GAAAN,EAAAS,GAAAzC,EAAAL,mBAAA,WAA+C,GAAAqC,EAAAM,GAAA,KAAAH,EAAA,SAA8BI,OAAO7E,MAAA,KAAAF,MAAA,OAA2BqF,IAAKY,oBAAAzB,EAAAH,eAAsC6B,OAAQC,MAAA3B,EAAA,MAAA4B,SAAA,SAAAC,GAA2C7B,EAAAnE,MAAAgG,GAAcC,WAAA,WAAqB9B,EAAAM,GAAA,oBAAAN,EAAAM,GAAA,KAAAH,EAAA,UAAsDQ,aAAanF,MAAA,SAAgB+E,OAAQwB,WAAA,GAAAC,eAAA,IAAkCnB,IAAKoB,YAAAjC,EAAAR,cAA6BkC,OAAQC,MAAA3B,EAAA,SAAA4B,SAAA,SAAAC,GAA8C7B,EAAAjE,SAAA8F,GAAiBC,WAAA,aAAwB9B,EAAAkC,GAAAlC,EAAA,mBAAAmC,EAAAZ,GAA6C,OAAApB,EAAA,UAAoBxE,IAAA4F,EAAAhB,OAAiBoB,MAAAQ,EAAAzE,YAAuBsC,EAAAM,GAAAN,EAAAS,GAAA0B,EAAAzE,eAAkC,GAAAsC,EAAAM,GAAA,KAAAH,EAAA,OAA2BI,OAAO3E,KAAA,UAAgBA,KAAA,WAAeuE,EAAA,UAAeU,IAAIC,MAAAd,EAAAX,UAAoBW,EAAAM,GAAA,QAAAN,EAAAM,GAAA,KAAAH,EAAA,UAA0CI,OAAOhF,KAAA,WAAiBsF,IAAKC,MAAAd,EAAArB,MAAgBqB,EAAAM,GAAA,qBAE77B8B,oBCRjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEpI,EACA2F,GATF,EAVA,SAAA0C,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/26.b355f52659c84b024f3d.js","sourcesContent":["<style scoped>\r\n.details_title {\r\n  line-height: 24px;\r\n  border-left: 5px solid #2d8cf0;\r\n  font-weight: bold;\r\n  font-size: 16px;\r\n  text-indent: 10px;\r\n}\r\n.info_box {\r\n  width: 100%;\r\n  min-height: 200px;\r\n  background: rgb(245, 247, 249);\r\n  margin: 15px 0px;\r\n  padding: 0 15px;\r\n}\r\n.info_item {\r\n  min-height: 45px;\r\n  line-height: 45px;\r\n  font-size: 14px;\r\n}\r\n.info_item label {\r\n  width: 90px;\r\n  display: inline-block;\r\n}\r\n.transport_detail .tablebox {\r\n  padding-top: 20px;\r\n}\r\n.ul li {\r\n  height: 48px;\r\n  line-height: 48px;\r\n}\r\n.notice {\r\n  margin-top: 20px;\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  margin-left: 10px;\r\n  color: #2d8cf0;\r\n}\r\n.success{\r\n  display: inline-block;\r\n  width: 14px;\r\n  height: 14px;\r\n  border-radius: 50%;\r\n  background: #19be6b;\r\n  vertical-align: middle;\r\n}\r\n.warning{\r\n  display: inline-block;\r\n  width:14px;\r\n  height: 14px;\r\n  border-radius: 50%;\r\n  background: #f90;\r\n  vertical-align: middle;\r\n}\r\n.printbtn{\r\n    margin-top: 20px;\r\n    float: right;\r\n    margin-right: 50px;\r\n}\r\n</style>\r\n<template>\r\n  <div class=\"transport_detail\">\r\n    <p class=\"details_title\">基本信息</p>\r\n    <div class=\"info_box\">\r\n      <Row>\r\n        <Col span=\"12\">\r\n          <p class=\"info_item\">\r\n            <label class>运输批次号：</label>\r\n            <span class>{{titleMsg.LotNumber}}</span>\r\n          </p>\r\n          <p class=\"info_item\">\r\n            <label class>车&nbsp;&nbsp;牌&nbsp;&nbsp;号：</label>\r\n            <span class>{{titleMsg.CarNumber1}}&nbsp;&nbsp;{{titleMsg.CarNumber2}}</span>\r\n          </p>\r\n          <p class=\"info_item\">\r\n            <label class>运输时间：</label>\r\n            <span class>{{titleMsg.DepartDate|showDate}}</span>\r\n          </p>\r\n          <p class=\"info_item\">\r\n            <label class>总&nbsp;&nbsp;件&nbsp;&nbsp;数：</label>\r\n            <span class>{{titleMsg.totalBoxes}}</span>\r\n          </p>\r\n          <p class=\"info_item\">\r\n            <label class>已上架数：</label>\r\n            <span class>{{titleMsg.ShelveQuantity}}</span>\r\n          </p>\r\n        </Col>\r\n        <Col span=\"12\">\r\n          <p class=\"info_item\">\r\n            <label class>承&nbsp;&nbsp;运&nbsp;&nbsp;商：</label>\r\n            <span class>{{titleMsg.CarrierName}}</span>\r\n          </p>\r\n          <!-- <p class=\"info_item\">\r\n            <label class>运&nbsp;&nbsp;单&nbsp;&nbsp;号：</label>\r\n            <span class>{{titleMsg.Code}}</span>\r\n          </p> -->\r\n          <p class=\"info_item\">\r\n            <label class>司机姓名：</label>\r\n            <span class>{{titleMsg.Driver}}</span>\r\n          </p>\r\n          <p class=\"info_item\">\r\n            <label class>运输类型：</label>\r\n            <span class>{{titleMsg.Type}}</span>\r\n          </p>\r\n          <p class=\"info_item\">\r\n            <label class>总毛重(kg)：</label>\r\n            <span class>{{titleMsg.TotalWeight}}</span>\r\n          </p>\r\n          <p class=\"info_item\">\r\n            <label class>总条数：</label>\r\n            <span class>{{titleMsg.TotalParts}}</span>\r\n          </p>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n    <p class=\"details_title\">明细</p>\r\n    <Button type=\"success\" style=\"margin-top:20px;\" @click=\"shelves\">上架</Button>\r\n    <span class=\"notice\">注意：如果已上架，仍然可以点击上架修改库位号</span>\r\n    <span><Button type=\"primary\" class=\"printbtn\" @click=\"ok_print\">入库单打印</Button></span>\r\n    <div class=\"tablebox\">\r\n      <Table\r\n        :loading=\"loading\"\r\n        ref=\"selection\"\r\n        :columns=\"listTitle\"\r\n        :data=\"listData\"\r\n        @on-select=\"onSelect\"\r\n        @on-select-all=\"onSelectAll\"\r\n        @on-selection-change=\"onSelectionChange\"\r\n      >\r\n        <template slot-scope=\"{ row, index }\" slot=\"BoxDate\">\r\n          <p>{{row.BoxDate|showDate}}</p>\r\n        </template>\r\n         <template slot-scope=\"{ row, index }\" slot=\"BoxCode\">\r\n          <p>{{row.BoxCode|showboxcode}}</p>\r\n        </template>\r\n        <template slot-scope=\"{ row, index }\" slot=\"ShelvesStatus\">\r\n          <p>\r\n           <!-- <span>{{row.ShelvesStatus}}</span>\r\n           <span class=\"success\" v-if=\"row.ShelvesStatus=='已上架'\"></span>\r\n           <span class=\"warning\" v-else></span> -->\r\n           <Tag color=\"green\" v-if=\"row.ShelvesStatus=='已上架'\">{{row.ShelvesStatus}}</Tag>\r\n           <Tag color=\"orange\" v-else>{{row.ShelvesStatus}}</Tag>\r\n          </p>\r\n        </template>\r\n      </Table>\r\n    </div>\r\n    <Modal title=\"标题\" v-model=\"modal\" width=\"300\" @on-visible-change='visiblechange'>\r\n      库位号：\r\n      <!-- <Input v-model=\"shelveID\" placeholder=\"请输入库位号\" style=\"width: 200px\" /> -->\r\n      <Select v-model=\"shelveID\" style=\"width: 200px\"  filterable allow-create @on-create=\"createShelve\">\r\n        <Option\r\n          v-for=\"(item,index) in shelveArr\"\r\n          :value=\"item.ShelveID\"\r\n          :key=\"index\"\r\n        >{{item.ShelveID}}</Option>\r\n      </Select>\r\n      <div slot=\"footer\">\r\n        <Button @click=\"cancel\">取消</Button>\r\n        <Button type=\"primary\" @click=\"ok\">确定</Button>\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { GetCustomTransportDetail, UpperShelf } from \"../../api\";\r\nimport { Cgszsortingsdetail, GetUsableShelves,cgszsortingsupdate,Cgszsdetailprint,cgSZShelves,cgSZEnter} from \"../../api/CgApi\";\r\nimport {PrintInputList} from '@/js/browser.js'\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading:true,\r\n      ID: null,\r\n      titleMsg: {\r\n        WaybillID:\"\",//运单ID\r\n        LotNumber: \"\", //运输批次号\r\n        CarrierName: \"\", //承运商\r\n        CarNumber1: \"\", //车牌号1\r\n        CarNumber2: \"\", //车牌号2\r\n        DepartDate: \"\", //运输时间\r\n        Driver: \"\", //司机姓名\r\n        Code: \"\", //运单号\r\n        Type: \"\", //运输类型\r\n        totalBoxes: \"\", //总件数\r\n        ShelveQuantity: \"\", //已上架数\r\n        TotalWeight: \"\", //总毛重(kg)\r\n        TotalParts:'',//总件数\r\n      },\r\n      listData: [],\r\n      listTitle: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"订单编号\",\r\n          key: \"TinyOrderID\",\r\n          width:180\r\n        },\r\n        {\r\n          title: \"客户名称\",\r\n          key: \"ClientName\"\r\n        },\r\n        {\r\n          title: \"装箱日期\",\r\n          slot: \"BoxDate\"\r\n        },\r\n        {\r\n          title: \"箱号\",\r\n          slot: \"BoxCode\"\r\n        },\r\n        // {\r\n        //   title: \"数量\",\r\n        //   key: \"Total\",\r\n        //   width:80\r\n        // },\r\n        // {\r\n        //   title: \"型号\",\r\n        //   key: \"PartNumber\"\r\n        // },\r\n        // {\r\n        //   title: \"品牌\",\r\n        //   key: \"Manufacturer\"\r\n        // },\r\n        // {\r\n        //   title: \"原产地\",\r\n        //   key: \"Origin\"\r\n        // },\r\n        {\r\n          title: \"库位号\",\r\n          key: \"ShelveID\"\r\n        },\r\n        {\r\n          title: \"状态\",\r\n          slot: \"ShelvesStatus\"\r\n        }\r\n      ],\r\n      modal: false,\r\n      selection: [],\r\n      shelveID: \"\", //库位ID\r\n      shelveArr: [] //库位号\r\n    };\r\n  },\r\n  created() {\r\n    this.ID = this.$route.params.ID;\r\n    this.Cgszsortingsdetail();\r\n  },\r\n  methods: {\r\n    //重构 获取详情数据\r\n    Cgszsortingsdetail() {\r\n      Cgszsortingsdetail(this.ID).then(res => {\r\n        this.loading=false;\r\n        this.handleTitleMsg(res.Waybill);\r\n        this.handleListData(res.notices);\r\n      });\r\n    },\r\n    // 获取运单批次号详情\r\n    // GetCustomTransportDetailFun(cb) {\r\n    //   let that = this;\r\n    //   var warehouseID = sessionStorage.getItem(\"UserWareHouse\");\r\n    //   var lotNumber = this.$route.params.ID;\r\n    //   GetCustomTransportDetail(warehouseID, lotNumber).then(res => {\r\n    //     if (res && res.obj) {\r\n    //       if (cb) {\r\n    //         cb(res.obj);\r\n    //       }\r\n    //     }\r\n    //   });\r\n    // },\r\n    //处理title信息\r\n    handleTitleMsg(data) {\r\n      this.titleMsg.WaybillID=data.ID\r\n      this.titleMsg.LotNumber = data.LotNumber;\r\n      this.titleMsg.CarrierName = data.CarrierName;\r\n      this.titleMsg.CarNumber1 = data.CarNumber1;\r\n      this.titleMsg.CarNumber2 = data.CarNumber2;\r\n      this.titleMsg.DepartDate = data.DepartDate;\r\n      this.titleMsg.Driver = data.Driver;\r\n      this.titleMsg.Code = data.Code;\r\n      this.titleMsg.Type = data.Type;\r\n      this.titleMsg.totalBoxes = data.TotalParts //总箱数\r\n      this.titleMsg.ShelveQuantity = data.ShelveQuantity;//已上架数\r\n      this.titleMsg.TotalWeight = data.TotalWeight;\r\n      this.titleMsg.TotalParts=data.TotalQuantity ;  //总条数\r\n    },\r\n    //处理列表信息\r\n    handleListData(data) {\r\n      this.listData = [];\r\n      for (let i = 0; i < data.length; i++) {\r\n        const element = data[i];\r\n        let listJson = {};\r\n        listJson.WaybillID=element.WaybillID;\r\n        listJson.BoxDate = this.titleMsg.DepartDate; //装箱日期\r\n        listJson.BoxCode = element.BoxCode; //箱号\r\n        listJson.TinyOrderID = element.TinyOrderID; //订单编号\r\n        listJson.ClientName = element.Name; //客户名称\r\n        listJson.ShelveID = element.ShelveID; //库位号\r\n        listJson.ShelvesStatus = element.status; //上架状态\r\n        listJson.StorageID=element.StorageID\r\n        this.listData.push(listJson);\r\n      }\r\n    },\r\n    //选择列表数据事件\r\n    onSelect(selection, row) {\r\n      this.selection = selection;\r\n    },\r\n    //全选择列表数据事件\r\n    onSelectAll(selection) {\r\n      this.selection = selection;\r\n    },\r\n    //更改列表数据事件\r\n    onSelectionChange(selection) {\r\n      this.selection = selection;\r\n    },\r\n    //上架\r\n    shelves() {\r\n      let that = this;\r\n      if (this.selection.length) {\r\n        if (this.shelveArr.length) {\r\n          that.modal = true;\r\n        } else {\r\n          this.getUsableShelves();\r\n          that.modal = true;\r\n        }\r\n      } else {\r\n        this.$Message.error(\"请选择您要上架的货物\");\r\n      }\r\n    },\r\n    // 获取库位号\r\n    getUsableShelves() {\r\n      var id = sessionStorage.getItem(\"UserWareHouse\");\r\n      cgSZShelves(id).then(res=>{\r\n         this.shelveArr = res;\r\n      })\r\n    },\r\n    //确认上架\r\n    ok() {\r\n      let that = this;\r\n      if (!this.shelveID) {\r\n        this.$Message.warning(\"请选择库位号\");\r\n      } else {\r\n       var  UpdateArr=[];\r\n        for(var i=0,len=this.selection.length;i<len;i++){\r\n          var data={\r\n              ShelveID:this.shelveID,\r\n              WaybillID:this.selection[i].WaybillID,\r\n              BoxCode:this.selection[i].BoxCode\r\n          }\r\n           UpdateArr.push(data)\r\n        }\r\n        var data = {\r\n          Waybill: {\r\n            WaybillID: this.titleMsg.WaybillID, // 运单ID\r\n            LotNumber:this.titleMsg.LotNumber // 运输批次号\r\n          },\r\n          Update: UpdateArr\r\n        };\r\n        cgszsortingsupdate(data).then(res=>{\r\n          console.log(res)\r\n          if(res.Success==true){\r\n              this.modal = false;\r\n              this.$Message.success('上架成功')\r\n              this.Cgszsortingsdetail()\r\n              this.shelveID=''\r\n              this.selection=[]\r\n          }else{\r\n             this.$Message.error('上架失败')\r\n          }\r\n        })\r\n      }\r\n    },\r\n    //取消上架\r\n    cancel() {\r\n      this.shelveID = \"\";\r\n      this.modal = false;\r\n    },\r\n    ok_print(){\r\n      Cgszsdetailprint(this.ID).then(res=>{\r\n        PrintInputList(res)\r\n      })\r\n    },\r\n    // 创建库位\r\n    createShelve(val){\r\n      // this.shelveID=val\r\n       this.shelveArr.push({ ShelveID:val});\r\n       var data={\r\n         whCode:sessionStorage.getItem(\"UserWareHouse\"), // 库位号\r\n         place:val, //库位\r\n       }\r\n       cgSZEnter(data).then(res=>{\r\n          this.getUsableShelves()\r\n       })\r\n    },\r\n    visiblechange(val){\r\n      if(val==false){\r\n        this.shelveID=\"\";\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/Pages/SzWarehousing/SzDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"transport_detail\"},[_c('p',{staticClass:\"details_title\"},[_vm._v(\"基本信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"info_box\"},[_c('Row',[_c('Col',{attrs:{\"span\":\"12\"}},[_c('p',{staticClass:\"info_item\"},[_c('label',{},[_vm._v(\"运输批次号：\")]),_vm._v(\" \"),_c('span',{},[_vm._v(_vm._s(_vm.titleMsg.LotNumber))])]),_vm._v(\" \"),_c('p',{staticClass:\"info_item\"},[_c('label',{},[_vm._v(\"车  牌  号：\")]),_vm._v(\" \"),_c('span',{},[_vm._v(_vm._s(_vm.titleMsg.CarNumber1)+\"  \"+_vm._s(_vm.titleMsg.CarNumber2))])]),_vm._v(\" \"),_c('p',{staticClass:\"info_item\"},[_c('label',{},[_vm._v(\"运输时间：\")]),_vm._v(\" \"),_c('span',{},[_vm._v(_vm._s(_vm._f(\"showDate\")(_vm.titleMsg.DepartDate)))])]),_vm._v(\" \"),_c('p',{staticClass:\"info_item\"},[_c('label',{},[_vm._v(\"总  件  数：\")]),_vm._v(\" \"),_c('span',{},[_vm._v(_vm._s(_vm.titleMsg.totalBoxes))])]),_vm._v(\" \"),_c('p',{staticClass:\"info_item\"},[_c('label',{},[_vm._v(\"已上架数：\")]),_vm._v(\" \"),_c('span',{},[_vm._v(_vm._s(_vm.titleMsg.ShelveQuantity))])])]),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"12\"}},[_c('p',{staticClass:\"info_item\"},[_c('label',{},[_vm._v(\"承  运  商：\")]),_vm._v(\" \"),_c('span',{},[_vm._v(_vm._s(_vm.titleMsg.CarrierName))])]),_vm._v(\" \"),_c('p',{staticClass:\"info_item\"},[_c('label',{},[_vm._v(\"司机姓名：\")]),_vm._v(\" \"),_c('span',{},[_vm._v(_vm._s(_vm.titleMsg.Driver))])]),_vm._v(\" \"),_c('p',{staticClass:\"info_item\"},[_c('label',{},[_vm._v(\"运输类型：\")]),_vm._v(\" \"),_c('span',{},[_vm._v(_vm._s(_vm.titleMsg.Type))])]),_vm._v(\" \"),_c('p',{staticClass:\"info_item\"},[_c('label',{},[_vm._v(\"总毛重(kg)：\")]),_vm._v(\" \"),_c('span',{},[_vm._v(_vm._s(_vm.titleMsg.TotalWeight))])]),_vm._v(\" \"),_c('p',{staticClass:\"info_item\"},[_c('label',{},[_vm._v(\"总条数：\")]),_vm._v(\" \"),_c('span',{},[_vm._v(_vm._s(_vm.titleMsg.TotalParts))])])])],1)],1),_vm._v(\" \"),_c('p',{staticClass:\"details_title\"},[_vm._v(\"明细\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"success\"},on:{\"click\":_vm.shelves}},[_vm._v(\"上架\")]),_vm._v(\" \"),_c('span',{staticClass:\"notice\"},[_vm._v(\"注意：如果已上架，仍然可以点击上架修改库位号\")]),_vm._v(\" \"),_c('span',[_c('Button',{staticClass:\"printbtn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.ok_print}},[_vm._v(\"入库单打印\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"tablebox\"},[_c('Table',{ref:\"selection\",attrs:{\"loading\":_vm.loading,\"columns\":_vm.listTitle,\"data\":_vm.listData},on:{\"on-select\":_vm.onSelect,\"on-select-all\":_vm.onSelectAll,\"on-selection-change\":_vm.onSelectionChange},scopedSlots:_vm._u([{key:\"BoxDate\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('p',[_vm._v(_vm._s(_vm._f(\"showDate\")(row.BoxDate)))])]}},{key:\"BoxCode\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('p',[_vm._v(_vm._s(_vm._f(\"showboxcode\")(row.BoxCode)))])]}},{key:\"ShelvesStatus\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('p',[(row.ShelvesStatus=='已上架')?_c('Tag',{attrs:{\"color\":\"green\"}},[_vm._v(_vm._s(row.ShelvesStatus))]):_c('Tag',{attrs:{\"color\":\"orange\"}},[_vm._v(_vm._s(row.ShelvesStatus))])],1)]}}])})],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"标题\",\"width\":\"300\"},on:{\"on-visible-change\":_vm.visiblechange},model:{value:(_vm.modal),callback:function ($$v) {_vm.modal=$$v},expression:\"modal\"}},[_vm._v(\"\\n    库位号：\\n    \"),_vm._v(\" \"),_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"allow-create\":\"\"},on:{\"on-create\":_vm.createShelve},model:{value:(_vm.shelveID),callback:function ($$v) {_vm.shelveID=$$v},expression:\"shelveID\"}},_vm._l((_vm.shelveArr),function(item,index){return _c('Option',{key:index,attrs:{\"value\":item.ShelveID}},[_vm._v(_vm._s(item.ShelveID))])}),1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.ok}},[_vm._v(\"确定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d5a78032\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Pages/SzWarehousing/SzDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d5a78032\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SzDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SzDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SzDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d5a78032\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SzDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d5a78032\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Pages/SzWarehousing/SzDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}