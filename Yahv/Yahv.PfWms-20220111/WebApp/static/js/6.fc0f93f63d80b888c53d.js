webpackJsonp([6],{"74L0":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e("YQ7m"),l=e.n(a),s=e("bOdI"),o=e.n(s),r=e("mvHQ"),n=e.n(r),c=(e("NYxO"),e("Wxb1")),d=e("7GJn"),u=e("EE7l"),h=e("uWQ3"),f=e("CZn4"),y=e("MgEx"),v=e("93yw"),p=e("gyMJ"),b=e("dciI"),m=e("3PyT"),_=(e("7+uW"),e("PJh5")),w=e.n(_),g=(e("mw3O"),e("7t+N"),e("xrTZ").Base64,e("FHte")),C=e("M4fF"),D={name:"RoutineEnter",components:{"img-test":c.default,"photo-graph":d.default,"Historys-dom":u.default,"Add-Carrier":h.default,"Add-Driver":f.default,"Add-Car":y.default,"logg-ed":v.default},props:{fatherMethod:{type:Function,default:null}},data:function(){var t,i=this;return t={loggdetime:"",showlogged:!1,Conveyingplace:[],showaddDriver:!1,addDriverName:null,showaddCar:!1,addCarName:null,showaddCarrier:!1,adddisabled:!1,IsPersonal:!1,clientGrade:null,isdisabled:!1,originalarr:[],TypeArr:[{value:3,label:"快递"},{value:4,label:"国际快递"}],IsfileDel:!1,fruit:[],showprint:!1,fromroute:"",warehouseID:sessionStorage.getItem("UserWareHouse"),pusharr:[],stringcode:"",Childrencodearr:[],Childrencode:"",showChildrencode:!1,language:"SC",disabledwaybuill:!1,UserWareHouse:sessionStorage.getItem("UserWareHouse"),printurl:g.pfwms,productinfo:{count:""},ShipperCodesarr:[],GetExpTypesarr:[],outprint:!1,waybuillform:null,modelstype:"SF",modelstypehk:"098F3D3E2D243EA534E57A882F377BC7",IGetExpType:3,waybillprintbox:!1,viewtime:"",loading:!0,printlist:[]},o()(t,"Conveyingplace",[]),o()(t,"ClientCode",""),o()(t,"model11",""),o()(t,"sethousbox",!1),o()(t,"housenumber",""),o()(t,"Storehouselist",[]),o()(t,"detail_ID",""),o()(t,"searchkey",""),o()(t,"showphoto2",!1),o()(t,"time",""),o()(t,"WarehousingMsg",!1),o()(t,"Nomatching",[]),o()(t,"details",{waybillinfo:{},wayBillID:"",total:0,pageIndex:1,pageSize:1e4,WaybillNo:"90416165067",Carrier:"yunda",Conveyorsite:"",fathertype:""}),o()(t,"uploadList",[]),o()(t,"files",""),o()(t,"SelectRow",[]),o()(t,"isAbnormal",!1),o()(t,"remarks",""),o()(t,"Summary",""),o()(t,"historydata",!1),o()(t,"historydetail",{times:"",waybillLIst:[]}),o()(t,"company",""),o()(t,"listtitles",[{type:"index",width:60,align:"center"},{title:"型号",slot:"PartNumber",align:"left"},{title:"品牌",slot:"Manufacturer",align:"left"},{title:"产地",slot:"OriginName",align:"left"},{title:"库位",slot:"ShelveID",align:"left"},{title:"应出库数量",slot:"NoticeQuantity",align:"left"},{title:"已出库数量",slot:"PickedQuantity",align:"left"},{title:"剩余数量",slot:"LeftQuantity",align:"left"},{renderHeader:function(t,i){return t("div",[t("span",{style:{color:"red","vertical-align":"middle","padding-right":"5px","font-size":"20px;"}},"*"),t("span",{},"本次发货数量")])},key:"PickingQuantity",align:"left",render:function(t,e){var a=i;return e.row.CurrentQuantity<=0,t("Input",{props:{value:e.row.CurrentQuantity,disabled:!0},on:{"on-change":function(t){},"on-blur":function(t){var i=a.trim(t.target.value);""!=i?1==/^[1-9]\d*$/.test(i)?i>e.row.LeftQuantity?(a.$Message.error("发货数量不能大于剩余数量"),e.row.CurrentQuantity="",t.target.value="",a.detailitem[e.index]=e.row):(e.row.CurrentQuantity=i,a.detailitem[e.index]=e.row):(a.$Message.error("只能输入正整数"),e.row.CurrentQuantity="",t.target.value="",a.detailitem[e.index]=e.row):(e.row.CurrentQuantity="",t.target.value="",a.detailitem[e.index]=e.row),a.clicktest(e.row)}}})}},{title:"毛重(kg)",key:"Weight",align:"center",render:function(t,e){var a=i,l="";return l=e.row.CurrentQuantity<=0,t("Input",{props:{value:e.row.Weight,autofocus:!0,disabled:l},on:{"on-change":function(t){},"on-blur":function(t){var i=a.trim(t.target.value);""!=i?1==/^\d+(\.\d{0,2})?$/.test(i)?(e.row.Weight=i,a.detailitem[e.index]=e.row):(a.$Message.error("只能输入数字,包括两位数的小数点"),e.row.Weight=null,t.target.value=null,a.detailitem[e.index]=e.row):(e.row.Weight=null,t.target.value=null,a.detailitem[e.index]=e.row),a.changeoriginalarr(e.row)},"on-enter":function(t){var i=a.trim(t.target.value);if(1==/^\d+(\.\d{0,2})?$/.test(i)){e.row.Weight=i,a.detailitem[e.index]=e.row;var l=e.row.Inputs,s=e.row.StandardProducts,o=[{ID:"0001",Type:200,url:"",size:{width:"363",height:"360"},data:{Quantity:e.row.CurrentQuantity,inputsID:l.ID,Catalog:s.Catalog,PartNumber:s.PartNumber,Manufacturer:s.Manufacturer,Packing:s.Packing,PackageCase:s.PackageCase,origin:l.Origin}}];n()(o)}else a.$Message.error("只能输入数字,包括两位数的小数点"),e.row.Weight="",t.target.value="",a.detailitem[e.index]=e.row}}})}},{title:"复核状态",key:"check_statu",align:"center",render:function(t,i){return 0==i.row.Checked?t("span",{props:{},style:{display:"inline-block",padding:"5px 10px",color:"#000000",border:"1px solid #e8eaec",background:"#f7f7f7"}},"未复核"):1==i.row.Checked?t("span",{props:{},style:{display:"inline-block",padding:"5px 10px",color:"#52c41a",border:"1px solid #b7eb8f",background:"#f6ffed"}},"复核通过"):void 0}},{title:"图片",slot:"imglist",align:"center",width:200},{title:"操作",slot:"operation",align:"center",width:160}]),o()(t,"detailitem",[]),o()(t,"CarrierList",[]),o()(t,"wayBillID",this.$route.params.wayBillID),o()(t,"waybillinfo",""),o()(t,"CarArr",[]),o()(t,"CarArrName",""),o()(t,"DriversArr",[]),o()(t,"DriversName",""),o()(t,"localCarrier",[{ID:"098F3D3E2D243EA534E57A882F377BC7",Name:"香港顺丰"},{ID:"53C6F3CCA240D98B5E648D93115A2426",Name:"DHL"},{ID:"0E60AC85BC39F1E221D66A048FF164DA",Name:"UPS"},{ID:"F2D4A36F60A5F4DF5769E10303B7CC93",Name:"FedEx"},{ID:"3ED8D415AB1BBAC628429A85851E53B6",Name:"TNT"}]),t},filters:{showDate:function(t){if(""!=t&&t){var i=t.split("(")[1].split(")")[0];return w()(+i).format("YYYY-MM-DD")}},changenumber:function(t){if(""!=t){var i=Number(t);return console.log(i),i}}},computed:{getarrs:function(){return this.Nomatching},Budgetdetail:function(){return this.$store.state.common.Budgetdetail},isdisabledFn:function(){return"HK01_WLT"==this.UserWareHouse?this.disabledwaybuill=!0:this.disabledwaybuill=!1,this.disabledwaybuill},setstring:function(){return console.log(this.stringcode),this.stringcode}},beforeRouteEnter:function(t,i,e){console.log(i),e(function(t){t.fromroute=i})},mounted:function(){this.WayParterdata(),this.getdetail_data();var t=this,i="";document.onkeydown=function(e){16!=e.keyCode&&13!=e.keyCode?i+=e.key:13===e.keyCode&&(t.stringcode=i,t.changestatus(t.stringcode),i="")}},created:function(){window.KdnPrinted=this.changed,window.PhotoUploaded=this.changimgs,console.log(this.$route.params)},methods:{rowClassName:function(t,i){return 1==i?(console.log(i),"demo-table-info-row"):2==i?"demo-table-error-row":""},clicktest:C.throttle(function(t){for(var i=0,e=this.SelectRow.length;i<e;i++)t.ID==this.SelectRow[i].ID&&(this.SelectRow[i]=t)},1e3),changeoriginalarr:function(t){for(var i=0,e=this.originalarr.length;i<e;i++)this.originalarr[i].ID==t.ID&&(this.originalarr[i]=t)},changestatus:function(t){for(var i=0;i<this.detailitem.length;i++)if(this.detailitem[i].ID==t){var e=this,a=i;Object(p.B)(this.detailitem[i].OutputID).then(function(t){1==t.success?(e.detailitem[a].Checked=!0,e.$Message.success("复核成功")):e.$Message.error("复核失败，请检查该条码是否在该出库单中")})}},testwinfrom:function(){TestCallJsFuntion()},trim:function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},ok:function(){this.showphoto2=!1},cancel:function(){this.showphoto2=!1,this.showprint=!1,this.showaddCarrier=!1,this.showaddDriver=!1,this.showaddCar=!1},handleSelectRow:function(t){this.SelectRow=t},search_pro:function(){var t=this;this.loading=!0,""!=this.searchkey?Object(b.r)(this.waybillinfo.ID,this.searchkey).then(function(i){if(i.length>0){for(var e=t.detailitem,a=[],l=(new Array,0);l<e.length;l++)for(var s=e[l].ID,o=0;o<i.length;o++){s==i[o].ID&&a.push(e[l])}t.detailitem=a}else t.detailitem=[]}):this.detailitem=this.originalarr,this.loading=!1},finish_btn:function(){console.log(this.originalarr),this.pusharr=[];for(var t=!1,i=0,e=this.originalarr.length;i<e;i++){if(""==this.detailitem[i].CurrentQuantity||"0"==this.detailitem[i].CurrentQuantity){this.$Message.error("请填写本次发货数量"),this.pusharr=[],t=!1;break}if(this.detailitem[i].CurrentQuantity>this.detailitem[i].LeftQuantity){this.$Message.error("发货数量不能大于剩余数量"),this.pusharr=[],t=!1;break}var a={NoticeID:this.detailitem[i].ID,OutputID:this.detailitem[i].OutputID,BoxCode:this.detailitem[i].ShelveID,Quantity:this.detailitem[i].CurrentQuantity,Weight:this.detailitem[i].Weight,NetWeight:this.detailitem[i].NetWeight,Volume:this.detailitem[i].Pickings.Volume,Files:this.detailitem[i].Imagefiles};this.pusharr.push(a),t=!0}1==t&&(2==this.waybillinfo.Type?null==this.waybillinfo.CarrierID||""==this.waybillinfo.CarrierID?this.$Message.error("请先选择承运商"):null==this.waybillinfo.Driver?this.$Message.error("请选择司机"):null==this.waybillinfo.CarNumberID?this.$Message.error("请选择车牌号"):this.WarehousingMsg=!0:this.WarehousingMsg=!0)},setWarehousing:function(t){var i=this;this.isdisabled=!0,Object(b.C)(t).then(function(t){if(console.log(t),1==t.Success){i.$Message.success("出库完成，一秒后自动关闭");var e=i;setTimeout(function(){"CgUntreated"==e.fromroute.name?(e.$store.dispatch("setshowtype",0),e.$store.dispatch("setshowdetailout",!1),e.$router.push({path:"/Outgoing/10"})):(e.$store.dispatch("setshowtype",0),e.$store.dispatch("setshowdetailout",!1),e.$router.go(-1))},1e3)}else i.$Message.error("出库操作失败,请从新操作"),i.isdisabled=!1})},getCookie:function(t){for(var i=document.cookie.split("; "),e=0;e<i.length;e++){var a=i[e].split("=");if(t==a[0])return a[1]}return""},ok_Warehousing:function(){this.WarehousingMsg=!1,this.isdisabled=!0;var t={Waybill:{ID:this.waybillinfo.ID,ExcuteStatus:this.waybillinfo.ExcuteStatus,Type:this.waybillinfo.Type,OrderID:this.waybillinfo.OrderID,CarrierID:this.waybillinfo.CarrierID,Summary:"",Driver:this.waybillinfo.Driver,CarNumber1:this.waybillinfo.CarNumberID,Files:this.waybillinfo.FeliverGoodFile,LoadingExcuteStatus:this.waybillinfo.LoadingExcuteStatus,WarehouseID:this.warehouseID,Code:this.waybillinfo.Code},AdminID:sessionStorage.getItem("userID"),Pickings:this.pusharr};this.setWarehousing(t)},cancel_Warehousing:function(){this.WarehousingMsg=!1},changeimgs:function(t,i){for(var e=this.detailitem,a=0,l=e.length;a<l;a++)e[a].ID==i.ID&&e[a].Files.push(t)},getdetail_data:function(){var t=this;Object(b.q)(this.wayBillID).then(function(i){console.log(i),t.Getclientdata(i.Waybill.EnterCode),t.originalarr=i.Notices,t.waybillinfo=i.Waybill,t.detailitem=i.Notices,t.detailitem.forEach(function(t){t.LeftQuantity<=0?t._disabled=!0:t._disabled=!1}),t.$Spin.hide(),t.Carriers(i.Waybill.Type),t.GetDriversCars(i.Waybill.CarrierID),2==i.Waybill.Type&&"Personal"==i.Waybill.CarrierID?t.IsPersonal=!0:(t.IsPersonal=!0,t.GetDriversCars(i.Waybill.CarrierID)),t.CarArrName=i.Waybill.CarNumber1,t.DriversName=i.Waybill.Driver,-1==t.warehouseID.indexOf("SZ")&&(null!=i.Waybill.Extype&&null!=i.Waybill.ExPayType?t.fruit=["出库单打印","送货单打印","运单打印"]:t.fruit=["出库单打印","送货单打印"]),215==i.Waybill.ExcuteStatus?t.isdisabled=!0:t.isdisabled=!1,t.loading=!1})},changewaybillType:function(t){this.Carriers(t)},detailspage:function(t){this.details.pageIndex=t,this.getdetail_data(this.details.wayBillID)},Removebackfun:function(t,i){if("Clientimg"==i)this.waybillinfo.SendGoodsFile.splice(this.waybillinfo.SendGoodsFile.indexOf(t),1);else if("Waybill"==i)this.waybillinfo.FeliverGoodFile.splice(this.waybillinfo.FeliverGoodFile.indexOf(t),1);else for(var e=this.detailitem,a=0;a<e.length;a++)e[a].ID==i.ID&&(e[a].Imagefiles.splice(t,1),this.changeoriginalarr(e[a]))},handleRemove:function(t,i,e){var a={id:t.ID};this.ok_CgDeleteFiles(a,t,i)},ok_CgDeleteFiles:function(t,i,e){var a=this;Object(b.l)(t).then(function(t){console.log(t),1==t.Success?(a.IsfileDel=!0,a.$Message.success("删除成功"),a.Removebackfun(i,e)):(a.IsfileDel=!1,a.$Message.error("删除失败"))})},Abnormalsettrue:function(){this.isAbnormal=!0},Abnormal_btn:function(){var t=this;if(void 0==this.Summary||""==this.Summary)this.isAbnormal=!0,this.$Message.error("请输入异常原因");else{this.isdisabled=!0;var i={waybillid:this.waybillinfo.ID,adminid:sessionStorage.getItem("userID"),orderid:this.waybillinfo.OrderID,summary:this.Summary};Object(b.A)(i).then(function(i){if(1==i.Success){t.$Message.success("出库完成，一秒后自动关闭");var e=t;setTimeout(function(){"CgUntreated"==e.fromroute.name?(e.$store.dispatch("setshowtype",0),e.$store.dispatch("setshowdetailout",!1),e.$router.push({path:"/Outgoing/10"})):(e.$store.dispatch("setshowtype",0),e.$store.dispatch("setshowdetailout",!1),e.$router.go(-1))},1e3)}else t.$Message.error("出库操作失败,请从新操作"),t.isdisabled=!1}),this.isAbnormal=!1}},closeerror:function(){this.isAbnormal=!1,this.Summary=""},errorstatue:function(t){1==t?this.isAbnormal=!0:(this.isAbnormal=!1,this.Summary="")},showhistory:function(){this.historydata=!0,this.historydetail.times=(new Date).getTime()},historywaybill:function(t){console.log(t),this.showhistory()},WayParterdata:function(){var t=this;Object(p.G)().then(function(i){console.log(i),t.Conveyingplace=i.obj})},changConveyingplace:function(t,i){console.log(t),console.log(i),"ClientCode"==i&&(this.details.waybillinfo.CorPlace=t.value,this.details.waybillinfo.CorPlaceDes=t.label)},showBudget:function(t,i,e){if(this.$store.dispatch("setBudget",!0),"meet"==t){var a="";this.$router.push({name:"outdetailBudget",query:{webillID:this.waybillinfo.ID,OrderID:this.waybillinfo.OrderID,type:i,otype:"out",conduct:e}})}else{a="";a="CgUntreated"==this.routername?"/CgUntreated/Oplog":"/CgProcessed/Oplog",this.$router.push({path:a,params:{webillID:this.details.waybillinfo.WaybillID}})}},closeBudget:function(){console.log("关闭收支明细"),this.$router.go(-1),this.$store.dispatch("setBudget",!1)},Carriers:function(t){var i=this;Object(b.g)(t,this.warehouseID,200).then(function(t){i.CarrierList=t})},GetDriversCars:function(t){var i=this;Object(b.N)(t).then(function(t){i.CarArr=[];var e=t.Transports;if(e.length>0)for(var a={},l=0;l<e.length;l++)a=null!=e[l].CarNumber1&&null!=e[l].CarNumber2?{value:e[l].CarNumber1+"  "+e[l].CarNumber2}:{value:e[l].CarNumber1},i.CarArr.push(a);else i.CarArr=[];i.DriversArr=t.Drivers,i.waybillinfon.Driver=null,i.waybillinfon.CarNumber1=null})},fromphotos:function(t){if("Waybill"==t||"Clientimg"==t){var i=null;i="Waybill"==t?8010:8020;var e={SessionID:t,AdminID:sessionStorage.getItem("userID"),Data:{WayBillID:this.waybillinfo.ID,WsOrderID:this.waybillinfo.OrderID,NoticeID:"",InputID:"",Type:i}};Object(m.c)(e)}else{e={SessionID:t.ID,AdminID:sessionStorage.getItem("userID"),Data:{WayBillID:this.waybillinfo.ID,WsOrderID:this.waybillinfo.OrderID,NoticeID:t.ID,InputID:"",Type:8010}};Object(m.c)(e)}},changed:function(t){this.waybillinfo.Code=t,this.waybuillform.Code=t,this.initwaybillenter(this.modelstype)},changimgs:function(t){this.testfunction(t)},testfunction:function(t){var i=this,e=t[0],a={CustomName:e.FileName,ID:e.FileID,Url:e.Url,Type:null};if("Waybill"==e.SessionID)a.Type=8010,this.waybillinfo.FeliverGoodFile.push(a);else if("Clientimg"==e.SessionID){a.Type=8020;var l=sessionStorage.getItem("userID"),s=this.waybillinfo.ID;Object(b.s)(l,s).then(function(t){1==t.Success&&i.waybillinfo.SendGoodsFile.push(a)})}else{a.Type=8010;for(var o=0;o<this.detailitem.length;o++)this.detailitem[o].ID==e.SessionID&&(this.detailitem[o].Imagefiles.push(a),this.changeoriginalarr(this.detailitem[o]))}},SeletUpload:function(t){if("Waybill"==t||"Clientimg"==t){var i=null;i="Waybill"==t?8010:8020;var e={SessionID:t,AdminID:sessionStorage.getItem("userID"),Data:{WayBillID:this.waybillinfo.ID,WsOrderID:this.waybillinfo.OrderID,NoticeID:"",InputID:"",Type:i}};Object(m.o)(e)}else{e={SessionID:t.ID,AdminID:sessionStorage.getItem("userID"),Data:{WayBillID:this.waybillinfo.ID,WsOrderID:this.waybillinfo.OrderID,NoticeID:t.ID,InputID:"",Type:8010}};Object(m.o)(e)}},printdata:function(t){"waybuillprint"==t?(this.waybillinfon(),this.GetShipperCodes(),this.GetExpTypes("SF"),this.waybillprintbox=!0):"outprint"==t?this.outprint=!0:this.Boxing_print()},changwaytype:function(t){this.modelstype=t,this.GetExpTypes(this.modelstype)},sumbit_print:function(){"HK01_WLT"!=this.UserWareHouse?this.waybillprint():this.initwaybillenter(this.modelstypehk)},initwaybillenter:function(t){var i=this,e={ID:this.waybillinfo.WaybillID,Code:this.waybuillform.Code,TotalParts:this.waybuillform.TotalParts,TotalWeight:this.waybuillform.TotalWeight,TotalVolume:this.waybuillform.TotalVolume,CarrierID:t};Object(p.J)(e).then(function(t){if(1==t.success){i.$Message.success("保存成功，两秒后自动关闭");l()(function(){i.waybillprintbox=!1},2e3)}else i.$Message.error("保存失败，请检查相关信息")})},outorder_print:function(){var t={waybillinfo:this.waybillinfo,listdata:this.detailitem};Object(m.l)(t)},Boxing_print:function(){var t=null;-1!=this.warehouseID.indexOf("SZ")?4==this.waybillinfo.Type||3==this.waybillinfo.Type?(this.language="SC",t=2):(this.language="SC",t=4):4==this.waybillinfo.Type?(this.language="EN",t=2):3==this.waybillinfo.Type?(this.language="TC",t=2):(this.language="TC",t=4);var i={Language:this.language,waybillinfo:this.waybillinfo,listdata:this.detailitem,Numcopies:t};Object(m.i)(i)},waybillprint:function(){var t={ShipperCode:this.waybillinfo.CarrierName,ExPayType:this.waybillinfo.ExPayType,ExpType:this.waybillinfo.Extype,Sender:{Company:this.waybillinfo.Sender.Company,Name:this.waybillinfo.Sender.Name,Mobile:this.waybillinfo.Sender.Mobile,Address:"广东省"+this.waybillinfo.Sender.Address},Receiver:{Company:this.waybillinfo.Receiver.Company,Name:this.waybillinfo.Receiver.Name,Mobile:this.waybillinfo.Receiver.Mobile,Address:this.waybillinfo.Receiver.Address},Quantity:this.waybillinfo.TotalParts,Remark:"",volume:this.waybillinfo.TotalWeight,Weight:this.waybillinfo.TotalWeight,Commodity:[{GoodsName:"客户器件"}]};null!=this.waybillinfo.Code&&""!=this.waybillinfo.Code?Object(m.n)(this.waybillinfo.Code):Object(m.k)(t)},outorder_clear:function(){this.outprint=!1},CgAllprint:function(){console.log(this.waybillinfo),-1!=this.fruit.indexOf("运单打印")&&(console.log("运单打印"),this.waybillprint()),-1!=this.fruit.indexOf("出库单打印")&&this.outorder_print(),-1!=this.fruit.indexOf("送货单打印")&&this.Boxing_print()},fileprint:function(t){var i=Object(m.f)()["文档打印"];i.Url=t;var e=i;Object(m.a)(e)},waybillinfon:function(){var t=this;Object(p.I)(this.waybillinfo.WaybillID).then(function(i){t.waybuillform=i})},changeacrrier:function(t){2==this.waybillinfo.Type&&"Personal"==t.value?(this.IsPersonal=!0,this.waybillinfo.CarNumberID=this.CarArrName,this.waybillinfo.Driver=this.DriversName):(2==this.waybillinfo.Type?(this.IsPersonal=!1,this.waybillinfo.CarNumberID="",this.waybillinfo.Driver="",this.GetDriversCars(t.value)):(this.IsPersonal=!1,this.waybillinfo.CarNumberID="",this.waybillinfo.Driver=""),this.waybillinfo.CarrierName=t.label)},setcode:function(){this.showChildrencode=!0,this.getchildencode(this.waybillinfo.WaybillID)},Submitcode:function(){""==this.Childrencode?this.$Message.error("请输入运单号"):this.Childrencodearr.length>=8?this.$Message.error("最多可输入8个子运单"):(this.Childrencodearr.push(this.Childrencode),this.Childrencode="")},testchildrencode:function(){0==/^[A-Za-z0-9]+$/.test(this.Childrencode)&&(this.$Message.error("请输入正确的运单号"),this.Childrencode="")},Submitall:function(){var t=this;if(this.Childrencodearr.length>0){var i=this.Childrencodearr.join(","),e={waybillID:this.waybillinfo.WaybillID,subCodes:i};console.log(e),Object(p.y)(e).then(function(i){(console.log(i),1==i.success)?(t.$Message.success("提交成功"),t.getchildencode(t.waybillinfo.WaybillID),t.showChildrencode=!1):t.$Message.error("提交失败,请重试")})}else this.$Message.error("请输入子运单")},sliptitem:function(t){this.Childrencodearr.splice(t,1)},getchildencode:function(t){var i=this;Object(p.H)(t).then(function(t){i.Childrencodearr=""!=t?t.split(","):[]})},visiblechange:function(t){1==t?(this.showChildrencode=!0,this.getchildencode(this.waybillinfo.WaybillID)):this.showChildrencode=!1},closewaybull_btn:function(){this.waybillprintbox=!1},routelinktest:function(){"CgUntreated"==this.fromroute.name?(this.$store.dispatch("setshowtype",0),this.$store.dispatch("setshowdetailout",!1),this.$router.push({path:"/Outgoing/10"}),sessionStorage.setItem("openname","chuku"),this.$store.dispatch("setopenname","chuku"),sessionStorage.setItem("Activename","待处理订单出库"),this.$store.dispatch("setAcrivename","待处理订单出库")):(this.$store.dispatch("setshowtype",0),this.$store.dispatch("setshowdetailout",!1),this.$router.go(-1))},clackFilesProcess:function(t){var i={Url:t};console.log(i),Object(m.b)(i)},Getclientdata:function(t){var i=this;Object(b.U)(t).then(function(t){i.clientGrade=t.obj.Grade})},ok_addCarrier:function(t){1==t?this.$refs.addCarrier.sumbit_btn():2==t?(this.$refs.addCarrier.delitem(),this.showaddCarrier=!1):3==t?this.$refs.AddDriver.sumbit_btn():4==t?(this.$refs.AddDriver.delitem(),this.showaddDriver=!1):5==t?this.$refs.addcar.sumbit_btn():6==t&&(this.$refs.addcar.delitem(),this.showaddCar=!1)},setdisabled:function(t){this.adddisabled=t},fatherMethodCarrier:function(t){if(this.adddisabled=!1,"false"!=t){sessionStorage.getItem("UserWareHouse");var i={ID:t.Carrier.ID,Name:t.Carrier.Name};this.CarrierList.push(i),this.Carriers(this.waybillinfo.Type),this.waybillinfo.CarrierID=t.Carrier.ID,this.waybillinfo.CarrierName=t.Carrier.Name;var e={Name:t.Driverinfo.Name,ID:""};this.DriversArr.push(e),this.waybillinfo.Driver=t.Driverinfo.Name;e={value:t.Carinfo.CarNumber1};this.CarArr.push(e),this.waybillinfo.CarNumberID=t.Carinfo.CarNumber1,this.GetDriversCars(this.waybillinfo.CarrierID),this.showaddCarrier=!1,this.$refs.addCarrier.delitem()}},ok_addDriver:function(t){if(this.adddisabled=!1,"false"!=t){var i={Name:t,ID:""};this.DriversArr.push(i),this.GetDriversCars(this.waybillinfo.CarrierID),this.waybillinfo.Driver=t,this.showaddDriver=!1,this.$refs.AddDriver.delitem()}},ok_addCar:function(t){if(this.adddisabled=!1,"false"!=t){var i={value:t};this.CarArr.push(i),this.GetDriversCars(this.waybillinfo.CarrierID),this.waybillinfo.CarNumberID=t,this.showaddCar=!1,this.$refs.AddDriver.delitem()}},logchange:function(){this.showlogged=!0,this.loggdetime=(new Date).getTime()}}},I={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticStyle:{width:"100%"}},[e("div",{staticClass:"itembox"},[e("p",{staticClass:"detailtitle"},[t._v("基础信息")]),t._v(" "),e("div",{staticStyle:{width:"100%","min-height":"200px",background:"#f5f7f9",margin:"15px 0"}},[null!=t.waybillinfo?e("Row",[e("Col",{staticStyle:{width:"20%",float:"left"}},[e("ul",{staticClass:"detail_li detail1"},[e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title1"},[t._v("ID：")]),t._v(" "),e("span",[t._v(t._s(t.waybillinfo.ID))])]),t._v(" "),e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title1"},[t._v("状态：")]),t._v(" "),e("span",[t._v(t._s(t.waybillinfo.ExcuteStatusName)+"\n                      "),null!=t.waybillinfo.ID?e("Button",{attrs:{icon:"md-calendar",type:"success",size:"small"},on:{click:t.logchange}},[t._v("日志管理")]):t._e()],1)]),t._v(" "),e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title1"},[t._v("业务类型：")]),t._v(" "),e("span",[t._v(t._s(t.waybillinfo.SourceName))])]),t._v(" "),e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title1"},[t._v("总货值：")]),t._v(" "),e("span",{staticStyle:{color:"'#ccc'","font-width":"600"}},[t._v(t._s(t.waybillinfo.chgTotalCurrency)+" "+t._s(t.waybillinfo.chgTotalPrice))])]),t._v(" "),e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title1"},[t._v("是否逾期：")]),t._v(" "),1==t.waybillinfo.overDue?e("span",{staticStyle:{color:"'#ccc'","font-width":"600"}},[t._v("是")]):e("span",{staticStyle:{color:"'#ccc'","font-width":"600"}},[t._v("否")])]),t._v(" "),void 0!=t.waybillinfo.Condition?e("li",{staticClass:"itemli"},[e("Icon",{staticStyle:{"font-size":"22px",color:"#da2828"},attrs:{type:"md-alert"}}),t._v(" "),1==t.waybillinfo.Condition.AgencyCheck?e("Tag",{attrs:{color:"geekblue"}},[t._v("代检查")]):t._e(),t._v(" "),1==t.waybillinfo.Condition.AgencyPayment?e("Tag",{attrs:{color:"purple"}},[t._v("代垫货款")]):t._e(),t._v(" "),1==t.waybillinfo.Condition.AgencyReceive?e("Tag",{attrs:{color:"blue"}},[t._v("代收货款")]):t._e(),t._v(" "),1==t.waybillinfo.Condition.ChangePackaging?e("Tag",{attrs:{color:"cyan"}},[t._v("代收货款")]):t._e(),t._v(" "),1==t.waybillinfo.Condition.LableServices?e("Tag",{attrs:{color:"green"}},[t._v("标签服务")]):t._e(),t._v(" "),1==t.waybillinfo.Condition.PayForFreight?e("Tag",{attrs:{color:"gold"}},[t._v("垫付运费")]):t._e(),t._v(" "),1==t.waybillinfo.Condition.Repackaging?e("Tag",{attrs:{color:"orange"}},[t._v("重新包装")]):t._e(),t._v(" "),1==t.waybillinfo.Condition.UnBoxed?e("Tag",{attrs:{color:"volcano"}},[t._v("拆箱验货")]):t._e(),t._v(" "),1==t.waybillinfo.Condition.VacuumPackaging?e("Tag",{attrs:{color:"red"}},[t._v("真空包装")]):t._e(),t._v(" "),1==t.waybillinfo.Condition.WaterproofPackaging?e("Tag",{attrs:{color:"magenta"}},[t._v("防水包装")]):t._e(),t._v(" "),1==t.waybillinfo.Condition.QualityInspection?e("Tag",{attrs:{color:"lime"}},[t._v("质检")]):t._e(),t._v(" "),1==t.waybillinfo.Condition.Unboxing?e("Tag",{attrs:{color:"yellow"}},[t._v("拆包装")]):t._e()],1):t._e()])]),t._v(" "),e("Col",{staticStyle:{width:"24%",float:"left"}},[e("ul",{staticClass:"detail_li"},[e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title2"},[t._v("制单时间：")]),t._v(" "),t.detailitem.length>0?e("span",[t._v(t._s(t._f("showDateexact")(t.detailitem[0].CreateDate)))]):t._e()]),t._v(" "),e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title2",staticStyle:{float:"left"}},[t._v("供  应  商：")]),t._v(" "),e("span",{staticStyle:{display:"inline-block",width:"78%","line-height":"1"}},t._l(t.waybillinfo.Supplier,function(i,a){return e("p",[t._v(t._s(i.Supplier)+"  "),e("Tag",{attrs:{color:"volcano"}},[t._v("LV "+t._s(i.SupplierGrade))])],1)}),0)]),t._v(" "),e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title2"},[t._v("发货方式：")]),t._v(" "),-1!=t.warehouseID.indexOf("SZ")||1==t.waybillinfo.Type||2==t.waybillinfo.Type?e("span",[t._v(t._s(t.waybillinfo.TypeName))]):e("Select",{staticStyle:{width:"40%"},on:{"on-change":t.changewaybillType},model:{value:t.waybillinfo.Type,callback:function(i){t.$set(t.waybillinfo,"Type",i)},expression:"waybillinfo.Type"}},t._l(t.TypeArr,function(i,a){return e("Option",{key:a,attrs:{value:i.value}},[t._v(t._s(i.label))])}),1)],1),t._v(" "),e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title2"},[t._v("总  额  度：")]),t._v(" "),e("span",{staticStyle:{color:"'#ccc'","font-width":"600"}},[t._v("CNY "+t._s(t.waybillinfo.total))])]),t._v(" "),e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title2"},[t._v("总  欠  款：")]),t._v(" "),e("span",{staticStyle:{color:"'#ccc'","font-width":"600"}},[t._v("CNY "+t._s(t.waybillinfo.totalDebt))])]),t._v(" "),1==t.waybillinfo.Type?e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title2"},[t._v("自提时间：")]),t._v(" "),e("span",[t._v(t._s(t._f("showDateexact")(t.waybillinfo.AppointTime)))])]):t._e(),t._v(" "),e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title2"},[t._v("特殊标签：")]),t._v(" "),e("span",{staticStyle:{"line-height":"20px",width:"70%",display:"inline-block"}},t._l(t.waybillinfo.LableFile,function(i,a){return e("div",[e("p",[e("a",[t._v(t._s(i.CustomName))]),t._v(" "),e("a",{on:{click:function(e){return t.fileprint(i.Url)}}},[t._v("打印")])])])}),0)]),t._v(" "),1!=t.waybillinfo.Type?e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title2",staticStyle:{float:"left"}},[t._v("随货文件：")]),t._v(" "),e("span",{staticStyle:{float:"left"}},t._l(t.waybillinfo.Files,function(i,a){return e("div",[e("span",[t._v(t._s(i.CustomName))]),t._v(" "),e("a",{on:{click:function(e){return t.fileprint(i.Url)}}},[t._v("打印")])])}),0)]):t._e()])]),t._v(" "),e("Col",{staticStyle:{width:"30%",float:"left"}},[e("ul",{staticClass:"detail_li"},[e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title3"},[t._v("客户编号：")]),t._v(" "),e("span",[t._v(t._s(t.waybillinfo.EnterCode)+"（"+t._s(t.waybillinfo.ClientName)+"）"),e("Tag",{attrs:{color:"geekblue"}},[t._v("LV "+t._s(t.clientGrade))])],1)]),t._v(" "),1==t.waybillinfo.Type?e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title3"},[t._v("提货人：")]),t._v(" "),e("span",[t._v(t._s(t.waybillinfo.coeContact))])]):t._e(),t._v(" "),1==t.waybillinfo.Type?e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title3"},[t._v("提货人证件：")]),t._v(" "),e("span",[t._v(t._s(t.waybillinfo.IDTypeName)+t._s(t.waybillinfo.IDNumber))])]):t._e(),t._v(" "),1==t.waybillinfo.Type?e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title3"},[t._v("提货人电话：")]),t._v(" "),e("span",[t._v(t._s(t.waybillinfo.coePhone))])]):t._e(),t._v(" "),1!=t.waybillinfo.Type?e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title3"},[t._v("运单号(本次)：")]),t._v(" "),e("span",[e("Input",{staticStyle:{width:"60%"},model:{value:t.waybillinfo.Code,callback:function(i){t.$set(t.waybillinfo,"Code",i)},expression:"waybillinfo.Code"}})],1)]):t._e(),t._v(" "),1!=t.waybillinfo.Type?e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title3"},[2==t.waybillinfo.Type?e("em",{staticClass:"Mustfill"},[t._v("*")]):t._e(),t._v("承运商(本次):")]),t._v(" "),e("span",[e("Select",{staticStyle:{width:"60%"},attrs:{"label-in-value":!0},on:{"on-change":t.changeacrrier},model:{value:t.waybillinfo.CarrierID,callback:function(i){t.$set(t.waybillinfo,"CarrierID",i)},expression:"waybillinfo.CarrierID"}},t._l(t.CarrierList,function(i){return e("Option",{key:i.ID,attrs:{value:i.ID}},[t._v(t._s(i.Name))])}),1),t._v(" "),2==t.waybillinfo.Type?e("Icon",{attrs:{type:"md-add"},on:{click:function(i){t.showaddCarrier=!0}}}):t._e()],1)]):t._e(),t._v(" "),2==t.waybillinfo.Type&&0==t.IsPersonal?e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title3"},[e("em",{staticClass:"Mustfill"},[t._v("*")]),t._v("司        机:")]),t._v(" "),e("span",[e("Select",{staticStyle:{width:"60%"},attrs:{"label-in-value":!0},model:{value:t.waybillinfo.Driver,callback:function(i){t.$set(t.waybillinfo,"Driver",i)},expression:"waybillinfo.Driver"}},t._l(t.DriversArr,function(i){return e("Option",{key:i.ID,attrs:{value:i.Name}},[t._v(t._s(i.Name))])}),1),t._v(" "),2==t.waybillinfo.Type&&null!=t.waybillinfo.CarrierID?e("Icon",{attrs:{type:"md-add"},on:{click:function(i){t.showaddDriver=!0}}}):t._e()],1)]):t._e(),t._v(" "),2==t.waybillinfo.Type&&0==t.IsPersonal?e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title3"},[e("em",{staticClass:"Mustfill"},[t._v("*")]),t._v("车  牌  号:")]),t._v(" "),e("span",[e("Select",{staticStyle:{width:"60%"},attrs:{"label-in-value":!0},model:{value:t.waybillinfo.CarNumberID,callback:function(i){t.$set(t.waybillinfo,"CarNumberID",i)},expression:"waybillinfo.CarNumberID"}},t._l(t.CarArr,function(i){return e("Option",{key:i.ID,attrs:{value:i.value}},[t._v(t._s(i.value))])}),1),t._v(" "),2==t.waybillinfo.Type&&null!=t.waybillinfo.CarrierID?e("Icon",{attrs:{type:"md-add"},on:{click:function(i){t.showaddCar=!0}}}):t._e()],1)]):t._e(),t._v(" "),2==t.waybillinfo.Type&&1==t.IsPersonal?e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title3"},[e("em",{staticClass:"Mustfill"},[t._v("*")]),t._v("司        机:")]),t._v(" "),e("span",[e("Input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入司机"},model:{value:t.waybillinfo.Driver,callback:function(i){t.$set(t.waybillinfo,"Driver",i)},expression:"waybillinfo.Driver"}})],1)]):t._e(),t._v(" "),2==t.waybillinfo.Type&&1==t.IsPersonal?e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title3"},[e("em",{staticClass:"Mustfill"},[t._v("*")]),t._v("车  牌  号:")]),t._v(" "),e("span",[e("Input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入车牌号"},model:{value:t.waybillinfo.CarNumberID,callback:function(i){t.$set(t.waybillinfo,"CarNumberID",i)},expression:"waybillinfo.CarNumberID"}})],1)]):t._e(),t._v(" "),1!=t.waybillinfo.Type?e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title3"},[t._v("收  货  人：")]),t._v(" "),e("span",[t._v(t._s(t.waybillinfo.coeContact))])]):t._e(),t._v(" "),1!=t.waybillinfo.Type?e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title3"},[t._v("收货人电话：")]),t._v(" "),e("span",[t._v(t._s(t.waybillinfo.coePhone))])]):t._e(),t._v(" "),1!=t.waybillinfo.Type?e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title3",staticStyle:{float:"left"}},[t._v("收货地址：")]),t._v(" "),e("span",{staticStyle:{display:"inline-block","max-width":"60%","line-height":"20px"}},[e("i",[t._v(" "+t._s(t.waybillinfo.CoeAddress))])])]):t._e(),t._v(" "),1==t.waybillinfo.Type?e("li",{staticClass:"itemli"},[e("span",{staticClass:"detail_title3",staticStyle:{float:"left"}},[t._v("随货文件：")]),t._v(" "),e("span",t._l(t.waybillinfo.Files,function(i,a){return e("div",[e("span",[t._v(t._s(i.CustomName))]),t._v(" "),e("a",{on:{click:function(e){return t.fileprint(i.Url)}}},[t._v("打印")])])}),0)]):t._e()])]),t._v(" "),e("Col",{staticStyle:{width:"20%",float:"left"}},[e("ul",{staticClass:"detail_li",staticStyle:{"margin-left":"20px"}},[e("li",{staticClass:"itemli"},[215!=t.waybillinfo.ExcuteStatus?e("span",{staticStyle:{float:"left","line-height":"27px"}},[t._v("发货情况拍照：")]):t._e(),t._v(" "),215!=t.waybillinfo.ExcuteStatus?e("div",[e("div",{staticClass:"setupload"},[e("Button",{attrs:{type:"primary",icon:"ios-cloud-upload"},on:{click:function(i){return t.SeletUpload("Waybill")}}},[t._v("传照")])],1),t._v(" "),e("div",{staticClass:"setupload"},[e("Button",{attrs:{type:"primary",icon:"md-reverse-camera"},on:{click:function(i){return t.fromphotos("Waybill")}}},[t._v("拍照")])],1)]):t._e()]),t._v(" "),2==t.waybillinfo.Type&&"215"==t.waybillinfo.ExcuteStatus||1==t.waybillinfo.Type&&"215"==t.waybillinfo.ExcuteStatus?e("li",{staticClass:"itemli",staticStyle:{"padding-top":"10px",clear:"both"}},[e("span",{staticStyle:{float:"left","line-height":"27px"}},[t._v("送 货 单 拍 照：")]),t._v(" "),e("div",{staticClass:"setupload"},[e("Button",{attrs:{type:"primary",size:"small",icon:"ios-cloud-upload"},on:{click:function(i){return t.SeletUpload("Clientimg")}}},[t._v("传照")])],1),t._v(" "),e("div",{staticClass:"setupload"},[e("Button",{attrs:{type:"primary",size:"small",icon:"md-reverse-camera"},on:{click:function(i){return t.fromphotos("Clientimg")}}},[t._v("拍照")])],1)]):t._e(),t._v(" "),e("li",{staticStyle:{clear:"both"}},[e("div",[e("p",[t._v("发货情况照片：")]),t._v(" "),t._l(t.waybillinfo.FeliverGoodFile,function(i,a){return e("div",[8010==i.Type?e("div",{staticClass:"Filesbox"},[e("span",{staticClass:"linkurlcolor",on:{click:function(e){return t.clackFilesProcess(i.Url)}}},[t._v(t._s(i.CustomName))]),t._v(" "),e("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){return t.handleRemove(i,"Waybill")}}})],1):t._e()])})],2),t._v(" "),2==t.waybillinfo.Type&&215==t.waybillinfo.ExcuteStatus||1==t.waybillinfo.Type&&215==t.waybillinfo.ExcuteStatus?e("div",[e("p",[t._v("送货单照片：")]),t._v(" "),t._l(t.waybillinfo.SendGoodsFile,function(i,a){return e("div",[8020==i.Type?e("div",{staticClass:"Filesbox"},[e("span",{staticClass:"linkurlcolor",on:{click:function(e){return t.clackFilesProcess(i.Url)}}},[t._v(t._s(i.CustomName))]),t._v(" "),e("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){return t.handleRemove(i,"Clientimg")}}})],1):t._e()])})],2):t._e()])])])],1):t._e()],1)]),t._v(" "),e("div",{staticClass:"itembox"},[e("p",{staticClass:"detailtitle"},[t._v("产品清单")]),t._v(" "),e("div",{staticStyle:{margin:"15px 0"}},[e("ButtonGroup",{staticStyle:{width:"28%"}},[e("Input",{staticStyle:{width:"80%",float:"left",position:"relative",left:"3px"},attrs:{placeholder:"输入型号或品牌",clearable:""},on:{"on-clear":t.search_pro},model:{value:t.searchkey,callback:function(i){t.searchkey="string"==typeof i?i.trim():i},expression:"searchkey"}}),t._v(" "),e("Button",{staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:t.search_pro}},[t._v("筛选")])],1),t._v(" "),e("Button",{attrs:{type:"primary"},on:{click:function(i){t.showprint=!0}}},[t._v("一键打印")]),t._v(" "),e("Button",{attrs:{type:"primary"},on:{click:function(i){return t.showBudget("meet","in",t.waybillinfo.Source)}}},[t._v("收入")]),t._v(" "),e("Button",{attrs:{type:"primary"},on:{click:function(i){return t.showBudget("meet","out",t.waybillinfo.Source)}}},[t._v("支出")]),t._v(" "),e("div",{staticStyle:{float:"right"}},[e("Button",{attrs:{type:"primary",shape:"circle",icon:"md-checkmark",disabled:1==t.isdisabled},on:{click:t.finish_btn}},[t._v("出库完成")]),t._v(" "),-1==t.warehouseID.indexOf("HK")?e("Button",{attrs:{disabled:1==t.isdisabled,type:"warning",shape:"circle",icon:"ios-alert-outline"},on:{click:t.Abnormalsettrue}},[t._v("出库异常")]):t._e()],1)],1),t._v(" "),e("div",[e("div",{staticClass:"detail_tablebox"},[e("Table",{attrs:{loading:t.loading,columns:t.listtitles,data:t.detailitem},on:{"on-selection-change":t.handleSelectRow},scopedSlots:t._u([{key:"PartNumber",fn:function(i){var e=i.row;return i.index,void 0!=e.Product?[t._v(t._s(e.Product.PartNumber))]:void 0}},{key:"Manufacturer",fn:function(i){var e=i.row;return i.index,void 0!=e.Product?[t._v(t._s(e.Product.Manufacturer))]:void 0}},{key:"OriginName",fn:function(i){var e=i.row;return i.index,[t._v(t._s(e.OriginName))]}},{key:"ShelveID",fn:function(i){var e=i.row;return i.index,[t._v(t._s(e.ShelveID))]}},{key:"NoticeQuantity",fn:function(i){var e=i.row;return i.index,[t._v(t._s(e.Quantity))]}},{key:"PickedQuantity",fn:function(i){var e=i.row;return i.index,[t._v(t._s(e.PickedQuantity))]}},{key:"LeftQuantity",fn:function(i){var e=i.row;return i.index,[t._v(t._s(e.LeftQuantity))]}},{key:"imglist",fn:function(i){var a=i.row;return i.index,t._l(a.Imagefiles,function(i,l){return e("p",{staticClass:"Filesbox"},[e("span",{staticClass:"linkurlcolor",on:{click:function(e){return t.clackFilesProcess(i.Url)}}},[t._v(t._s(i.CustomName))]),t._v(" "),1!=i._disabled?e("Icon",{ref:a.ID,refInFor:!0,attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){return t.handleRemove(i,a,l)}}}):t._e()],1)})}},{key:"operation",fn:function(i){var a=i.row;return i.index,[e("div",{staticClass:"setupload"},[e("Button",{attrs:{disabled:1==a._disabled,type:"primary",size:"small",icon:"ios-cloud-upload"},on:{click:function(i){return t.SeletUpload(a)}}},[t._v("传照")])],1),t._v(" "),e("div",{staticClass:"setupload"},[e("Button",{attrs:{type:"primary",disabled:1==a._disabled,icon:"md-reverse-camera",size:"small"},on:{click:function(i){return t.fromphotos(a)}}},[t._v("拍照")])],1)]}}],null,!0)}),t._v(" "),e("div",{staticStyle:{padding:"10px"}}),t._v(" "),e("div",{staticClass:"successbtn"},[e("Button",{attrs:{type:"primary",icon:"md-checkmark",disabled:1==t.isdisabled},on:{click:t.finish_btn}},[t._v("出库完成")]),t._v(" "),-1==t.warehouseID.indexOf("HK")?e("Button",{attrs:{type:"warning",icon:"ios-alert-outline",disabled:1==t.isdisabled},on:{click:t.Abnormalsettrue}},[t._v("出库异常")]):t._e()],1)],1)])]),t._v(" "),1==t.WarehousingMsg?e("div",[e("Modal",{attrs:{title:"确定出库"},on:{"on-ok":t.ok_Warehousing,"on-cancel":t.cancel_Warehousing},model:{value:t.WarehousingMsg,callback:function(i){t.WarehousingMsg=i},expression:"WarehousingMsg"}},[e("div",[e("span",[t._v("是否进行出库操作")])])])],1):t._e(),t._v(" "),e("Modal",{attrs:{title:"出库异常"},on:{"on-visible-change":t.errorstatue},model:{value:t.isAbnormal,callback:function(i){t.isAbnormal=i},expression:"isAbnormal"}},[e("div",{attrs:{slot:"close"},slot:"close"},[e("Icon",{staticStyle:{"font-size":"18px"},attrs:{type:"md-close",color:"rgb(33, 28, 28)"},on:{click:t.closeerror}})],1),t._v(" "),e("span",{staticStyle:{"line-height":"1",display:"block","padding-bottom":"10px"}},[e("em",{staticClass:"Mustfill"},[t._v("*")]),t._v("出库异常原因\n        ")]),t._v(" "),e("Input",{attrs:{type:"textarea",rows:2,placeholder:"备注"},model:{value:t.Summary,callback:function(i){t.Summary=i},expression:"Summary"}}),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{on:{click:t.closeerror}},[t._v("取消")]),t._v(" "),e("Button",{attrs:{type:"primary",disabled:1==t.isdisabled},on:{click:t.Abnormal_btn}},[t._v("确定")])],1)],1),t._v(" "),e("Modal",{attrs:{width:"55%",closable:!1,"mask-closable":!1,"footer-hide":!0},model:{value:t.Budgetdetail,callback:function(i){t.Budgetdetail=i},expression:"Budgetdetail"}},[e("div",{staticStyle:{position:"absolute",right:"20px","z-index":"99999",width:"30px"}},[e("Icon",{staticStyle:{float:"right","font-size":"30px","font-weight":"bold"},attrs:{type:"ios-close"},on:{click:t.closeBudget}})],1),t._v(" "),e("div",[e("router-view")],1)])],1),t._v(" "),e("Drawer",{attrs:{closable:!1,width:70},model:{value:t.historydata,callback:function(i){t.historydata=i},expression:"historydata"}},[e("Historys-dom",{key:t.historydetail.times})],1),t._v(" "),e("Drawer",{attrs:{width:70},model:{value:t.waybillprintbox,callback:function(i){t.waybillprintbox=i},expression:"waybillprintbox"}},[null!=t.waybuillform?e("div",[e("div",[e("p",{staticClass:"detailtitle"},[t._v("托寄物详细资料")]),t._v(" "),e("div",{staticClass:"waybillprintcss"},[e("ul",[e("li",{staticStyle:{"padding-bottom":"15px"}},[e("label",[t._v("\n                  运  单 号：\n                  "),e("Input",{staticStyle:{width:"80%"},attrs:{size:"large",placeholder:"发货件数"},model:{value:t.waybuillform.Code,callback:function(i){t.$set(t.waybuillform,"Code",i)},expression:"waybuillform.Code"}})],1),t._v(" "),e("br")]),t._v(" "),e("li",{staticStyle:{"padding-bottom":"15px"}},[e("label",[e("em",{staticClass:"Mustfill"},[t._v("*")]),t._v("件     数：\n                  "),e("Input",{staticStyle:{width:"80%"},attrs:{size:"large",placeholder:"发货件数"},model:{value:t.waybuillform.TotalParts,callback:function(i){t.$set(t.waybuillform,"TotalParts",i)},expression:"waybuillform.TotalParts"}})],1),t._v(" "),e("br")]),t._v(" "),e("li",{staticStyle:{"padding-bottom":"15px"}},[e("label",[t._v("\n                  重      量：\n                  "),e("Input",{staticStyle:{width:"80%"},attrs:{size:"large",placeholder:"请输入重量"},model:{value:t.waybuillform.TotalVolume,callback:function(i){t.$set(t.waybuillform,"TotalVolume",i)},expression:"waybuillform.TotalVolume"}})],1),t._v(" "),e("br")]),t._v(" "),e("li",[e("label",[t._v("\n                  体      积：\n                  "),e("Input",{staticStyle:{width:"80%"},attrs:{size:"large",placeholder:"请输入体积"},model:{value:t.waybuillform.TotalWeight,callback:function(i){t.$set(t.waybuillform,"TotalWeight",i)},expression:"waybuillform.TotalWeight"}})],1)])])]),t._v(" "),"HK01_WLT"!=t.UserWareHouse?e("div",[e("div",{staticClass:"waybillprintcss"},[e("label",{staticStyle:{"padding-top":"15px"}},[e("em",{staticClass:"Mustfill"},[t._v("*")]),t._v("承 运 商：\n                "),e("RadioGroup",{on:{"on-change":t.changwaytype},model:{value:t.modelstype,callback:function(i){t.modelstype=i},expression:"modelstype"}},t._l(t.ShipperCodesarr,function(i){return e("Radio",{key:i.Value,attrs:{label:i.Value}},[t._v(t._s(i.Name))])}),1)],1)]),t._v(" "),e("div",{staticStyle:{"padding-top":"15px"}},[e("label",[e("span",{staticStyle:{"font-size":"14px"}},[t._v("货运类型：")]),t._v(" "),e("div",{staticStyle:{display:"inline-block"}},[e("Select",{staticStyle:{width:"200px"},model:{value:t.IGetExpType,callback:function(i){t.IGetExpType=i},expression:"IGetExpType"}},t._l(t.GetExpTypesarr,function(i,a){return e("Option",{key:a,attrs:{value:i.Value}},[t._v(t._s(i.Name))])}),1)],1)])])]):e("div",{staticClass:"waybillprintcss"},[e("label",{staticStyle:{"padding-top":"15px"}},[e("em",{staticClass:"Mustfill"},[t._v("*")]),t._v("承 运 商：\n              "),e("RadioGroup",{model:{value:t.modelstypehk,callback:function(i){t.modelstypehk=i},expression:"modelstypehk"}},t._l(t.localCarrier,function(i,a){return e("Radio",{key:a,attrs:{value:i.ID,label:i.ID}},[t._v(t._s(i.Name))])}),1)],1)]),t._v(" "),e("div",{staticClass:"userfrom"},[e("div",{staticClass:"userinfodata",staticStyle:{float:"left"}},[e("h1",[t._v("寄件人信息")]),t._v(" "),e("div",[e("ul",[e("li",[e("label",[e("em",{staticClass:"Mustfill"},[t._v("*")]),t._v(" "),e("span",[t._v("寄  件  人：")]),t._v(" "),e("Input",{staticClass:"inputform",attrs:{placeholder:"请输入寄件人姓名",disabled:""},model:{value:t.waybuillform.Consignor.Contact,callback:function(i){t.$set(t.waybuillform.Consignor,"Contact",i)},expression:"waybuillform.Consignor.Contact"}})],1)]),t._v(" "),e("li",[e("label",[e("em",{staticClass:"Mustfill"},[t._v("*")]),t._v(" "),e("span",[t._v("电       话：")]),t._v(" "),e("Input",{staticClass:"inputform",attrs:{placeholder:"请输入寄件人电话",disabled:""},model:{value:t.waybuillform.Consignor.Phone,callback:function(i){t.$set(t.waybuillform.Consignor,"Phone",i)},expression:"waybuillform.Consignor.Phone"}})],1)]),t._v(" "),e("li",{staticStyle:{"padding-bottom":"10px"}},[e("label",[e("em",{staticClass:"Mustfill"},[t._v("*")]),t._v(" "),e("span",[t._v("详细地址：")]),t._v(" "),e("Input",{staticClass:"inputform",attrs:{type:"textarea",rows:3,autosize:{maxRows:3,minRows:3},placeholder:"请输入寄件人详细地址",disabled:""},model:{value:t.waybuillform.Consignor.Address,callback:function(i){t.$set(t.waybuillform.Consignor,"Address",i)},expression:"waybuillform.Consignor.Address"}})],1)])])])]),t._v(" "),e("div",{staticClass:"userinfodata",staticStyle:{float:"right"}},[e("h1",[t._v("收件人信息")]),t._v(" "),e("div",[e("div",[e("ul",[e("li",[e("label",[e("em",{staticClass:"Mustfill"},[t._v("*")]),t._v(" "),e("span",[t._v("收  件  人：")]),t._v(" "),e("Input",{staticClass:"inputform",attrs:{placeholder:"请输入收件人姓名",disabled:""},model:{value:t.waybuillform.Consignee.Company,callback:function(i){t.$set(t.waybuillform.Consignee,"Company",i)},expression:"waybuillform.Consignee.Company"}})],1)]),t._v(" "),e("li",[e("label",[e("em",{staticClass:"Mustfill"},[t._v("*")]),t._v(" "),e("span",[t._v("电        话：")]),t._v(" "),e("Input",{staticClass:"inputform",attrs:{placeholder:"请输入收件人电话",disabled:""},model:{value:t.waybuillform.Consignee.Phone,callback:function(i){t.$set(t.waybuillform.Consignee,"Phone",i)},expression:"waybuillform.Consignee.Phone"}})],1)]),t._v(" "),e("li",{staticStyle:{"padding-bottom":"10px"}},[e("label",[e("em",{staticClass:"Mustfill"},[t._v("*")]),t._v(" "),e("span",[t._v("详细地址 ：")]),t._v(" "),e("Input",{staticClass:"inputform",attrs:{type:"textarea",rows:3,autosize:{maxRows:3,minRows:3},placeholder:"请输入收件人详细地址",disabled:""},model:{value:t.waybuillform.Consignee.Address,callback:function(i){t.$set(t.waybuillform.Consignee,"Address",i)},expression:"waybuillform.Consignee.Address"}})],1)])])])])])]),t._v(" "),e("div",{staticClass:"printbtn"},[e("Button",{staticStyle:{"padding-right":"15px"},on:{click:t.closewaybull_btn}},[t._v("取消")]),t._v(" "),"HK01_WLT"!=t.UserWareHouse?e("Button",{attrs:{type:"primary"},on:{click:t.sumbit_print}},[t._v("保存并打印")]):e("Button",{attrs:{type:"primary"},on:{click:t.sumbit_print}},[t._v("保存")])],1)])]):t._e()]),t._v(" "),e("Modal",{attrs:{title:"打印"},on:{"on-ok":t.CgAllprint,"on-cancel":t.cancel},model:{value:t.showprint,callback:function(i){t.showprint=i},expression:"showprint"}},[e("CheckboxGroup",{model:{value:t.fruit,callback:function(i){t.fruit=i},expression:"fruit"}},[e("Checkbox",{attrs:{label:"出库单打印"}}),t._v(" "),e("Checkbox",{attrs:{label:"送货单打印"}}),t._v(" "),1==t.waybillinfo.Type&&null!=t.waybillinfo.Extype&&null!=t.waybillinfo.ExPayType?e("Checkbox",{attrs:{label:"运单打印"}}):t._e()],1)],1),t._v(" "),e("Modal",{attrs:{title:"新增承运商","mask-closable":!1},model:{value:t.showaddCarrier,callback:function(i){t.showaddCarrier=i},expression:"showaddCarrier"}},[e("div",{attrs:{slot:"close"},slot:"close"},[e("Icon",{staticStyle:{"font-size":"20px",color:"#999"},attrs:{type:"md-close"},on:{click:function(i){return t.ok_addCarrier(2)}}})],1),t._v(" "),e("Add-Carrier",{ref:"addCarrier",attrs:{Conveyingplace:t.Conveyingplace},on:{fatherMethodCarrier:t.fatherMethodCarrier,setdisabled:t.setdisabled}}),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{disabled:t.adddisabled},on:{click:function(i){return t.ok_addCarrier(2)}}},[t._v("取消")]),t._v(" "),e("Button",{attrs:{disabled:t.adddisabled,type:"primary"},on:{click:function(i){return t.ok_addCarrier(1)}}},[t._v("确认")])],1)],1),t._v(" "),e("Modal",{attrs:{title:"新增司机","mask-closable":!1},model:{value:t.showaddDriver,callback:function(i){t.showaddDriver=i},expression:"showaddDriver"}},[e("div",{attrs:{slot:"close"},slot:"close"},[e("Icon",{staticStyle:{"font-size":"20px",color:"#999"},attrs:{type:"md-close"},on:{click:function(i){return t.ok_addCarrier(4)}}})],1),t._v(" "),e("Add-Driver",{ref:"AddDriver",attrs:{EnterpriseName:t.waybillinfo.CarrierName},on:{setdisabled:t.setdisabled,ok_addDriver:t.ok_addDriver}}),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{disabled:t.adddisabled},on:{click:function(i){return t.ok_addCarrier(4)}}},[t._v("取消")]),t._v(" "),e("Button",{attrs:{disabled:t.adddisabled,type:"primary"},on:{click:function(i){return t.ok_addCarrier(3)}}},[t._v("确认")])],1)],1),t._v(" "),e("Modal",{attrs:{title:"新增车牌号","mask-closable":!1},model:{value:t.showaddCar,callback:function(i){t.showaddCar=i},expression:"showaddCar"}},[e("div",{attrs:{slot:"close"},slot:"close"},[e("Icon",{staticStyle:{"font-size":"20px",color:"#999"},attrs:{type:"md-close"},on:{click:function(i){return t.ok_addCarrier(6)}}})],1),t._v(" "),e("Add-Car",{ref:"addcar",attrs:{EnterpriseName:t.waybillinfo.CarrierName},on:{setdisabled:t.setdisabled,ok_addCar:t.ok_addCar}}),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{disabled:t.adddisabled},on:{click:function(i){return t.ok_addCarrier(6)}}},[t._v("取消")]),t._v(" "),e("Button",{attrs:{disabled:t.adddisabled,type:"primary"},on:{click:function(i){return t.ok_addCarrier(5)}}},[t._v("确认")])],1)],1),t._v(" "),e("Modal",{attrs:{"footer-hide":!0,"mask-closable":!1,width:"60"},model:{value:t.showlogged,callback:function(i){t.showlogged=i},expression:"showlogged"}},[e("div",{attrs:{slot:"close"},slot:"close"},[e("Icon",{staticStyle:{"font-size":"21px",color:"#cccccc","padding-top":"5px"},attrs:{type:"ios-close-circle-outline"}})],1),t._v(" "),e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticStyle:{"font-size":"18px",color:"#1aaff7"}},[t._v("日志管理")])]),t._v(" "),t.showlogged?e("logg-ed",{key:t.loggdetime,ref:"logged",attrs:{WaybillID:t.waybillinfo.ID}}):t._e()],1)],1)},staticRenderFns:[]};var k=e("VU/8")(D,I,!1,function(t){e("FdLW")},"data-v-9953df84",null);i.default=k.exports},FdLW:function(t,i){},YQ7m:function(t,i,e){t.exports={default:e("hM5s"),__esModule:!0}},cnZr:function(t,i,e){var a=e("kM2E"),l=e("L42u");a(a.G+a.B,{setImmediate:l.set,clearImmediate:l.clear})},hM5s:function(t,i,e){e("cnZr"),t.exports=e("FeBl").setImmediate}});
//# sourceMappingURL=6.fc0f93f63d80b888c53d.js.map