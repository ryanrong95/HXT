{"version":3,"sources":["webpack:///src/Pages/Transport/Customswindow.vue","webpack:///./src/Pages/Transport/Customswindow.vue?3ae2","webpack:///./src/Pages/Transport/Customswindow.vue"],"names":["Customswindow","name","data","_this","this","isDisabled","key","Status","loading","isdeclare","selectionarr","PageIndex","PageSize","Total","columns","type","width","align","title","slot","maxWidth","render","h","params","attrs","class","reportList","index","Items","map","item","Procut","Manufacturer","Declare","Quantity","reportList2","created","setnva","$route","id","getlist","setdisable","beforeRouteUpdate","to","from","next","mounted","computed","methods","_methods","$store","dispatch","href","_this2","console","log","First","Object","CgApi","then","res","obj","Data","forEach","_disabled","search_btn","ok_declare","_this3","BoxIds","i","length","push","TinyOrderID","AdminID","sessionStorage","getItem","val","$Message","error","content","msg","duration","success","cancel_declare","selection_chenge","selection","AskCustoms","closable","top","defineProperty_default","value","Transport_Customswindow","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","float","position","left","placeholder","clearable","on","on-clear","model","callback","$$v","trim","expression","click","icon","disabled","border","on-selection-change","scopedSlots","_u","fn","ref","row","_s","PackageType","EnterCode","_f","BoxingDate","Packer","TotalWeight","TotalBoxCode","_l","text-align","BoxCode","PartNumber","Condition","IsCIQ","color","_e","IsCCC","IsEmbargo","IsHighPrice","total","current","page-size","on-change","changepage","on-ok","on-cancel","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/50.0dfccfc4137ba1444478.js","sourcesContent":["<style>\r\n#Customsbox .title {\r\n  line-height: 24px;\r\n  border-left: 5px solid #2d8cf0;\r\n  font-weight: bold;\r\n  font-size: 16px;\r\n  text-indent: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n#Customsbox .subCol ul li {\r\n  margin: 0 -18px;\r\n  list-style: none;\r\n  text-align: center;\r\n  padding: 5px;\r\n  border-bottom: 1px solid #ccc;\r\n  overflow: hidden;\r\n  line-height: 45px;\r\n}\r\n#Customsbox .subCol ul li:last-child {\r\n  border-bottom: none;\r\n}\r\n#Customsbox .tablebox {\r\n  clear: both;\r\n  padding-top: 20px;\r\n}\r\n#Customsbox .pagebox{\r\n  text-align: right;\r\n  margin-top: 20px;\r\n}\r\n.Apply_btn{\r\n  float: right;\r\n}\r\n</style>\r\n<template>\r\n  <div class=\"Customswindow\" id=\"Customsbox\">\r\n    <p class=\"windowtitle title\">装箱清单</p>\r\n    <div>\r\n      <ButtonGroup style=\"width:328px\">\r\n        <Input\r\n          v-model.trim=\"key\"\r\n          placeholder=\"输入箱号/型号/品牌/小订单号/订单号\"\r\n          clearable\r\n          @on-clear=\"search_btn\"\r\n          style=\"width:80%;float:left;position: relative;left: 3px\"\r\n        />\r\n        <!-- <Button style=\"float:left\" @click=\"search_pro\" type=\"primary\">筛选</Button> -->\r\n        <Button style=\"float:left\" type=\"primary\" @click=\"search_btn\">筛选</Button>\r\n      </ButtonGroup>\r\n      <div class=\"Apply_btn\">\r\n        <!-- <Button type=\"text\" icon=\"ios-create-outline\" ghost @click=\"backpagetest\">跳转测试</Button> -->\r\n        <Button type=\"warning\" icon=\"ios-create-outline\" :disabled='isDisabled==true?true:false'  @click=\"AskCustoms\">报关申请</Button>\r\n      </div>\r\n    </div>\r\n    <div class=\"tablebox\">\r\n      <Table :columns=\"columns\" :data=\"reportList\" :loading=\"loading\" :border=\"reportList.length > 0\" @on-selection-change=\"selection_chenge\">\r\n        <template slot-scope=\"{ row, index }\" slot=\"orderID\">\r\n          {{row.TinyOrderID}}\r\n        </template>\r\n        <!-- <template slot-scope=\"{ row, index }\" slot=\"Boxcode\">\r\n           {{row.BoxCode}}\r\n        </template> -->\r\n        <template slot-scope=\"{ row, index }\" slot=\"PackageType\">\r\n           {{row.PackageType}}\r\n        </template>\r\n        <template slot-scope=\"{ row, index }\" slot=\"Entercode\">\r\n           {{row.EnterCode}}\r\n        </template>\r\n        <template slot-scope=\"{ row, index }\" slot=\"BoxingDate\">\r\n           {{row.BoxingDate|showDateexact}}\r\n        </template>\r\n        <template slot-scope=\"{ row, index }\" slot=\"Admin\">\r\n           {{row.Packer}}\r\n        </template>\r\n        <template slot-scope=\"{ row, index }\" slot=\"AVGWeight\">\r\n           {{row.TotalWeight}}\r\n        </template>\r\n        <template slot-scope=\"{ row, index }\" slot=\"total\">\r\n           {{row.TotalBoxCode}}\r\n        </template>\r\n        <template slot-scope=\"{ row, index }\" slot=\"boxcode\">\r\n          <div class=\"subCol\">\r\n            <ul>\r\n              <li v-for=\"item in row.Items\" style=\"text-align: left;\">\r\n                <span>{{item.Declare.BoxCode|showboxcode}}</span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </template>\r\n        <template slot-scope=\"{ row, index }\" slot=\"PartNumber\">\r\n          <div class=\"subCol\">\r\n            <ul>\r\n              <li v-for=\"item in row.Items\" style=\"text-align: left;\">\r\n                <span>{{item.Procut.PartNumber}}</span>\r\n                <span v-if=\"item.Condition!=null\">\r\n                      <Tag v-if=\"item.Condition.IsCIQ==true\" color=\"primary\">商检</Tag>\r\n                      <Tag v-if=\"item.Condition.IsCCC==true\" color=\"warning\">CCC</Tag>\r\n                      <Tag v-if=\"item.Condition.IsEmbargo==true\" color=\"error\">禁运</Tag>\r\n                      <Tag v-if=\"item.Condition.IsHighPrice==true\" color=\"magenta\">高价值</Tag>\r\n                      <!-- <Tag  color=\"primary\">商检</Tag>\r\n                      <Tag  color=\"warning\">CCC</Tag>\r\n                      <Tag  color=\"error\">禁运</Tag>\r\n                      <Tag  color=\"magenta\">高价值</Tag> -->\r\n                </span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </template>\r\n      </Table>\r\n    </div>\r\n    <div class=\"pagebox\">\r\n      <Page :total=\"Total\" :current='PageIndex' @on-change='changepage' :page-size='PageSize'/>\r\n    </div>\r\n    <!-- 申报窗口确认 开始 -->\r\n    <Modal v-model=\"isdeclare\" title=\"提示\" @on-ok=\"ok_declare\" @on-cancel=\"cancel_declare\">\r\n      <p>您是否确认申请报关？</p>\r\n    </Modal>\r\n    <!-- 申报窗口确认 结束-->\r\n  </div>\r\n</template>\r\n<script >\r\n//  库位，规格 是可选择的？（建议下拉选择可输入）\r\nimport $ from \"jquery\";\r\nimport {CgDelcarelist,CustomsApply} from \"../../api/CgApi\"\r\n// import {GetUsableShelves,boxproducts,BoxingSpecs,GetBoxes,,ChangeBoxCode} from \"../../api\";\r\nexport default {\r\n  name: \"Customswindow\",\r\n  data() {\r\n    return {\r\n      isDisabled:false,\r\n      key: \"\",\r\n      Status:20,\r\n      loading: true,\r\n      isdeclare: false, //申报弹窗\r\n      selectionarr: [], //全选与多选\r\n      PageIndex:1,\r\n      PageSize:6,\r\n      Total:0,\r\n      columns: [\r\n        {\r\n          type: 'selection',\r\n          width: 60,\r\n          align: 'center'\r\n        },\r\n        { title: \"小订单号\", slot: \"orderID\", align: \"center\",maxWidth:100 },\r\n        // { title: \"箱号\", slot: \"Boxcode\", align: \"center\",width:80},\r\n        { title: \"包装码\", slot: \"PackageType\", align: \"center\",maxWidth:80},\r\n        { title: \"入仓号\", slot: \"Entercode\", align: \"center\",maxWidth:80},\r\n        { title: \"装箱时间\", slot: \"BoxingDate\", align: \"center\",maxWidth:100},\r\n        { title: \"装箱人\", slot: \"Admin\", align: \"center\",maxWidth:80},\r\n        { title: \"总重量(Kg)\", slot: \"AVGWeight\", align: \"center\",maxWidth:80},\r\n        { title: \"总箱数\", slot: \"total\", align: \"center\",maxWidth:80},\r\n        {\r\n          title: \"箱号\",\r\n          slot: \"boxcode\",\r\n          align: \"center\",\r\n          width:180,\r\n          // render: (h, params) => {\r\n          //   return h(\r\n          //     \"div\",\r\n          //     {\r\n          //       attrs: {\r\n          //         class: \"subCol\"\r\n          //       }\r\n          //     },\r\n          //     [\r\n          //       h(\r\n          //         \"ul\",\r\n          //         this.reportList[params.index].Items.map(item => {\r\n          //           return h(\"li\", {}, item.Declare.BoxCode|showboxcode);\r\n          //         })\r\n          //       )\r\n          //     ]\r\n          //   );\r\n          // }\r\n        },\r\n        {\r\n          title: \"型号\",\r\n          slot: \"PartNumber\",\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"品牌\",\r\n          key: \"list\",\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            return h(\r\n              \"div\",\r\n              {\r\n                attrs: {\r\n                  class: \"subCol\"\r\n                }\r\n              },\r\n              [\r\n                h(\r\n                  \"ul\",\r\n                  this.reportList[params.index].Items.map(item => {\r\n                    return h(\"li\", {}, item.Procut.Manufacturer);\r\n                  })\r\n                )\r\n              ]\r\n            );\r\n          }\r\n        },\r\n        {\r\n          title: \"申报数量\",\r\n          key: \"list\",\r\n          align: \"center\",\r\n          width:100,\r\n          render: (h, params) => {\r\n            return h(\r\n              \"div\",\r\n              {\r\n                attrs: {\r\n                  class: \"subCol\"\r\n                }\r\n              },\r\n              [\r\n                h(\r\n                  \"ul\",\r\n                  this.reportList[params.index].Items.map(item => {\r\n                    return h(\"li\", {}, item.Declare.Quantity);\r\n                  })\r\n                )\r\n              ]\r\n            );\r\n          }\r\n        }\r\n      ],\r\n      reportList2:[],\r\n      reportList: []\r\n    };\r\n  },\r\n  created() {\r\n    this.setnva();\r\n    this.Status=this.$route.params.id;\r\n    this.getlist() \r\n    this.setdisable()\r\n  },\r\n   beforeRouteUpdate(to,from,next){\r\n       this.Status=to.params.id;\r\n       this.PageIndex=1,\r\n       this.key='',\r\n       this.setdisable()\r\n      this.getlist()\r\n        next()\r\n  },\r\n  mounted() {},\r\n  computed: {},\r\n  methods: {\r\n    setdisable(){\r\n      if(this.Status==20){\r\n        this.isDisabled=false;\r\n      }else{\r\n        this.isDisabled=true;\r\n      }\r\n      // this.PageIndex=1;\r\n    },\r\n    setnva() {\r\n      var cc = [\r\n        {\r\n          title: \"报关申报\",\r\n          href: \"/Transport/Customswindow\"\r\n        }\r\n      ];\r\n      this.$store.dispatch(\"setnvadata\", cc);\r\n    },\r\n    getlist(){  //获取报关数据\r\n    console.log(this.PageIndex)\r\n      var data={\r\n        PageIndex:this.PageIndex,//页码\r\n        PageSize:this.PageSize,//单页条数\r\n        Status:this.Status,//枚举请参考，目前我们只涉及20（未申报），30（已申报）\r\n        // Packer:sessionStorage.getItem(\"userID\"),//装箱人\r\n        First:this.key//型号、厂商、箱号，陈翰觉得这样做不是很合理？\r\n      }\r\n        CgDelcarelist(data).then(res=>{\r\n          console.log(res)\r\n          this.Total=res.obj.Total;\r\n          if(res.obj.Total>0){\r\n              this.reportList=res.obj.Data;\r\n            if(this.Status==30){\r\n              this.reportList.forEach(item => {\r\n                item._disabled =true;\r\n              })\r\n            }\r\n          }else{\r\n            this.reportList=[];            \r\n          }\r\n          this.loading=false;\r\n        })\r\n    },\r\n    search_btn(){ //根据信号品牌筛选\r\n      this.loading=true;\r\n      this.PageIndex=1;\r\n      this.getlist()\r\n    },\r\n    ok_declare() {\r\n      //确认申请报关\r\n       this.isDisabled=true;\r\n       var BoxIds=[]\r\n      for (var i = 0; i < this.selectionarr.length; i++) {\r\n        BoxIds.push(this.selectionarr[i].TinyOrderID);\r\n      }\r\n      console.log(BoxIds);\r\n      var data={\r\n        AdminID:sessionStorage.getItem(\"userID\"),\r\n        TinyOrderID:BoxIds\r\n      }\r\n      CustomsApply(data).then(res => {\r\n        this.isDisabled=false;\r\n        if (res.val == 400) {\r\n          this.$Message.error({\r\n            content:res.msg,\r\n            duration: 5\r\n          });\r\n        } else {\r\n          this.$Message.success(\"申报成功\");\r\n          this.getlist();\r\n        }\r\n      });\r\n    },\r\n    cancel_declare() {\r\n      //取消申请报关\r\n    },\r\n    selection_chenge(selection) {\r\n      this.selectionarr = selection;\r\n    },\r\n    AskCustoms() {\r\n      //报关申请\r\n      if (this.selectionarr.length <=0) {\r\n        this.$Message.error({\r\n          content: \"至少选择一个要申请报关的产品\",\r\n          duration: 1,\r\n          closable: true,\r\n          top: 50\r\n        });\r\n      } else {\r\n        this.isdeclare = true;\r\n      }\r\n    },\r\n    search_btn() {\r\n      //筛选\r\n      this.loading = true;\r\n      this.getlist();\r\n    },\r\n    clear_search() {\r\n      //清空筛选\r\n      this.loading = true;\r\n      this.getlist();\r\n    },\r\n    //分页\r\n    changepage(value){\r\n       this.loading = true;\r\n       this.PageIndex=value;\r\n       this.getlist()\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/Pages/Transport/Customswindow.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Customswindow\",attrs:{\"id\":\"Customsbox\"}},[_c('p',{staticClass:\"windowtitle title\"},[_vm._v(\"装箱清单\")]),_vm._v(\" \"),_c('div',[_c('ButtonGroup',{staticStyle:{\"width\":\"328px\"}},[_c('Input',{staticStyle:{\"width\":\"80%\",\"float\":\"left\",\"position\":\"relative\",\"left\":\"3px\"},attrs:{\"placeholder\":\"输入箱号/型号/品牌/小订单号/订单号\",\"clearable\":\"\"},on:{\"on-clear\":_vm.search_btn},model:{value:(_vm.key),callback:function ($$v) {_vm.key=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"key\"}}),_vm._v(\" \"),_c('Button',{staticStyle:{\"float\":\"left\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.search_btn}},[_vm._v(\"筛选\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"Apply_btn\"},[_c('Button',{attrs:{\"type\":\"warning\",\"icon\":\"ios-create-outline\",\"disabled\":_vm.isDisabled==true?true:false},on:{\"click\":_vm.AskCustoms}},[_vm._v(\"报关申请\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"tablebox\"},[_c('Table',{attrs:{\"columns\":_vm.columns,\"data\":_vm.reportList,\"loading\":_vm.loading,\"border\":_vm.reportList.length > 0},on:{\"on-selection-change\":_vm.selection_chenge},scopedSlots:_vm._u([{key:\"orderID\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(\"\\n        \"+_vm._s(row.TinyOrderID)+\"\\n      \")]}},{key:\"PackageType\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(\"\\n         \"+_vm._s(row.PackageType)+\"\\n      \")]}},{key:\"Entercode\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(\"\\n         \"+_vm._s(row.EnterCode)+\"\\n      \")]}},{key:\"BoxingDate\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(\"\\n         \"+_vm._s(_vm._f(\"showDateexact\")(row.BoxingDate))+\"\\n      \")]}},{key:\"Admin\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(\"\\n         \"+_vm._s(row.Packer)+\"\\n      \")]}},{key:\"AVGWeight\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(\"\\n         \"+_vm._s(row.TotalWeight)+\"\\n      \")]}},{key:\"total\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_vm._v(\"\\n         \"+_vm._s(row.TotalBoxCode)+\"\\n      \")]}},{key:\"boxcode\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('div',{staticClass:\"subCol\"},[_c('ul',_vm._l((row.Items),function(item){return _c('li',{staticStyle:{\"text-align\":\"left\"}},[_c('span',[_vm._v(_vm._s(_vm._f(\"showboxcode\")(item.Declare.BoxCode)))])])}),0)])]}},{key:\"PartNumber\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('div',{staticClass:\"subCol\"},[_c('ul',_vm._l((row.Items),function(item){return _c('li',{staticStyle:{\"text-align\":\"left\"}},[_c('span',[_vm._v(_vm._s(item.Procut.PartNumber))]),_vm._v(\" \"),(item.Condition!=null)?_c('span',[(item.Condition.IsCIQ==true)?_c('Tag',{attrs:{\"color\":\"primary\"}},[_vm._v(\"商检\")]):_vm._e(),_vm._v(\" \"),(item.Condition.IsCCC==true)?_c('Tag',{attrs:{\"color\":\"warning\"}},[_vm._v(\"CCC\")]):_vm._e(),_vm._v(\" \"),(item.Condition.IsEmbargo==true)?_c('Tag',{attrs:{\"color\":\"error\"}},[_vm._v(\"禁运\")]):_vm._e(),_vm._v(\" \"),(item.Condition.IsHighPrice==true)?_c('Tag',{attrs:{\"color\":\"magenta\"}},[_vm._v(\"高价值\")]):_vm._e()],1):_vm._e()])}),0)])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagebox\"},[_c('Page',{attrs:{\"total\":_vm.Total,\"current\":_vm.PageIndex,\"page-size\":_vm.PageSize},on:{\"on-change\":_vm.changepage}})],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"提示\"},on:{\"on-ok\":_vm.ok_declare,\"on-cancel\":_vm.cancel_declare},model:{value:(_vm.isdeclare),callback:function ($$v) {_vm.isdeclare=$$v},expression:\"isdeclare\"}},[_c('p',[_vm._v(\"您是否确认申请报关？\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2954030b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Pages/Transport/Customswindow.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2954030b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Customswindow.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Customswindow.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Customswindow.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2954030b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Customswindow.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Pages/Transport/Customswindow.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}