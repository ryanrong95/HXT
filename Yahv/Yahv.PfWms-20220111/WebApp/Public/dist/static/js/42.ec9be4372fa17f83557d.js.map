{"version":3,"sources":["webpack:///src/Pages/SzWarehousing/Szlist.vue","webpack:///./src/Pages/SzWarehousing/Szlist.vue?f923","webpack:///./src/Pages/SzWarehousing/Szlist.vue"],"names":["Szlist","data","carrierList","listTitle","type","width","align","title","key","slot","listData","loading","total","carrierName","searchData","warehouseID","sessionStorage","getItem","lotNumber","carrierID","PageIndex","PageSize","getDataInterval","computed","showTransportDetail","get","this","$store","state","common","TransportDetail","set","newValue","created","_this","Carriers","getListData","setInterval","mounted","setNav","methods","dispatch","href","actionBtn","LotNumber","$router","push","path","DrawerState","value","go","_this2","Object","api","then","res","obj","_this3","Data","Total","changePage","search","reset","beforeDestroy","clearInterval","SzWarehousing_Szlist","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","placeholder","model","callback","$$v","$set","trim","expression","_v","_l","item","ID","_s","Name","on","click","icon","size","$event","columns","scopedSlots","_u","fn","ref","row","index","_f","DepartDate","CarNumber1","CarNumber2","disabled","page-size","current","on-change","closable","on-visible-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/42.ec9be4372fa17f83557d.js","sourcesContent":["<style scoped>\r\n.input_width {\r\n  width: 200px;\r\n  margin-right: 15px;\r\n}\r\n.pages {\r\n  float: right;\r\n  padding-top: 20px;\r\n}\r\n.mb20 {\r\n  margin-bottom: 20px;\r\n}\r\n</style>\r\n<template>\r\n  <div>\r\n    <!-- 搜索条件 -->\r\n    <div class=\"mb20\">\r\n      <Input v-model.trim=\"searchData.lotNumber\" placeholder=\"运输批次号\" class=\"input_width\" />\r\n      <Select v-model.trim=\"searchData.carrierID\" class=\"input_width\" placeholder=\"承运商\">\r\n        <Option v-for=\"item in carrierList\" :value=\"item.ID\" :key=\"item.ID\">{{ item.Name }}</Option>\r\n      </Select>\r\n      <Button type=\"primary\" @click=\"search\">查询</Button>\r\n      <Button type=\"error\" @click=\"reset\">重置</Button>\r\n    </div>\r\n    <!-- 运输列表 -->\r\n    <Button type=\"primary\" icon=\"md-create\" size=\"small\" @click=\"actionBtn('54545')\">详情</Button>\r\n    <div>\r\n      <Table :columns=\"listTitle\" :data=\"listData\" :loading=\"loading\">\r\n        <template slot-scope=\"{ row, index }\" slot=\"DepartDate\">\r\n          <p>{{row.DepartDate|showDate}}</p>\r\n        </template>\r\n        <template slot-scope=\"{ row, index }\" slot=\"CarNumber\">\r\n          <span>{{row.CarNumber1}}</span> &nbsp;&nbsp;&nbsp;\r\n          <span>{{row.CarNumber2}}</span>\r\n        </template>\r\n        <template slot-scope=\"{ row, index }\" slot=\"action\">\r\n          <Button type=\"primary\" icon=\"md-create\" size=\"small\" @click=\"actionBtn(row.LotNumber)\">详情</Button>\r\n          <Button disabled icon=\"md-checkmark-circle\" size=\"small\">完成</Button>\r\n        </template>\r\n      </Table>\r\n    </div>\r\n    <div class=\"pages\">\r\n      <Page\r\n        :total=\"total\"\r\n        :page-size=\"searchData.PageSize\"\r\n        :current=\"searchData.PageIndex\"\r\n        @on-change=\"changePage\"\r\n      />\r\n    </div>\r\n\r\n    <Drawer\r\n      :closable=\"true\"\r\n      v-model=\"showTransportDetail\"\r\n      @on-visible-change=\"DrawerState\"\r\n      :width=\"70\"\r\n    >\r\n      <router-view></router-view>\r\n    </Drawer>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { CustomTransport, Carriers } from '../../api'\r\nexport default {\r\n  data() {\r\n    return {\r\n      carrierList: [],\r\n      listTitle: [\r\n        {\r\n          type: 'index',\r\n          width: 60,\r\n          align: 'center'\r\n        },\r\n        {\r\n          title: '运输批次号',\r\n          key: 'LotNumber'\r\n        },\r\n        {\r\n          title: '承运商',\r\n          key: 'CarrierName'\r\n        },\r\n        {\r\n          title: '车牌号',\r\n          slot: 'CarNumber'\r\n        },\r\n        {\r\n          title: '运输时间',\r\n          slot: 'DepartDate'\r\n        },\r\n        {\r\n          title: '司机姓名',\r\n          key: 'Driver'\r\n        },\r\n        {\r\n          title: '运输类型',\r\n          key: 'WaybillTypeDes'\r\n        },\r\n        {\r\n          title: '总箱数',\r\n          key: 'BoxNumber'\r\n        },\r\n        {\r\n          title: '已上架箱数',\r\n          key: 'UpperNumber'\r\n        },\r\n        {\r\n          title: '操作',\r\n          slot: 'action',\r\n          width: 200,\r\n          align: 'center'\r\n        }\r\n      ],\r\n      listData: [\r\n        // {\r\n        //   LotNumber: '1100258973020',\r\n        //   CarrierName: '运达国际物流有限公司',\r\n        //   CarNumber1: 'WD 4364',\r\n        //   DepartDate: '2019-01-02',\r\n        //   Driver: '张三',\r\n        //   WaybillTypeDes: '普通',\r\n        //   BoxNumber: '10',\r\n        //   shelvesNumber: '9'\r\n        // }\r\n      ],\r\n      loading: false, //列表是否在加载中\r\n      total: 0, //列表总行数\r\n      carrierName: '', //\r\n      searchData: {\r\n        type: '310', // 类型\r\n        warehouseID: sessionStorage.getItem('UserWareHouse'), //库房编号\r\n        lotNumber: '', //运输批次号\r\n        carrierID: '', //承运商ID\r\n        PageIndex: 1, //当前页面\r\n        PageSize: 10 //当前页数\r\n      },\r\n      getDataInterval:null\r\n    }\r\n  },\r\n  computed: {\r\n    showTransportDetail: {\r\n      get: function() {\r\n        return this.$store.state.common.TransportDetail\r\n      },\r\n      set: function(newValue) {}\r\n    }\r\n  },\r\n  created() {\r\n    this.Carriers()\r\n    this.loading = true\r\n    this.getListData()\r\n    this.getDataInterval = setInterval(() => {\r\n      this.getListData()\r\n    }, 6000)\r\n  },\r\n  mounted() {\r\n    this.setNav()\r\n  },\r\n  methods: {\r\n    setNav() {\r\n      var cc = [\r\n        {\r\n          title: '待入库',\r\n          href: '/TransportList'\r\n        }\r\n      ]\r\n      this.$store.dispatch('setnvadata', cc)\r\n    },\r\n    actionBtn(LotNumber) {\r\n      //点击进入处理页面\r\n      this.$store.dispatch('setTransportDetail', true)\r\n      this.$router.push({ path: '/Szlist/SzDetail/' + LotNumber })\r\n    },\r\n    DrawerState(value) {\r\n      if (value == true) {\r\n        this.$store.dispatch('setTransportDetail', true)\r\n      } else {\r\n        this.$store.dispatch('setTransportDetail', false)\r\n        this.$router.go(-1) //控制路由跳回原来页面\r\n      }\r\n    },\r\n    Carriers() {\r\n      //承运商列比奥\r\n      Carriers().then(res => {\r\n        this.carrierList = res.obj\r\n      })\r\n    },\r\n    getListData() {\r\n      CustomTransport(this.searchData).then(res => {\r\n        this.listData = res.obj.Data\r\n        this.total = res.obj.Total\r\n        this.loading = false\r\n      })\r\n    },\r\n    changePage(value) {\r\n      this.searchData.PageIndex = value\r\n      this.loading = true\r\n      this.getListData()\r\n    },\r\n    search() {\r\n      //搜索数据请求接口\r\n      this.searchData.PageIndex = 1\r\n      this.loading = true\r\n      this.getListData()\r\n    },\r\n    reset() {\r\n      //重置数据\r\n      this.searchData.lotNumber = ''\r\n      this.searchData.carrierID = ''\r\n      this.searchData.PageIndex = 1\r\n      this.loading = true\r\n      this.getListData()\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    clearInterval(this.getDataInterval)\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/Pages/SzWarehousing/Szlist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"mb20\"},[_c('Input',{staticClass:\"input_width\",attrs:{\"placeholder\":\"运输批次号\"},model:{value:(_vm.searchData.lotNumber),callback:function ($$v) {_vm.$set(_vm.searchData, \"lotNumber\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchData.lotNumber\"}}),_vm._v(\" \"),_c('Select',{staticClass:\"input_width\",attrs:{\"placeholder\":\"承运商\"},model:{value:(_vm.searchData.carrierID),callback:function ($$v) {_vm.$set(_vm.searchData, \"carrierID\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchData.carrierID\"}},_vm._l((_vm.carrierList),function(item){return _c('Option',{key:item.ID,attrs:{\"value\":item.ID}},[_vm._v(_vm._s(item.Name))])}),1),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.search}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"error\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-create\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.actionBtn('54545')}}},[_vm._v(\"详情\")]),_vm._v(\" \"),_c('div',[_c('Table',{attrs:{\"columns\":_vm.listTitle,\"data\":_vm.listData,\"loading\":_vm.loading},scopedSlots:_vm._u([{key:\"DepartDate\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('p',[_vm._v(_vm._s(_vm._f(\"showDate\")(row.DepartDate)))])]}},{key:\"CarNumber\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('span',[_vm._v(_vm._s(row.CarNumber1))]),_vm._v(\"    \\n        \"),_c('span',[_vm._v(_vm._s(row.CarNumber2))])]}},{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-create\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.actionBtn(row.LotNumber)}}},[_vm._v(\"详情\")]),_vm._v(\" \"),_c('Button',{attrs:{\"disabled\":\"\",\"icon\":\"md-checkmark-circle\",\"size\":\"small\"}},[_vm._v(\"完成\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"pages\"},[_c('Page',{attrs:{\"total\":_vm.total,\"page-size\":_vm.searchData.PageSize,\"current\":_vm.searchData.PageIndex},on:{\"on-change\":_vm.changePage}})],1),_vm._v(\" \"),_c('Drawer',{attrs:{\"closable\":true,\"width\":70},on:{\"on-visible-change\":_vm.DrawerState},model:{value:(_vm.showTransportDetail),callback:function ($$v) {_vm.showTransportDetail=$$v},expression:\"showTransportDetail\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-46876898\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Pages/SzWarehousing/Szlist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-46876898\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Szlist.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Szlist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Szlist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-46876898\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Szlist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-46876898\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Pages/SzWarehousing/Szlist.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}