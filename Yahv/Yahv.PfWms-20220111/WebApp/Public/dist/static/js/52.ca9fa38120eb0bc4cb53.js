webpackJsonp([52],{XEQY:function(e,t){},d89F:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("TXMN");var n=a("7t+N"),s=a.n(n),o=a("gyMJ"),i={name:"Customswindow",data:function(){var e=this;return{loading:!1,isdeclare:!1,isWarehousing:!1,ShelveID:"",ShelveArr:[],selectionarr:[],fruit:[],detail_title:[{type:"selection",width:50,align:"center"},{title:"#",slot:"indexs",align:"left",width:30},{title:"箱号",slot:"boxnumber",align:"center"},{title:"库位",key:"Storehouse",align:"center",width:135,render:function(t,a){var n=e,s=!1;return s=500==a.row.Status,t("div"),[t("Select",{props:{value:a.row.ShelveID,transfer:!0,disabled:s},on:{"on-change":function(e){a.row.ShelveID=e,n.detail_list[a.index]=a.row}}},n.ShelveArr.map(function(e){return t("Option",{props:{value:e.ID}},e.ID)}))]}},{title:"状态",slot:"state",align:"center"},{title:"规格",slot:"specs",align:"center"},{title:"总毛重(kg)",key:"TotalWeight",align:"center",render:function(t,a){var n=e,s=!1;return s=500==a.row.Status,t("Input",{props:{value:a.row.TotalWeight,disabled:s},on:{"on-change":function(e){a.row.TotalWeight=e.target.value,n.detail_list[a.index]=a.row}}})}},{title:"毛重(kg)",slot:"gross",align:"center"},{title:"客户名称",slot:"ClientID",align:"center",width:180},{title:"型号",slot:"PartNumber",align:"left",width:180},{title:"品牌",slot:"Manufacturer",align:"left",width:150},{title:"批次",slot:"Datacode",align:"center"},{title:"数量",slot:"Quantity",align:"center"},{title:"原产地",slot:"place",align:"center"},{title:"操作",slot:"action",align:"center"}],detail_list:[],cityList:[{value:"New York",label:"New York"},{value:"London",label:"London"},{value:"Sydney",label:"Sydney"},{value:"Ottawa",label:"Ottawa"},{value:"Paris",label:"Paris"},{value:"Canberra",label:"Canberra"}],Isall:!1,Isstatus:!1,whid:sessionStorage.getItem("UserWareHouse"),key:"",Isshowbox:!1,boxSpecsarr:[],newboxcode:"",oldboxcode:"",boxingarr:[],columns1:[{type:"selection",width:50,align:"center"},{title:"订单号",key:"name",align:"center",width:90},{title:"申报状态",key:"age",align:"center",width:80},{title:"装箱时间",key:"age",align:"center",width:80},{title:"装箱人",key:"age",align:"center",width:80},{title:"客户编号",key:"age",align:"center",width:80},{slot:"Address",title:"address",align:"left"}],columns2:[{title:"箱号",key:"name",width:80},{title:"",slot:"test1"}],columns3:[{title:"毛重",key:"name",width:110},{title:"型号",slot:"PartNumber",width:170},{title:"品牌",key:"age",width:140},{title:"批次",key:"age",width:80},{title:"数量",key:"age",width:70},{title:"原产地",key:"age",minWidth:110},{title:"操作",slot:"Proaction",minWidth:90}],data1:[{name:"John Brown",age:18,address:"New York No. 1 Lake Park",date:"2016-10-03"},{name:"Jim Green",age:24,address:"London No. 1 Lake Park",date:"2016-10-01"},{name:"Joe Black",age:30,address:"Sydney No. 1 Lake Park",date:"2016-10-02"},{name:"Jon Snow",age:26,address:"Ottawa No. 2 Lake Park",date:"2016-10-04"}],new_datas:[{name:"订单1",age:18,address:"New York No. 1 Lake Park",date:"2016-10-03",boxdata:[{name:"John Brown",ShelveID:"HK01-F01-0101",address:"New York No. 1 Lake Park",date:"2016-10-03",productdata:[{name:"John Brown",age:18,address:"New York No. 1 Lake Park",date:"2016-10-03"},{name:"John Brown",age:18,address:"New York No. 1 Lake Park",date:"2016-10-03"},{name:"John Brown",age:18,address:"New York No. 1 Lake Park",date:"2016-10-03"}]},{name:"John Brown",ShelveID:"HK01-F01-0102",address:"New York No. 1 Lake Park",date:"2016-10-03",productdata:[{name:"John Brown",age:18,address:"New York No. 1 Lake Park",date:"2016-10-03"}]},{name:"John Brown",ShelveID:"HK01-F01-0102",address:"New York No. 1 Lake Park",date:"2016-10-03",productdata:[{name:"John Brown",age:18,address:"New York No. 1 Lake Park",date:"2016-10-03"},{name:"John Brown",age:18,address:"New York No. 1 Lake Park",date:"2016-10-03"}]}]},{name:"订单二",age:18,address:"New York No. 1 Lake Park",date:"2016-10-03",boxdata:[{name:"John Brown",ShelveID:"HK01-F01-0101",address:"New York No. 1 Lake Park",date:"2016-10-03",productdata:[{name:"John Brown",age:18,address:"New York No. 1 Lake Park",date:"2016-10-03"},{name:"John Brown",age:18,address:"New York No. 1 Lake Park",date:"2016-10-03"},{name:"John Brown",age:18,address:"New York No. 1 Lake Park",date:"2016-10-03"}]},{name:"John Brown",ShelveID:"HK01-F01-0102",address:"New York No. 1 Lake Park",date:"2016-10-03",productdata:[{name:"John Brown",age:18,address:"New York No. 1 Lake Park",date:"2016-10-03"}]}]}]}},created:function(){this.setnva()},mounted:function(){console.log(s()(".producttable  table tr:eq(0) td:eq(0)").width()),s()("#span1").width(s()(".ordertable table:eq(0) tr:eq(0)").find("td:eq(0)").width()+1),s()("#span2").width(s()(".ordertable table:eq(0) tr:eq(0)").find("td:eq(1)").width()+1),s()("#span3").width(s()(".ordertable table:eq(0) tr:eq(0)").find("td:eq(2)").width()+1),s()("#span4").width(s()(".ordertable table:eq(0) tr:eq(0)").find("td:eq(3)").width()+1),s()("#span5").width(s()(".ordertable table:eq(0) tr:eq(0)").find("td:eq(4)").width()+1),s()("#span6").width(s()(".ordertable table:eq(0) tr:eq(0)").find("td:eq(5)").width()+1),s()("#span7").width(s()(".boxtable table tr:eq(0)").find("td:eq(0)").width()+1),s()("#span11").width(s()(".producttable table tr:eq(0)").find("td:eq(0)").width()+1),s()("#span12").width(s()(".producttable table tr:eq(0)").find("td:eq(1)").width()+1),s()("#span13").width(s()(".producttable table tr:eq(0)").find("td:eq(2)").width()+1),s()("#span14").width(s()(".producttable table tr:eq(0)").find("td:eq(3)").width()+1),s()("#span15").width(s()(".producttable table tr:eq(0)").find("td:eq(4)").width()+1),s()("#span16").width(130)},computed:{all:function(){return 1==this.Isall?1:0},status:function(){return 1==this.Isstatus?500:0}},methods:{setnva:function(){this.$store.dispatch("setnvadata",[{title:"申报",href:"/Transport/Customswindow"}])},backpagetest:function(){this.$store.dispatch("setshowdetail",!1),this.$router.push({path:"/Cgenter"})},testselect:function(e,t,a){console.log(e),console.log(t),console.log(a)},getboxarr:function(){var e=this,t=sessionStorage.getItem("UserWareHouse");Object(o.l)(t,"200").then(function(t){e.boxingarr=t})},getBoxingSpecs:function(){var e=this;Object(o.c)().then(function(t){console.log(t),e.boxSpecsarr=t.obj})},getlist:function(){var e=this,t={whid:this.whid,all:this.all,status:this.status,key:this.key};Object(o.Q)(t).then(function(t){e.detail_list=t.Data,e.loading=!1})},ok_declare:function(){for(var e=this,t={WHID:sessionStorage.getItem("UserWareHouse"),BoxIds:[]},a=0;a<this.selectionarr.length;a++)t.BoxIds.push(this.selectionarr[a].ID);console.log(t),Object(o.g)(t).then(function(t){400==t.val?e.$Message.error("申报失败，请重新操作"):(e.$Message.success("申报成功"),e.getlist())}),this.$refs.selection.selectAll(!1)},cancel_declare:function(){},Warehousing_btn:function(){this.selectionarr.length<=0?this.$Message.error({content:"至少选择一个要入库的产品",duration:1,closable:!0,top:50}):this.isWarehousing=!0},ok_Shelve:function(){for(var e=this.selectionarr,t=(this.detail_list,0);t<this.detail_list.length;t++)for(var a=0;a<e.length;a++)this.detail_list[t].ID==e[a].ID&&(this.detail_list[t].ShelveID=this.ShelveID);this.selectionarr=[],this.$refs.selection.selectAll(!1)},cancel_Shelve:function(){this.ShelveID=""},Shelvestate:function(e){1==e?this.isWarehousing=!0:(this.isWarehousing=!1,this.ShelveID="")},selection_chenge:function(e){this.selectionarr=e},GetUsableShelves:function(){var e=this,t=sessionStorage.getItem("UserWareHouse");Object(o.w)(t).then(function(t){e.ShelveArr=t.obj})},AskCustoms:function(){this.selectionarr.length<=0?this.$Message.error({content:"至少选择一个要申请报关的产品",duration:1,closable:!0,top:50}):this.isdeclare=!0},changestatus:function(){this.loading=!0,this.getlist()},changeall:function(e){this.loading=!0,this.getlist()},search_btn:function(){this.loading=!0,this.getlist()},clear_search:function(){this.loading=!0,this.getlist()},changegross:function(){},chengbox:function(e){this.Isshowbox=!0,this.oldboxcode=e,this.newboxcode=e},cancel:function(){this.Isshowbox=!1,this.oldboxcode="",this.newboxcode=""},ok_changebox:function(){var e=this,t={WHID:sessionStorage.getItem("UserWareHouse"),oldCode:this.oldboxcode,newCode:this.newboxcode};console.log(t),Object(o.e)(t).then(function(t){console.log(t),1==t.success?(e.$Message.success("箱号变更成功"),e.getlist()):e.$Message.error("箱号变更失败")})},printboxcode:function(){this.$Message.warning("该服务暂未开通")}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Customswindow",attrs:{id:"Customsbox"}},[a("p",{staticClass:"windowtitle title"},[e._v("装箱清单重构")]),e._v(" "),a("div",[a("ButtonGroup",{staticStyle:{width:"28%"}},[a("Input",{staticStyle:{width:"80%",float:"left",position:"relative",left:"3px"},attrs:{placeholder:"输入箱号/型号/品牌",clearable:""},on:{"on-clear":e.clear_search},model:{value:e.key,callback:function(t){e.key="string"==typeof t?t.trim():t},expression:"key"}}),e._v(" "),a("Button",{staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:e.search_btn}},[e._v("筛选")])],1),e._v(" "),a("Button",{attrs:{type:"primary"},on:{click:e.printboxcode}},[e._v("箱签打印")]),e._v(" "),a("Button",{attrs:{type:"primary"},on:{click:e.Warehousing_btn}},[e._v("一键入库")]),e._v(" "),a("div",{staticClass:"Apply_btn"},[a("Button",{attrs:{type:"text",icon:"ios-create-outline",ghost:""},on:{click:e.AskCustoms}},[e._v("报关申请")])],1)],1),e._v(" "),a("div",{staticStyle:{margin:"10px 0",clear:"both"}},[a("Checkbox",{on:{"on-change":e.changeall},model:{value:e.Isall,callback:function(t){e.Isall=t},expression:"Isall"}},[e._v("显示所有人")])],1),e._v(" "),a("div",[e._m(0),e._v(" "),a("Table",{staticClass:"ordertable",attrs:{columns:e.columns1,data:e.new_datas,"show-header":!1,border:""},scopedSlots:e._u([{key:"Address",fn:function(t){var n=t.row;return t.index,[a("Table",{staticClass:"boxtable",attrs:{columns:e.columns2,data:n.boxdata,"show-header":!1},scopedSlots:e._u([{key:"ShelveID",fn:function(t){var n=t.row,s=t.index;return[a("Select",{staticStyle:{padding:"0px 3px"},attrs:{filterable:"",transfer:""},on:{"on-change":function(t){return e.testselect(t,s,n)}},model:{value:n.ShelveID,callback:function(t){e.$set(n,"ShelveID",t)},expression:"row.ShelveID"}},e._l(e.ShelveArr,function(t){return a("Option",{key:t.ID,attrs:{value:t.ID}},[e._v(e._s(t.ID))])}),1)]}},{key:"BoxSpecs",fn:function(t){var n=t.row;return t.index,[a("Select",{staticStyle:{padding:"0px 3px"},attrs:{transfer:""},model:{value:n.BoxingSpecs,callback:function(t){e.$set(n,"BoxingSpecs",t)},expression:"row.BoxingSpecs"}},e._l(e.boxSpecsarr,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.name))])}),1)]}},{key:"test1",fn:function(t){var n=t.row;return t.index,[a("Table",{staticClass:"producttable",attrs:{columns:e.columns3,data:n.productdata,"show-header":!1},scopedSlots:e._u([{key:"PartNumber",fn:function(t){return t.row,t.index,[a("div",{staticClass:"tagbox"},[a("div",[e._v("AD685/RER_FD/508-TREGDG")]),e._v(" "),a("ul",[a("li",[a("Tag",{attrs:{color:"primary"}},[e._v("primary")])],1)])])]}},{key:"Proaction",fn:function(t){return t.row,t.index,[a("Button",{attrs:{type:"primary",size:"small"}},[e._v("变更箱号")])]}}],null,!0)})]}}],null,!0)})]}}])})],1),e._v(" "),a("div"),e._v(" "),a("Modal",{attrs:{title:"提示"},on:{"on-ok":e.ok_declare,"on-cancel":e.cancel_declare},model:{value:e.isdeclare,callback:function(t){e.isdeclare=t},expression:"isdeclare"}},[a("p",[e._v("您是否确认申请报关？")])]),e._v(" "),a("Modal",{attrs:{title:"请选择库位"},on:{"on-ok":e.ok_Shelve,"on-cancel":e.cancel_Shelve,"on-visible-change":e.Shelvestate},model:{value:e.isWarehousing,callback:function(t){e.isWarehousing=t},expression:"isWarehousing"}},[a("div",[a("Select",{attrs:{filterable:""},model:{value:e.ShelveID,callback:function(t){e.ShelveID=t},expression:"ShelveID"}},e._l(e.ShelveArr,function(t){return a("Option",{key:t.ID,attrs:{value:t.ID}},[e._v(e._s(t.ID))])}),1)],1)]),e._v(" "),a("Modal",{attrs:{title:"选择箱号"},on:{"on-ok":e.ok_changebox,"on-cancel":e.cancel},model:{value:e.Isshowbox,callback:function(t){e.Isshowbox=t},expression:"Isshowbox"}},[a("Select",{model:{value:e.newboxcode,callback:function(t){e.newboxcode=t},expression:"newboxcode"}},e._l(e.boxingarr,function(t){return a("Option",{key:t.ID,attrs:{value:t.Code}},[e._v(e._s(t.Code))])}),1)],1)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tabletitle"},[a("span",{staticStyle:{"text-align":"center"},attrs:{id:"span1"}},[e._v("#")]),e._v(" "),a("span",{staticStyle:{"text-align":"center"},attrs:{id:"span2"}},[e._v("订单号")]),e._v(" "),a("span",{staticStyle:{"text-align":"center"},attrs:{id:"span3"}},[e._v("申报状态")]),e._v(" "),a("span",{staticStyle:{"text-align":"center"},attrs:{id:"span4"}},[e._v("装箱时间")]),e._v(" "),a("span",{staticStyle:{"text-align":"center"},attrs:{id:"span5"}},[e._v("装箱人")]),e._v(" "),a("span",{staticStyle:{"text-align":"center"},attrs:{id:"span6"}},[e._v("客户编号")]),e._v(" "),a("span",{staticStyle:{"text-align":"center"},attrs:{id:"span7"}},[e._v("箱号")]),e._v(" "),a("span",{staticStyle:{"text-align":"center"},attrs:{id:"span11"}},[e._v("毛重")]),e._v(" "),a("span",{staticStyle:{"text-align":"center"},attrs:{id:"span12"}},[e._v("型号")]),e._v(" "),a("span",{staticStyle:{"text-align":"center"},attrs:{id:"span13"}},[e._v("品牌")]),e._v(" "),a("span",{staticStyle:{"text-align":"center"},attrs:{id:"span14"}},[e._v("批次")]),e._v(" "),a("span",{staticStyle:{"text-align":"center"},attrs:{id:"span15"}},[e._v("数量")]),e._v(" "),a("span",{staticStyle:{"text-align":"center"},attrs:{id:"span16"}},[e._v("原产地")]),e._v(" "),a("span",{staticStyle:{"text-align":"center","padding-left":"11px"},attrs:{id:"span16"}},[e._v("操作")])])}]};var l=a("VU/8")(i,r,!1,function(e){a("XEQY")},"data-v-0e90ba8c",null);t.default=l.exports}});
//# sourceMappingURL=52.ca9fa38120eb0bc4cb53.js.map