webpackJsonp([42],{BuGk:function(t,e){},NCgN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("gyMJ"),i={data:function(){return{carrierList:[],listTitle:[{type:"index",width:60,align:"center"},{title:"运输批次号",key:"LotNumber"},{title:"承运商",key:"CarrierName"},{title:"车牌号",slot:"CarNumber"},{title:"运输时间",slot:"DepartDate"},{title:"司机姓名",key:"Driver"},{title:"运输类型",key:"WaybillTypeDes"},{title:"总箱数",key:"BoxNumber"},{title:"已上架箱数",key:"UpperNumber"},{title:"操作",slot:"action",width:200,align:"center"}],listData:[],loading:!1,total:0,carrierName:"",searchData:{type:"310",warehouseID:sessionStorage.getItem("UserWareHouse"),lotNumber:"",carrierID:"",PageIndex:1,PageSize:10},getDataInterval:null}},computed:{showTransportDetail:{get:function(){return this.$store.state.common.TransportDetail},set:function(t){}}},created:function(){var t=this;this.Carriers(),this.loading=!0,this.getListData(),this.getDataInterval=setInterval(function(){t.getListData()},6e3)},mounted:function(){this.setNav()},methods:{setNav:function(){this.$store.dispatch("setnvadata",[{title:"待入库",href:"/TransportList"}])},actionBtn:function(t){this.$store.dispatch("setTransportDetail",!0),this.$router.push({path:"/Szlist/SzDetail/"+t})},DrawerState:function(t){1==t?this.$store.dispatch("setTransportDetail",!0):(this.$store.dispatch("setTransportDetail",!1),this.$router.go(-1))},Carriers:function(){var t=this;Object(r.d)().then(function(e){t.carrierList=e.obj})},getListData:function(){var t=this;Object(r.f)(this.searchData).then(function(e){t.listData=e.obj.Data,t.total=e.obj.Total,t.loading=!1})},changePage:function(t){this.searchData.PageIndex=t,this.loading=!0,this.getListData()},search:function(){this.searchData.PageIndex=1,this.loading=!0,this.getListData()},reset:function(){this.searchData.lotNumber="",this.searchData.carrierID="",this.searchData.PageIndex=1,this.loading=!0,this.getListData()}},beforeDestroy:function(){clearInterval(this.getDataInterval)}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"mb20"},[a("Input",{staticClass:"input_width",attrs:{placeholder:"运输批次号"},model:{value:t.searchData.lotNumber,callback:function(e){t.$set(t.searchData,"lotNumber","string"==typeof e?e.trim():e)},expression:"searchData.lotNumber"}}),t._v(" "),a("Select",{staticClass:"input_width",attrs:{placeholder:"承运商"},model:{value:t.searchData.carrierID,callback:function(e){t.$set(t.searchData,"carrierID","string"==typeof e?e.trim():e)},expression:"searchData.carrierID"}},t._l(t.carrierList,function(e){return a("Option",{key:e.ID,attrs:{value:e.ID}},[t._v(t._s(e.Name))])}),1),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]),t._v(" "),a("Button",{attrs:{type:"error"},on:{click:t.reset}},[t._v("重置")])],1),t._v(" "),a("Button",{attrs:{type:"primary",icon:"md-create",size:"small"},on:{click:function(e){return t.actionBtn("54545")}}},[t._v("详情")]),t._v(" "),a("div",[a("Table",{attrs:{columns:t.listTitle,data:t.listData,loading:t.loading},scopedSlots:t._u([{key:"DepartDate",fn:function(e){var r=e.row;return e.index,[a("p",[t._v(t._s(t._f("showDate")(r.DepartDate)))])]}},{key:"CarNumber",fn:function(e){var r=e.row;return e.index,[a("span",[t._v(t._s(r.CarNumber1))]),t._v("    \n        "),a("span",[t._v(t._s(r.CarNumber2))])]}},{key:"action",fn:function(e){var r=e.row;return e.index,[a("Button",{attrs:{type:"primary",icon:"md-create",size:"small"},on:{click:function(e){return t.actionBtn(r.LotNumber)}}},[t._v("详情")]),t._v(" "),a("Button",{attrs:{disabled:"",icon:"md-checkmark-circle",size:"small"}},[t._v("完成")])]}}])})],1),t._v(" "),a("div",{staticClass:"pages"},[a("Page",{attrs:{total:t.total,"page-size":t.searchData.PageSize,current:t.searchData.PageIndex},on:{"on-change":t.changePage}})],1),t._v(" "),a("Drawer",{attrs:{closable:!0,width:70},on:{"on-visible-change":t.DrawerState},model:{value:t.showTransportDetail,callback:function(e){t.showTransportDetail=e},expression:"showTransportDetail"}},[a("router-view")],1)],1)},staticRenderFns:[]};var n=a("VU/8")(i,s,!1,function(t){a("BuGk")},"data-v-46876898",null);e.default=n.exports}});
//# sourceMappingURL=42.ec9be4372fa17f83557d.js.map