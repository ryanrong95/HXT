webpackJsonp([56],{lJXc:function(t,a){},zj3P:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("gyMJ"),n=e("dciI"),s={data:function(){return{total:0,loading:!0,search_data:{PageIndex:1,PageSize:6,LotNumber:null,Carrier:null,StartDate:null,EndDate:null},list_title:[{type:"selection",width:60,align:"center"},{title:"运输批次号",slot:"LotNumber"},{title:"运输时间",slot:"DepartDate"},{title:"承运商",key:"CarrierName"},{title:"车牌号",slot:"CarNumber"},{title:"司机姓名",slot:"Driver"},{title:"运输类型",slot:"WaybillType"},{title:"截单状态",slot:"CuttingOrderStatus"},{title:"操作",slot:"action",width:100,align:"center"}],list_data:[],Carrierarr:[],OrderStatusarr:[]}},computed:{showTransportDetail:{get:function(){return this.$store.state.common.TransportDetail},set:function(t){}}},created:function(){this.CuttingOrderStatus(),this.getCustomTransport(),this.getCarriers()},mounted:function(){this.setnva()},methods:{CuttingOrderStatus:function(){var t=this;Object(r.h)().then(function(a){console.log(a),t.OrderStatusarr=a.obj})},getCustomTransport:function(){var t=this;Object(n.p)(this.search_data).then(function(a){console.log(a),t.list_data=a.obj.Data,t.total=a.obj.Total,t.loading=!1})},setnva:function(){this.$store.dispatch("setnvadata",[{title:"报关运输",href:"/TransportList"}])},action_btn:function(t){this.$store.dispatch("setTransportDetail",!0),this.$router.push({path:"/TransportList/TransportDetail/"+t})},Drawerstate:function(t){1==t?this.$store.dispatch("setTransportDetail",!0):(this.$store.dispatch("setTransportDetail",!1),this.$router.go(-1))},dyncMount:function(){this.$store.dispatch("setTransportDetail",!0),this.$router.push({path:"/TransportList/Customswindow"})},changepage:function(t){this.loading=!0,this.search_data.PageIndex=t,this.getCustomTransport()},changedata:function(t){this.search_data.StartDate=t[0],this.search_data.EndDate=t[1]},getCarriers:function(){var t=this;Object(r.d)().then(function(a){t.Carrierarr=a.obj})},search_btn:function(){null!=this.search_data.LotNumber||null!=this.search_data.Carrier||null!=this.search_data.StartDate||null!=this.search_data.EndDate?(this.loading=!0,this.search_data.PageIndex=1,this.getCustomTransport()):this.$Message.warning("请输入查询条件")},cancel_btn:function(){null==this.search_data.LotNumber&&null==this.search_data.Carrier&&void 0==this.search_data.Carrier&&null==this.search_data.StartDate&&null==this.search_data.EndDate||(this.search_data.LotNumber=null,this.search_data.StartDate=null,this.search_data.EndDate=null,this.search_data.Carrier=null,this.loading=!0,this.search_data.PageIndex=1,this.getCustomTransport(),this.$refs.element.handleClear())}}},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",[e("Input",{staticClass:"inputwidth",attrs:{placeholder:"运输批次号"},model:{value:t.search_data.LotNumber,callback:function(a){t.$set(t.search_data,"LotNumber","string"==typeof a?a.trim():a)},expression:"search_data.LotNumber"}}),t._v(" "),e("DatePicker",{ref:"element",staticStyle:{width:"200px"},attrs:{type:"daterange",placement:"bottom-end",placeholder:"选择开始与结束时间",editable:!1,separator:"  至  "},on:{"on-change":t.changedata}}),t._v(" "),e("Select",{ref:"resetSelect",staticClass:"inputwidth",attrs:{placeholder:"选择承运商"},model:{value:t.search_data.Carrier,callback:function(a){t.$set(t.search_data,"Carrier",a)},expression:"search_data.Carrier"}},t._l(t.Carrierarr,function(a,r){return e("Option",{key:r,attrs:{value:a.ID}},[t._v(t._s(a.Name))])}),1),t._v(" "),e("Button",{attrs:{type:"primary"},on:{click:t.search_btn}},[t._v("查询")]),t._v(" "),e("Button",{attrs:{type:"error"},on:{click:t.cancel_btn}},[t._v("清空")])],1),t._v(" "),e("div",{staticStyle:{margin:"15px 0",height:"35px"}},[e("div",{staticStyle:{width:"100px",float:"right"}},[e("Badge",{attrs:{count:5,type:"error"}},[e("Button",{attrs:{type:"primary",icon:"md-checkbox-outline"},on:{click:t.dyncMount}},[t._v("申报窗口")])],1)],1)]),t._v(" "),e("div",[e("Table",{ref:"selection",attrs:{columns:t.list_title,data:t.list_data,loading:t.loading},scopedSlots:t._u([{key:"LotNumber",fn:function(a){var r=a.row;return a.index,[e("p",[t._v(t._s(r.LotNumber))])]}},{key:"DepartDate",fn:function(a){var r=a.row;return a.index,[e("p",[t._v(t._s(t._f("showDate")(r.DepartDate)))])]}},{key:"CarNumber",fn:function(a){var r=a.row;return a.index,[e("span",[t._v(t._s(r.CarNumber1))]),t._v("    "),e("span",[t._v(t._s(r.CarNumber2))])]}},{key:"Driver",fn:function(a){var r=a.row;return a.index,[e("p",[t._v(t._s(r.Driver))])]}},{key:"WaybillType",fn:function(a){var r=a.row;return a.index,[e("p",[t._v(t._s(r.WaybillTypeDes))])]}},{key:"CuttingOrderStatus",fn:function(a){var r=a.row;return a.index,[e("p",[t._v(t._s(r.CuttingOrderStatusDes))])]}},{key:"action",fn:function(a){var r=a.row;return a.index,[e("Button",{attrs:{type:"primary",icon:"md-create",size:"small",disabled:200==r.CuttingOrderStatus},on:{click:function(a){return t.action_btn(r.LotNumber)}}},[t._v("处理")])]}}])}),t._v(" "),e("div",{staticClass:"pagebox"},[e("Page",{attrs:{total:t.total,"show-elevator":"",current:t.search_data.PageIndex,"page-size":t.search_data.PageSize},on:{"on-change":t.changepage}})],1)],1),t._v(" "),e("Drawer",{attrs:{closable:!0,"mask-closable":!1,width:85},on:{"on-visible-change":t.Drawerstate},model:{value:t.showTransportDetail,callback:function(a){t.showTransportDetail=a},expression:"showTransportDetail"}},[e("router-view")],1)],1)},staticRenderFns:[]};var o=e("VU/8")(s,i,!1,function(t){e("lJXc")},"data-v-00588079",null);a.default=o.exports}});
//# sourceMappingURL=56.87aa2dc34d645a31dbf5.js.map