webpackJsonp([33],{"7nMP":function(e,t){},hnlt:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("gyMJ"),r=(a("3PyT"),{name:"Storage",components:{},data:function(){return{interestlist:[],search_damin:[],loading1:!1,area_search:{ID:"",Purpose:"",ManagerID:""},loading:!0,isbtns:0,Physicshouse:[],modal8:!1,value:"",formValidate:{name:"",RegionCode:"",CrmWarehouse:"",Ownertype:1,Address:"",ResponsePerson:"",lease:"",interest:[],desc:"",ID:""},ruleValidate:{name:[{required:!0,message:"此项为必填",trigger:"blur"}],lease:[{required:!0,message:"此项为必填",trigger:"change"}],RegionCode:[{required:!0,message:"此项为必填",trigger:"change"}],interest:[{required:!0,type:"array",min:1,message:"Choose at least one hobby",trigger:"change"}],desc:[{required:!0,message:"此项为必填",trigger:"blur"}]},wearhoustitle:[{title:"库房名称",slot:"name"},{title:"库房编号",key:"ID"},{title:"库区数量",key:"Count"},{title:"业务类型",key:"PurposeDes"},{title:"所在地址",key:"Address"},{title:"备注",key:"Summary"},{title:"操作",slot:"action",align:"center",width:400}],wearhousdata:[],edit_datas:{}}},methods:{query_btn:function(){this.loading=!0,this.GetWarehouse(this.area_search)},empty_btn:function(){this.area_search.Type="",this.area_search.ID="",this.area_search.ManagerID="",this.area_search.Purpose="",this.loading=!0,this.GetWarehouse()},GetPurposes:function(){var e=this;Object(s.s)("").then(function(t){console.log(t),e.interestlist=t.obj})},remoteMethod2:function(e){var t=this;Object(s.k)(e).then(function(e){console.log(e),t.search_damin=e})},showmodel:function(e,t){1==e?(this.modal8=!0,this.isbtns=1):(this.modal8=!0,this.isbtns=2,this.edit_datas=t,this.formValidate={name:this.edit_datas.Name,RegionCode:this.edit_datas.RegionCode,CrmWarehouse:this.edit_datas.CrmWarehouse,Address:this.edit_datas.Address,ResponsePerson:this.edit_datas.ResponsePerson,lease:this.edit_datas.Addible.toString(),warehousetype:this.edit_datas.Type.toString(),interest:this.edit_datas.AbilitiesDes2,desc:this.edit_datas.Summary,ID:this.edit_datas.ID}),this.$refs.formValidate2.GetEnterprise(),this.$refs.formValidate2.GetAdmin(""),this.$refs.formValidate2.GetCrmWarehouse()},show:function(e){this.$router.push({path:"/area"})},goLogichouse:function(){this.$router.push({path:"/Logichouse"})},remove:function(e){console.log(e)},ok:function(){var e=this;if(this.$refs.formValidate2.handleSubmit(),0==this.$refs.formValidate2.istrue)this.modal8=!0;else{this.modal8=!1;var t={Type:1,FatherID:"",RegionCode:this.formValidate.RegionCode,CrmWarehouse:this.formValidate.CrmWarehouse,Name:this.formValidate.name,Address:this.formValidate.Address,Abilities:this.formValidate.interest.toString(),Addible:this.formValidate.lease,Summary:this.formValidate.desc,ResponsePerson:this.formValidate.ResponsePerson,ID:this.formValidate.ID};addhouse(t).then(function(t){0==t.val?(e.$Message.success(t.msg),e.getpfwms()):e.$Message.error(t.msg),e.cancel(),console.log(e.formValidate)})}},cancel:function(){this.$refs.formValidate2.handleReset(),this.formValidate.ID="",this.modal8=!1},setnva:function(){this.$store.dispatch("setnvadata",[{title:"库房",href:"/kufang"}])},confirm:function(){var e=this;this.$Modal.confirm({title:"删除",content:"<p>您确定要删除此库房吗？</p>",onOk:function(){e.$Message.info("删除成功")},onCancel:function(){e.$Message.info("取消删除")}})},GetWarehouse:function(e){var t=this;Object(s.x)(e).then(function(e){t.wearhousdata=e.obj.Data,t.loading=!1})}},mounted:function(){this.setnva(),this.GetWarehouse(),this.GetPurposes()}}),i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Storage"},[a("div",{staticClass:"search_btn"},[a("Input",{staticClass:"searchtable",attrs:{placeholder:"库房编号"},model:{value:e.area_search.ID,callback:function(t){e.$set(e.area_search,"ID","string"==typeof t?t.trim():t)},expression:"area_search.ID"}}),e._v(" "),a("Select",{staticClass:"searchtable",attrs:{filterable:"",placeholder:"业务类型"},model:{value:e.area_search.Purpose,callback:function(t){e.$set(e.area_search,"Purpose",t)},expression:"area_search.Purpose"}},e._l(e.interestlist,function(t,s){return a("Option",{key:t.index,attrs:{value:t.ID}},[e._v(e._s(t.purpose))])}),1),e._v(" "),a("Select",{staticClass:"searchtable",attrs:{placeholder:"请输入并选择负责人",filterable:"",remote:"","remote-method":e.remoteMethod2,loading:e.loading1},model:{value:e.area_search.ManagerID,callback:function(t){e.$set(e.area_search,"ManagerID",t)},expression:"area_search.ManagerID"}},e._l(e.search_damin,function(t,s){return a("Option",{key:s,attrs:{value:t.ID}},[e._v(e._s(t.RealName))])}),1),e._v(" "),a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:e.query_btn}},[e._v("查询")]),e._v(" "),a("Button",{attrs:{type:"error",icon:"ios-trash"},on:{click:e.empty_btn}},[e._v("清空")])],1),e._v(" "),a("div",[a("Table",{attrs:{columns:e.wearhoustitle,data:e.wearhousdata,loading:e.loading},scopedSlots:e._u([{key:"name",fn:function(t){var s=t.row;return[a("strong",[e._v(e._s(s.Name))]),e._v(" "),e._l(s.AbilitiesDes1,function(t){return a("Tag",{key:t.Key,attrs:{color:"#ac0"}},[e._v(e._s(t.Value))])})]}},{key:"action",fn:function(t){var s=t.row;return t.index,[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small",to:{name:"Logichouse",params:{fatherID:s.ID}}}},[e._v("查看门牌库房")]),e._v(" "),a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small",to:{name:"Areapage",params:{fatherID:s.ID}}}},[e._v("查看库区")])]}}])})],1),e._v(" "),a("div",{staticClass:"buttonbox"})])},staticRenderFns:[]};var o=a("VU/8")(r,i,!1,function(e){a("7nMP")},"data-v-75678b7e",null);t.default=o.exports}});
//# sourceMappingURL=33.c16e0c4d6ca6dcdb32d0.js.map