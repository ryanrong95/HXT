webpackJsonp([29],{"1tDe":function(t,a){},y7sT:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("dciI"),o={data:function(){return{columns1:[{title:"#",slot:"Indexs"},{title:"编号",slot:"Code"},{title:"操作",slot:"actions",align:"center"}],data1:[{name:"John Brown",age:18,address:"New York No. 1 Lake Park",date:"2016-10-03"},{name:"Jim Green",age:24,address:"London No. 1 Lake Park",date:"2016-10-01"},{name:"Joe Black",age:30,address:"Sydney No. 1 Lake Park",date:"2016-10-02"},{name:"Jon Snow",age:26,address:"Ottawa No. 2 Lake Park",date:"2016-10-04"}],titlemodel:"",showmodel:!1,Numberarr:100,fromdata:{area:"",frame:"",row:"",place:""},Waybill:"",PalletArr:[],loading:!0,total:0,pageIndex:1,pageSize:10}},created:function(){this.Waybill=sessionStorage.getItem("UserWareHouse")},mounted:function(){this.setnva(),this.CgShowPallets()},methods:{setnva:function(){this.$store.dispatch("setnvadata",[{title:"库位管理",href:""}])},CgShowPallets:function(){var t=this,a={whid:this.Waybill,pageIndex:this.pageIndex,pageSize:this.pageSize};Object(s.k)(a).then(function(a){t.PalletArr=a.obj.Data,t.total=a.obj.Total,t.loading=!1})},changepage:function(t){this.pageIndex=t,this.loading=!0,this.CgShowPallets()},ok_btn:function(){var t=this;if(console.log(this.fromdata),""==this.fromdata.frame||""==this.fromdata.area||""==this.fromdata.row||""==this.fromdata.place)this.$Message.error("请输入必填项");else{var a=(Array(2).join("0")+this.fromdata.frame).slice(-2),e=(Array(2).join("0")+this.fromdata.place).slice(-2),o="0"+this.fromdata.area+a+this.fromdata.row+e,n={whCode:this.Waybill,place:o};Object(s.i)(n).then(function(a){1==a.success?(t.$Message.success("添加成功"),t.showmodel=!1,t.CgShowPallets()):a.code&&t.$Message.error("已存在")})}},cancel_btn:function(){this.showmodel=!1},changeshowmodel:function(t){0==t&&(this.fromdata={area:"",frame:"",row:"",place:""})},openmodel:function(t){console.log(t),this.titlemodel=1==t?"添加库位":"修改库位",this.showmodel=!0},confirmDel:function(t){var a=this;t=t;this.$Modal.confirm({title:"删除",content:"<p>是否确认删除此库位?</p>",onOk:function(){var e={id:t};Object(s.c)(e).then(function(t){1==t.success?(a.$Message.success("删除成功"),a.CgShowPallets()):a.$Message.error("删除失败,请联系管理员")})},onCancel:function(){a.$Message.info("取消删除")}})}}},n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",[e("h1",{staticClass:"titlestyle"},[t._v("当前库房编号：HK01")]),t._v(" "),e("Button",{attrs:{type:"primary"},on:{click:function(a){return t.openmodel(1)}}},[t._v("添加库位")])],1),t._v(" "),e("div",{staticClass:"tablebox"},[e("Table",{attrs:{columns:t.columns1,data:t.PalletArr},scopedSlots:t._u([{key:"Indexs",fn:function(a){a.row;var s=a.index;return[e("span",[t._v(t._s(s+1))])]}},{key:"Code",fn:function(a){var s=a.row;return a.index,[e("span",[t._v(t._s(s.PlaceIDs))])]}},{key:"actions",fn:function(a){var s=a.row;return a.index,[e("Button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.confirmDel(s.PlaceIDs)}}},[t._v("删除库位")])]}}])}),t._v(" "),e("div",{staticClass:"pagebox"},[e("Page",{attrs:{total:t.total,"page-size":t.pageSize,current:t.pageIndex},on:{"on-change":t.changepage}})],1)],1),t._v(" "),e("Modal",{attrs:{title:t.titlemodel},on:{"on-visible-change":t.changeshowmodel},model:{value:t.showmodel,callback:function(a){t.showmodel=a},expression:"showmodel"}},[e("div",{staticClass:"inputbox"},[e("label",{staticClass:"title_lable",attrs:{for:""}},[e("span",{staticClass:"bitian"},[t._v("*")]),t._v("库区：")]),t._v(" "),e("Select",{staticClass:"inputwidth",attrs:{filterable:""},model:{value:t.fromdata.area,callback:function(a){t.$set(t.fromdata,"area",a)},expression:"fromdata.area"}},t._l(26,function(a,s){return e("Option",{key:s,attrs:{value:String.fromCharCode(65+s)}},[t._v(t._s(String.fromCharCode(65+s)))])}),1)],1),t._v(" "),e("div",{staticClass:"inputbox"},[e("label",{staticClass:"title_lable",attrs:{for:""}},[e("span",{staticClass:"bitian"},[t._v("*")]),t._v("货架号：")]),t._v(" "),e("Select",{staticClass:"inputwidth",attrs:{filterable:""},model:{value:t.fromdata.frame,callback:function(a){t.$set(t.fromdata,"frame",a)},expression:"fromdata.frame"}},t._l(100,function(a,s){return e("Option",{key:s,attrs:{value:s}},[t._v(t._s(s))])}),1)],1),t._v(" "),e("div",{staticClass:"inputbox"},[e("label",{staticClass:"title_lable",attrs:{for:""}},[e("span",{staticClass:"bitian"},[t._v("*")]),t._v("层号：")]),t._v(" "),e("Select",{staticClass:"inputwidth",attrs:{filterable:""},model:{value:t.fromdata.row,callback:function(a){t.$set(t.fromdata,"row",a)},expression:"fromdata.row"}},t._l(t.Numberarr,function(a,s){return e("Option",{key:s,attrs:{value:a}},[t._v(t._s(a))])}),1)],1),t._v(" "),e("div",{staticClass:"inputbox"},[e("label",{staticClass:"title_lable",attrs:{for:""}},[e("span",{staticClass:"bitian"},[t._v("*")]),t._v("库位号：")]),t._v(" "),e("Select",{staticClass:"inputwidth",attrs:{filterable:""},model:{value:t.fromdata.place,callback:function(a){t.$set(t.fromdata,"place",a)},expression:"fromdata.place"}},t._l(100,function(a,s){return e("Option",{key:s,attrs:{value:s}},[t._v(t._s(s))])}),1)],1),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{on:{click:t.cancel_btn}},[t._v("取消")]),t._v(" "),e("Button",{attrs:{type:"primary"},on:{click:t.ok_btn}},[t._v("确定")])],1)])],1)},staticRenderFns:[]};var i=e("VU/8")(o,n,!1,function(t){e("1tDe")},"data-v-b34d6e7c",null);a.default=i.exports}});
//# sourceMappingURL=29.d9308745c3a1bdc2516e.js.map